LavaPack.loadBundle([[5124,{"../../../../shared/constants/network":4977,"../../../../shared/constants/time":4988,"../../../helpers/constants/design-system":5858,"../../component-library":5440,"../../ui/box/box":5694,"../../ui/loading-screen":5755,"../../ui/popover/popover.component":5781,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=p(e("prop-types")),o=p(e("../../ui/loading-screen")),i=e("../../../../shared/constants/time"),s=e("../../../../shared/constants/network"),l=p(e("../../ui/popover/popover.component")),u=e("../../component-library"),c=e("../../../helpers/constants/design-system"),d=p(e("../../ui/box/box"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.PureComponent{constructor(...e){super(...e),m(this,"state",{showErrorScreen:!1}),m(this,"componentDidMount",(()=>{this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)})),m(this,"getConnectingLabel",(function(e){if(e)return e;const{providerConfig:t,providerId:n}=this.props,r=t.type,{t:a}=this.context;if(s.DEPRECATED_NETWORKS.includes(t.chainId)){return a("connectingToDeprecatedNetwork",[t.nickname||t.type])}switch(r){case s.NETWORK_TYPES.MAINNET:return a("connectingToMainnet");case s.NETWORK_TYPES.GOERLI:return a("connectingToGoerli");case s.NETWORK_TYPES.SEPOLIA:return a("connectingToSepolia");case s.NETWORK_TYPES.LINEA_GOERLI:return a("connectingToLineaGoerli");case s.NETWORK_TYPES.LINEA_SEPOLIA:return a("connectingToLineaSepolia");case s.NETWORK_TYPES.LINEA_MAINNET:return a("connectingToLineaMainnet");default:return a("connectingTo",[n])}})),m(this,"renderConnectionFailureNotification",((e,t=!1)=>{const{showNetworkDropdown:n,setProviderArgs:a,setProviderType:o}=this.props;return r.default.createElement(l.default,{onClose:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1})},centerTitle:!0,title:r.default.createElement(u.Icon,{name:u.IconName.Danger,size:u.IconSize.Xl,color:c.IconColor.warningDefault})},r.default.createElement(u.Text,{variant:c.TextVariant.bodyLgMedium,textAlign:c.TextAlign.Center,margin:[0,4,4,4]},e),r.default.createElement(d.default,{display:c.DISPLAY.FLEX,padding:4,gap:2},r.default.createElement(u.ButtonSecondary,{onClick:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),n()},variant:c.TextVariant.bodySm,block:!0},this.context.t("switchNetworks")),t?r.default.createElement(u.ButtonPrimary,{onClick:()=>{this.setState({showErrorScreen:!1}),o(...a),window.clearTimeout(this.cancelCallTimeout),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)},variant:c.TextVariant.bodySm,block:!0},this.context.t("tryAgain")):null))})),m(this,"renderDeprecatedRpcUrlWarning",(()=>this.renderConnectionFailureNotification(this.context.t("currentRpcUrlDeprecated"),!1))),m(this,"renderErrorScreenContent",(()=>{const{providerConfig:e}=this.props;return this.renderConnectionFailureNotification(this.context.t("networkSwitchConnectionError",[e.nickname]),!0)})),m(this,"cancelCall",(()=>{const{isNetworkLoading:e}=this.props;e&&this.setState({showErrorScreen:!0})})),m(this,"componentDidUpdate",(e=>{const{providerConfig:t}=this.props,{providerConfig:n}=e;t.type!==n.type&&(window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND))})),m(this,"componentWillUnmount",(()=>{window.clearTimeout(this.cancelCallTimeout)}))}render(){const{rollbackToPreviousProvider:e,showDeprecatedRpcUrlWarning:t}=this.props;let n;return n=this.state.showErrorScreen?this.renderErrorScreenContent():t?this.renderDeprecatedRpcUrlWarning():this.getConnectingLabel(this.props.loadingMessage),r.default.createElement(o.default,{header:r.default.createElement("div",{className:"page-container__header-close",onClick:e}),showLoadingSpinner:!this.state.showErrorScreen,loadingMessage:n})}}n.default=h,m(h,"contextTypes",{t:a.default.func}),m(h,"propTypes",{loadingMessage:a.default.string,cancelTime:a.default.number,providerConfig:a.default.object,providerId:a.default.oneOfType([a.default.string,a.default.number]),showNetworkDropdown:a.default.func,setProviderArgs:a.default.array,setProviderType:a.default.func,rollbackToPreviousProvider:a.default.func,isNetworkLoading:a.default.bool,showDeprecatedRpcUrlWarning:a.default.bool})}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.component.js"}],[5125,{"../../../../shared/constants/network":4977,"../../../ducks/metamask/metamask":5846,"../../../selectors":6533,"../../../store/actions":6546,"./loading-network-screen.component":5124,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../../shared/constants/network"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("../../../store/actions")),s=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),u=(r=e("./loading-network-screen.component"))&&r.__esModule?r:{default:r};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=["0x3","0x2a","0x4"];n.default=(0,a.connect)((e=>{const{loadingMessage:t}=e.appState,n=(0,l.getProviderConfig)(e),{rpcUrl:r,chainId:a,ticker:i,nickname:u,type:c}=n,p=c===o.NETWORK_TYPES.RPC?[r,a,i,u]:[c],f=a,m=d.includes(f),h=r&&new URL(r).host.endsWith(".infura.io"),g=m&&h;let y=u;if(y===undefined){const t=(0,s.getAllEnabledNetworks)(e).find((e=>e.chainId===a));t&&(y=t.nickname)}return{isNetworkLoading:(0,s.isNetworkLoading)(e),loadingMessage:t,setProviderArgs:p,providerConfig:{...n,nickname:y},providerId:(0,s.getNetworkIdentifier)(e),showDeprecatedRpcUrlWarning:g}}),(e=>({setProviderType:t=>{e(i.setProviderType(t))},rollbackToPreviousProvider:()=>e(i.rollbackToPreviousProvider()),showNetworkDropdown:()=>e(i.toggleNetworkMenu())})))(u.default)}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.container.js"}],[5126,{"./metamask-template-renderer":5127,"./section-shape":5129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SectionShape",{enumerable:!0,get:function(){return o.SectionShape}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./metamask-template-renderer"))&&r.__esModule?r:{default:r},o=e("./section-shape")}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/index.js"}],[5127,{"./safe-component-list":5128,"./section-shape":5129,lodash:4322,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("lodash"),o=e("./safe-component-list"),i=e("./section-shape");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e){const{element:t}=e,n=o.safeComponentList[t];if(!n)throw new Error(`${t} is not in the safe component list for MetaMask template renderer`);return n}function c(e){const t=u(e),n=e.propComponents?d(e.propComponents):{};return r.default.createElement(t,l({},e.props,n),"object"==typeof e.children?r.default.createElement(p,{sections:e.children}):null==e?void 0:e.children)}function d(e){return Object.entries(e).reduce(((e,[t,n])=>(n&&(e[t]=c(n)),e)),{})}const p=({sections:e})=>e?"string"==typeof e?e:e&&"object"==typeof e&&!Array.isArray(e)?c(e):r.default.createElement(r.default.Fragment,null,e.reduce(((e,t)=>{if(t===undefined||!0===(null==t?void 0:t.hide))return e;if("string"==typeof t)e.push(t);else{if(!t.key)throw new Error("When using array syntax in MetaMask Template Language, you must specify a key for each child of the array");if("object"==typeof(null==t?void 0:t.children))e.push(r.default.createElement(p,{sections:t,key:t.key}));else{const n=u(t),a=t.propComponents?d(t.propComponents):{};e.push(r.default.createElement(n,l({key:t.key},t.props,a),null==t?void 0:t.children))}}return e}),[])):null;p.propTypes={sections:i.ValidChildren};n.default=(0,r.memo)(p,((e,t)=>(0,a.isEqual)(e.sections,t.sections)))}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/metamask-template-renderer.js"}],[5128,{"../../../pages/confirmations/components/snap-account-error-message":6164,"../../../pages/confirmations/components/snap-account-success-message":6166,"../../../pages/confirmations/confirmation/components/confirmation-network-switch":6207,"../../../pages/create-snap-account":6286,"../../../pages/remove-snap-account":6365,"../../../pages/smart-transactions/smart-transaction-status-page":6431,"../../../pages/snap-account-redirect":6438,"../../component-library":5440,"../../multichain":5584,"../../ui/actionable-message/actionable-message":5691,"../../ui/box":5695,"../../ui/button":5699,"../../ui/chip":5706,"../../ui/definition-list":5712,"../../ui/popover":5780,"../../ui/spinner":5793,"../../ui/text-field":5801,"../../ui/textarea/textarea":5804,"../../ui/tooltip/tooltip":5810,"../../ui/truncated-definition-list":5811,"../../ui/typography":5813,"../../ui/url-icon":5818,"../confirm/info/row":5074,"../metamask-translation":5130,"../network-display":5188,"../snaps/copyable":5233,"../snaps/snap-authorship-header":5244,"../snaps/snap-delineator":5249,"../snaps/snap-ui-button":5272,"../snaps/snap-ui-checkbox":5274,"../snaps/snap-ui-dropdown":5276,"../snaps/snap-ui-file-input":5278,"../snaps/snap-ui-form":5280,"../snaps/snap-ui-image":5282,"../snaps/snap-ui-input":5284,"../snaps/snap-ui-link":5286,"../snaps/snap-ui-markdown":5288,"../snaps/snap-ui-tooltip":5315},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.safeComponentList=void 0;var r=L(e("../../ui/button")),a=L(e("../../ui/chip")),o=L(e("../../ui/definition-list")),i=L(e("../../ui/truncated-definition-list")),s=L(e("../../ui/popover")),l=L(e("../../ui/typography")),u=L(e("../../ui/box")),c=L(e("../metamask-translation")),d=L(e("../network-display")),p=L(e("../../ui/textarea/textarea")),f=L(e("../../ui/text-field")),m=L(e("../../../pages/confirmations/confirmation/components/confirmation-network-switch")),h=L(e("../../ui/url-icon")),g=L(e("../../ui/tooltip/tooltip")),y=e("../../component-library"),b=L(e("../../ui/actionable-message/actionable-message")),v=e("../../multichain"),_=e("../confirm/info/row"),w=e("../snaps/snap-delineator"),x=e("../snaps/copyable"),k=L(e("../../ui/spinner")),T=e("../snaps/snap-ui-markdown"),C=e("../snaps/snap-ui-link"),E=e("../../../pages/smart-transactions/smart-transaction-status-page"),M=e("../snaps/snap-ui-image"),O=e("../snaps/snap-ui-file-input"),S=e("../snaps/snap-ui-input"),j=e("../snaps/snap-ui-form"),P=e("../snaps/snap-ui-button"),I=e("../snaps/snap-ui-dropdown"),N=e("../snaps/snap-ui-checkbox"),D=e("../snaps/snap-ui-tooltip"),R=e("../../../pages/confirmations/components/snap-account-success-message"),B=e("../../../pages/confirmations/components/snap-account-error-message"),A=e("../../../pages/create-snap-account"),$=e("../../../pages/remove-snap-account"),W=e("../../../pages/snap-account-redirect"),F=L(e("../snaps/snap-authorship-header"));function L(e){return e&&e.__esModule?e:{default:e}}n.safeComponentList={a:"a",ActionableMessage:b.default,AccountListItem:v.AccountListItem,AvatarIcon:y.AvatarIcon,b:"b",Box:u.default,Button:r.default,Chip:a.default,ConfirmationNetworkSwitch:m.default,DefinitionList:o.default,div:"div",i:"i",MetaMaskTranslation:c.default,NetworkDisplay:d.default,p:"p",Popover:s.default,span:"span",Text:y.Text,TextArea:p.default,TextField:f.default,Tooltip:g.default,TruncatedDefinitionList:i.default,Typography:l.default,SmartTransactionStatusPage:E.SmartTransactionStatusPage,UrlIcon:h.default,Copyable:x.Copyable,SnapDelineator:w.SnapDelineator,SnapUIMarkdown:T.SnapUIMarkdown,SnapUILink:C.SnapUILink,SnapUIImage:M.SnapUIImage,Spinner:k.default,ConfirmInfoRow:_.ConfirmInfoRow,ConfirmInfoRowAddress:_.ConfirmInfoRowAddress,ConfirmInfoRowValueDouble:_.ConfirmInfoRowValueDouble,SnapUIFileInput:O.SnapUIFileInput,SnapUIInput:S.SnapUIInput,SnapUIButton:P.SnapUIButton,SnapUIForm:j.SnapUIForm,SnapUIDropdown:I.SnapUIDropdown,SnapUICheckbox:N.SnapUICheckbox,SnapUITooltip:D.SnapUITooltip,CreateSnapAccount:A.CreateSnapAccount,RemoveSnapAccount:$.RemoveSnapAccount,SnapAccountSuccessMessage:R.SnapAccountSuccessMessage,SnapAccountErrorMessage:B.SnapAccountErrorMessage,SnapAuthorshipHeader:F.default,SnapAccountRedirect:W.SnapAccountRedirect,SnapAccountCard:$.SnapAccountCard}}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/safe-component-list.js"}],[5129,{"prop-types":4469},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValidChildren=n.SectionShape=void 0;var r,a=(r=e("prop-types"))&&r.__esModule?r:{default:r};const o=n.SectionShape={props:a.default.object,propComponents:a.default.object,element:a.default.string,key:a.default.string},i=n.ValidChildren=a.default.oneOfType([a.default.string,a.default.shape(o),a.default.arrayOf(a.default.oneOfType([a.default.shape(o),a.default.string]))]);o.children=i}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/section-shape.js"}],[5130,{"./metamask-translation":5131},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./metamask-translation"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/metamask-translation/index.js"}],[5131,{"../../../hooks/useI18nContext":5935,"../metamask-template-renderer":5126,"../metamask-template-renderer/section-shape":5129,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../hooks/useI18nContext"),i=l(e("../metamask-template-renderer")),s=e("../metamask-template-renderer/section-shape");function l(e){return e&&e.__esModule?e:{default:e}}function u({translationKey:e,variables:t}){return(0,o.useI18nContext)()(e,null==t?void 0:t.map((t=>{if("object"==typeof t&&!Array.isArray(t)&&t.element){var n,a;if(!t.key)throw new Error(`When using MetaMask Template Language in a MetaMaskTranslation variable, you must provide a key for the section regardless of syntax.\n            Section with element '${t.element}' for translationKey: '${e}' has no key property`);if(t.children&&Array.isArray(t.children)&&t.children.length>2)throw new Error("MetaMaskTranslation only renders templates with a single section and maximum two children");if((null===(n=t.children)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.children)!==undefined&&"string"!=typeof t.children[0].children||(null===(a=t.children)||void 0===a||null===(a=a[1])||void 0===a?void 0:a.children)!==undefined&&"string"!=typeof t.children[1].children)throw new Error("MetaMaskTranslation does not allow for component trees of non trivial depth");return r.default.createElement(i.default,{key:`${e}-${t.key}`,sections:t})}return t})))}u.propTypes={translationKey:a.default.string.isRequired,variables:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.number,a.default.shape(s.SectionShape)]))}}}},{package:"$root$",file:"ui/components/app/metamask-translation/metamask-translation.js"}],[5132,{"./modal-content":5133,"./modal.component":5135},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=o(e("./modal.component")),a=o(e("./modal-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modal/index.js"}],[5133,{"./modal-content.component":5134},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./modal-content.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modal/modal-content/index.js"}],[5134,{"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}class s extends a.PureComponent{render(){const{title:e,description:t}=this.props;return a.default.createElement("div",{className:"modal-content"},e?a.default.createElement("div",{className:"modal-content__title"},e):null,t&&a.default.createElement("div",{className:"modal-content__description"},t))}}n.default=s,function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(s,"propTypes",{title:o.default.string,description:o.default.string})}}},{package:"$root$",file:"ui/components/app/modal/modal-content/modal-content.component.js"}],[5135,{"../../ui/button":5699,classnames:3543,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=s(e("prop-types")),o=s(e("classnames")),i=s(e("../../ui/button"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{render(){const{children:e,headerText:t,onClose:n,onSubmit:a,submitType:s,submitText:l,submitDisabled:u,onCancel:c,cancelType:d,cancelText:p,contentClass:f,containerClass:m,hideFooter:h,testId:g}=this.props;return r.default.createElement("div",{className:(0,o.default)("modal-container",m),"data-testid":g},t&&r.default.createElement("div",{className:"modal-container__header"},r.default.createElement("div",{className:"modal-container__header-text"},t),r.default.createElement("div",{className:"modal-container__header-close","data-testid":"modal-header-close",onClick:n})),r.default.createElement("div",{className:(0,o.default)("modal-container__content",f)},e),h?null:r.default.createElement("div",{className:"modal-container__footer"},c&&r.default.createElement(i.default,{type:d,onClick:c,className:"modal-container__footer-button"},p),r.default.createElement(i.default,{type:s,onClick:a,disabled:u,className:"modal-container__footer-button"},l)))}}n.default=c,u(c,"propTypes",{children:a.default.node,contentClass:a.default.string,containerClass:a.default.string,testId:a.default.string,headerText:a.default.string,onClose:a.default.func,onSubmit:a.default.func,submitType:a.default.string,submitText:a.default.string,submitDisabled:a.default.bool,hideFooter:a.default.bool,onCancel:a.default.func,cancelType:a.default.string,cancelText:a.default.string}),u(c,"defaultProps",{submitType:"primary",cancelType:"secondary"})}}},{package:"$root$",file:"ui/components/app/modal/modal.component.js"}],[5136,{"../../modal":5132,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=l(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{constructor(...e){super(...e),u(this,"handleDelete",(async()=>{await this.props.removeNetworkConfiguration(this.props.target),this.props.onConfirm(),this.props.hideModal()}))}render(){const{t:e}=this.context,{networkNickname:t}=this.props;return a.default.createElement(i.default,{onSubmit:this.handleDelete,onCancel:()=>this.props.hideModal(),submitText:e("delete"),cancelText:e("cancel"),submitType:"danger-primary",testId:"confirm-delete-network-modal"},a.default.createElement(i.ModalContent,{title:e("deleteNetworkTitle",[t]),description:e("deleteNetworkIntro")}))}}n.default=c,u(c,"propTypes",{hideModal:o.default.func.isRequired,removeNetworkConfiguration:o.default.func.isRequired,onConfirm:o.default.func.isRequired,target:o.default.string.isRequired,networkNickname:o.default.string.isRequired}),u(c,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.component.js"}],[5137,{"../../../../helpers/higher-order-components/with-modal-props":5879,"../../../../selectors":6533,"../../../../store/actions":6546,"./confirm-delete-network.component":5136,"react-redux":4675,redux:4737},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=u(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=e("../../../../selectors"),l=u(e("./confirm-delete-network.component"));function u(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(o.default,(0,r.connect)(((e,t)=>({networkNickname:(0,s.getNetworkConfigurations)(e)[t.target].nickname})),(e=>({removeNetworkConfiguration:t=>e((0,i.removeNetworkConfiguration)(t))}))))(l.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.container.js"}],[5138,{"./confirm-delete-network.container":5137},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./confirm-delete-network.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/index.js"}],[5139,{"../../../../helpers/constants/design-system":5858,"../../../../hooks/useI18nContext":5935,"../../../../store/actions":6546,"../../../component-library":5440,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=e("react"))&&r.__esModule?r:{default:r},o=e("react-redux"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../../hooks/useI18nContext"),u=e("../../../../store/actions");n.default=()=>{const e=(0,l.useI18nContext)(),t=(0,o.useDispatch)();return a.default.createElement(s.Modal,{isClosedOnEscapeKey:!0,isClosedOnOutsideClick:!0,isOpen:!0,onClose:()=>{t((0,u.setEditedNetwork)()),t((0,u.hideModal)())}},a.default.createElement(s.ModalOverlay,null),a.default.createElement(s.ModalContent,null,a.default.createElement(s.ModalHeader,null,e("confirmDeletion")),a.default.createElement(s.ModalBody,null,a.default.createElement(s.Box,null,e("confirmRpcUrlDeletionMessage")),a.default.createElement(s.Box,{display:i.Display.Flex,gap:4,marginTop:6},a.default.createElement(s.ButtonSecondary,{width:i.BlockSize.Full,size:s.ButtonSecondarySize.Lg,onClick:()=>{t((0,u.hideModal)()),t((0,u.toggleNetworkMenu)())}},e("back")),a.default.createElement(s.ButtonPrimary,{width:i.BlockSize.Full,size:s.ButtonPrimarySize.Lg,danger:!0,onClick:()=>{console.log("TODO: Delete RPc URL")}},e("deleteRpcUrl"))))))}}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-rpc-url-modal/confirm-delete-rpc-url-modal.tsx"}],[5140,{"../../../../../shared/constants/metametrics":4973,"../../../../helpers/constants/zendesk-url":5871,"../../../../helpers/utils/multichain/blockExplorer":5895,"../../../../helpers/utils/util":5906,"../../../../selectors/multichain":6538,"../../../ui/identicon":5746,"../../modal":5132,"@metamask/keyring-api":1566,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=f(e("prop-types")),o=e("@metamask/keyring-api"),i=e("../../../../helpers/utils/multichain/blockExplorer"),s=f(e("../../modal")),l=e("../../../../helpers/utils/util"),u=f(e("../../../ui/identicon")),c=e("../../../../../shared/constants/metametrics"),d=f(e("../../../../helpers/constants/zendesk-url")),p=e("../../../../selectors/multichain");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{constructor(...e){super(...e),h(this,"handleRemove",(()=>{this.props.removeAccount(this.props.account.address).then((()=>this.props.hideModal()))})),h(this,"handleCancel",(()=>{this.props.hideModal()}))}renderSelectedAccount(){const{t:e}=this.context,{account:t,network:n}=this.props;return r.default.createElement("div",{className:"confirm-remove-account__account"},r.default.createElement("div",{className:"confirm-remove-account__account__identicon"},r.default.createElement(u.default,{address:t.address,diameter:32})),r.default.createElement("div",{className:"confirm-remove-account__account__name"},r.default.createElement("span",{className:"confirm-remove-account__account__label"},e("name")),r.default.createElement("span",{className:"account_value"},t.metadata.name)),r.default.createElement("div",{className:"confirm-remove-account__account__address"},r.default.createElement("span",{className:"confirm-remove-account__account__label"},e("publicAddress")),r.default.createElement("span",{className:"account_value"},(0,l.addressSummary)(t.address,4,4,(0,o.isEvmAccountType)(t.type)))),r.default.createElement("div",{className:"confirm-remove-account__account__link"},r.default.createElement("a",{onClick:()=>{const e=(0,i.getMultichainAccountUrl)(t.address,n);this.context.trackEvent({category:c.MetaMetricsEventCategory.Accounts,event:"Clicked Block Explorer Link",properties:{link_type:"Account Tracker",action:"Remove Account",block_explorer_domain:(0,l.getURLHostName)(e)}}),global.platform.openTab({url:e})},target:"_blank",rel:"noopener noreferrer",title:e("etherscanView"),"data-testid":"explorer-link"},r.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-muted)"},title:e("etherscanView")}))))}render(){const{t:e}=this.context;return r.default.createElement(s.default,{headerText:`${e("removeAccount")}?`,onClose:this.handleCancel,onSubmit:this.handleRemove,onCancel:this.handleCancel,submitText:e("remove"),cancelText:e("nevermind")},r.default.createElement("div",null,this.renderSelectedAccount(),r.default.createElement("div",{className:"confirm-remove-account__description"},e("removeAccountDescription"),r.default.createElement("a",{className:"confirm-remove-account__link",rel:"noopener noreferrer",target:"_blank",href:d.default.IMPORTED_ACCOUNTS},e("learnMore")))))}}n.default=g,h(g,"propTypes",{hideModal:a.default.func.isRequired,removeAccount:a.default.func.isRequired,account:p.InternalAccountPropType.isRequired,network:p.MultichainNetworkPropType.isRequired}),h(g,"contextTypes",{t:a.default.func,trackEvent:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.component.js"}],[5141,{"../../../../helpers/higher-order-components/with-modal-props":5879,"../../../../selectors/multichain":6538,"../../../../store/actions":6546,"./confirm-remove-account.component":5140,"react-redux":4675,redux:4737},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=u(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=e("../../../../selectors/multichain"),l=u(e("./confirm-remove-account.component"));function u(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(o.default,(0,r.connect)(((e,t)=>({network:(0,s.getMultichainNetwork)(e,t.account)})),(e=>({removeAccount:t=>e((0,i.removeAccount)(t))}))))(l.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.container.js"}],[5142,{"./confirm-remove-account.container":5141},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./confirm-remove-account.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/index.js"}],[5143,{"../../modal":5132,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=l(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{constructor(...e){super(...e),u(this,"handleReset",(()=>{this.props.resetAccount().then((()=>this.props.hideModal()))}))}render(){const{t:e}=this.context;return a.default.createElement(i.default,{onSubmit:this.handleReset,onCancel:()=>this.props.hideModal(),submitText:e("clear"),cancelText:e("nevermind"),submitType:"danger-primary"},a.default.createElement(i.ModalContent,{title:`${e("clearActivity")}?`,description:e("clearActivityDescription")}))}}n.default=c,u(c,"propTypes",{hideModal:o.default.func.isRequired,resetAccount:o.default.func.isRequired}),u(c,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.component.js"}],[5144,{"../../../../helpers/higher-order-components/with-modal-props":5879,"../../../../store/actions":6546,"./confirm-reset-account.component":5143,"react-redux":4675,redux:4737},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=l(e("./confirm-reset-account.component"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(o.default,(0,r.connect)(null,(e=>({resetAccount:()=>e((0,i.resetAccount)())}))))(s.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.container.js"}],[5145,{"./confirm-reset-account.container":5144},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./confirm-reset-account.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/index.js"}],[5146,{"../../../../contexts/i18n":5823,"../../../../helpers/constants/design-system":5858,"../../../../hooks/useModalProps":5938,"../../../component-library":5440,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{props:e,hideModal:t}=(0,a.useModalProps)(),{turnOffProfileSyncing:n}=e,l=(0,r.useContext)(s.I18nContext),u=()=>{t()};return r.default.createElement(o.Modal,{isOpen:!0,onClose:u,"data-testid":"turn-off-sync-modal"},r.default.createElement(o.ModalOverlay,{"data-testid":"modal-overlay"}),r.default.createElement(o.ModalContent,{size:o.ModalContentSize.Md,"data-testid":"modal-content"},r.default.createElement(o.ModalHeader,{onClose:u,"data-testid":"modal-header"},l("areYouSure")),r.default.createElement(o.ModalBody,{"data-testid":"modal-body"},r.default.createElement(o.Text,{textAlign:i.TextAlign.Center,as:"p","data-testid":"confirmation-text"},l("profileSyncConfirmation"))),r.default.createElement(o.ModalFooter,{paddingTop:4,onSubmit:u,onCancel:async()=>{n(),t()},containerProps:{flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.stretch},submitButtonProps:{children:l("cancel"),size:o.ButtonSize.Lg,"data-testid":"cancel-button"},cancelButtonProps:{children:l("turnOff"),size:o.ButtonSize.Lg,"data-testid":"submit-button"},"data-testid":"modal-footer"})))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("../../../../hooks/useModalProps"),o=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../contexts/i18n");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/modals/confirm-turn-off-profile-syncing/confirm-turn-off-profile-syncing.tsx"}],[5147,{"./confirm-turn-off-profile-syncing":5146},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./confirm-turn-off-profile-syncing"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/confirm-turn-off-profile-syncing/index.ts"}],[5148,{"../../../../../shared/modules/string-utils":5030,"../../../../ducks/metamask/metamask":5846,"../../../../helpers/constants/design-system":5858,"../../../../helpers/constants/routes":5864,"../../../../helpers/higher-order-components/with-modal-props":5879,"../../../../hooks/useI18nContext":5935,"../../../../store/actions":6546,"../../../ui/typography":5813,"../../modal":5132,"prop-types":4469,react:4719,"react-redux":4675,"react-router-dom":4704},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=g(e("react")),a=g(e("prop-types")),o=e("react-router-dom"),i=e("react-redux"),s=g(e("../../modal")),l=g(e("../../../ui/typography")),u=e("../../../../helpers/constants/design-system"),c=g(e("../../../../helpers/higher-order-components/with-modal-props")),d=e("../../../../hooks/useI18nContext"),p=e("../../../../helpers/constants/routes"),f=e("../../../../ducks/metamask/metamask"),m=e("../../../../store/actions"),h=e("../../../../../shared/modules/string-utils");function g(e){return e&&e.__esModule?e:{default:e}}const y=({hideModal:e,tokenAddress:t})=>{const n=(0,o.useHistory)(),a=(0,d.useI18nContext)(),c=(0,i.useDispatch)(),g=(0,i.useSelector)(f.getNfts).find((({address:e})=>(0,h.isEqualCaseInsensitive)(e,t)));return r.default.createElement(s.default,{onSubmit:async()=>{if(g){await c((0,m.ignoreTokens)({tokensToIgnore:t,dontShowLoadingIndicator:!0}));const{tokenId:e}=g;n.push({pathname:`${p.ASSET_ROUTE}/${t}/${e}`})}else c((0,m.showImportNftsModal)({tokenAddress:t,ignoreErc20Token:!0}));e()},submitText:a("yes"),onCancel:()=>e(),cancelText:a("cancel")},r.default.createElement("div",{className:"convert-token-to-nft-modal"},r.default.createElement(l.default,{variant:u.TypographyVariant.H6,boxProps:{marginTop:2}},a(g?"convertTokenToNFTExistDescription":"convertTokenToNFTDescription"))))};y.propTypes={hideModal:a.default.func.isRequired,tokenAddress:a.default.string};n.default=(0,c.default)(y)}}},{package:"$root$",file:"ui/components/app/modals/convert-token-to-nft-modal/convert-token-to-nft-modal.js"}],[5149,{"../../../../helpers/constants/design-system":5858,"../../../../helpers/constants/zendesk-url":5871,"../../../../helpers/higher-order-components/with-modal-props":5879,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,"../../../ui/text-field":5801,"../../modal":5132,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=p(e("prop-types")),o=p(e("../../modal")),i=p(e("../../../ui/text-field")),s=e("../../../../helpers/constants/design-system"),l=p(e("../../../../helpers/higher-order-components/with-modal-props")),u=e("../../../../hooks/useI18nContext"),c=p(e("../../../../helpers/constants/zendesk-url")),d=e("../../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const m=({hideModal:e,customNonceValue:t,nextNonce:n,updateCustomNonce:a,getNextNonce:l})=>{const[p,f]=(0,r.useState)(""),m=(0,u.useI18nContext)();return r.default.createElement(o.default,{onSubmit:()=>{a(""===p?t:p),l(),e()},submitText:m("save"),onCancel:()=>e(),cancelText:m("cancel"),contentClass:"customize-nonce-modal-content",containerClass:"customize-nonce-modal-container"},r.default.createElement("div",{className:"customize-nonce-modal"},r.default.createElement("div",{className:"customize-nonce-modal__main-header"},r.default.createElement(d.Text,{className:"customize-nonce-modal__main-title",variant:s.TextVariant.headingSm,as:"h4"},m("editNonceField")),r.default.createElement(d.ButtonIcon,{iconName:d.IconName.Close,className:"customize-nonce-modal__close",size:d.ButtonIconSize.Sm,ariaLabel:m("close"),onClick:e})),r.default.createElement(d.Box,{marginTop:2,display:s.Display.InlineFlex,alignItems:s.AlignItems.center},r.default.createElement(d.Text,{variant:s.TextVariant.bodyMd,as:"h6"},m("editNonceMessage"),r.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__link",rel:"noopener noreferrer",target:"_blank",href:c.default.CUSTOMIZE_NONCE},m("learnMoreUpperCase")))),r.default.createElement(d.Box,{marginTop:4},r.default.createElement(d.Box,{alignItems:s.AlignItems.center,display:s.Display.Flex},r.default.createElement(d.Text,{variant:s.TextVariant.bodyMdBold,as:"h6",width:s.BlockSize.FiveSixths},m("editNonceField")),r.default.createElement(d.Box,{width:s.BlockSize.OneSixth},r.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__reset","data-testid":"customize-nonce-reset",onClick:()=>{f(n)}},m("reset")))),r.default.createElement("div",{className:"customize-nonce-modal__input"},r.default.createElement(i.default,{type:"number","data-testid":"custom-nonce-input",min:"0",placeholder:t||"number"==typeof n&&n.toString(),onChange:e=>{f(e.target.value)},fullWidth:!0,margin:"dense",value:p,id:"custom-nonce-id"})))))};m.propTypes={hideModal:a.default.func.isRequired,customNonceValue:a.default.string,nextNonce:a.default.number,updateCustomNonce:a.default.func,getNextNonce:a.default.func};n.default=(0,l.default)(m)}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/customize-nonce.component.js"}],[5150,{"./customize-nonce.component":5149},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./customize-nonce.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/index.js"}],[5151,{"../../../../../shared/lib/transactions-controller-utils":5003,"../../../component-library":5440,"../../../ui/identicon":5746,"../../../ui/text-field":5801,"../../modal":5132,"bignumber.js":3425,classnames:3543,loglevel:4328,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=f(e("prop-types")),o=f(e("loglevel")),i=f(e("classnames")),s=f(e("bignumber.js")),l=f(e("../../modal")),u=f(e("../../../ui/identicon")),c=f(e("../../../ui/text-field")),d=e("../../../../../shared/lib/transactions-controller-utils"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=new s.default(2).pow(256).minus(1).toString(10);class y extends r.PureComponent{constructor(...e){super(...e),h(this,"state",{customSpendLimit:this.props.customTokenAmount||"",selectedOptionIsUnlimited:!this.props.customTokenAmount})}renderModalContent(e){const{t:t}=this.context,{hideModal:n,selectedAccount:a,tokenAmount:o,tokenSymbol:l,tokenBalance:f,customTokenAmount:m,origin:h}=this.props,{name:y,address:b}=a||{},{selectedOptionIsUnlimited:v}=this.state;return r.default.createElement("div",{className:"edit-approval-permission"},r.default.createElement("div",{className:"edit-approval-permission__header"},r.default.createElement("div",{className:"edit-approval-permission__title"},t("editPermission")),r.default.createElement(p.ButtonIcon,{iconName:p.IconName.Close,size:p.ButtonIconSize.Lg,className:"edit-approval-permission__header__close",onClick:n})),r.default.createElement("div",{className:"edit-approval-permission__account-info"},r.default.createElement("div",{className:"edit-approval-permission__account-info__account"},r.default.createElement(u.default,{address:b,diameter:32}),r.default.createElement("div",{className:"edit-approval-permission__name-and-balance-container"},r.default.createElement("div",{className:"edit-approval-permission__account-info__name"},y),r.default.createElement("div",null,t("balance")))),r.default.createElement("div",{className:"edit-approval-permission__account-info__balance"},`${(0,d.toPrecisionWithoutTrailingZeros)(f,9)} ${l}`)),r.default.createElement("div",{className:"edit-approval-permission__edit-section"},r.default.createElement("div",{className:"edit-approval-permission__edit-section__title"},t("spendLimitPermission")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__description"},t("allowWithdrawAndSpend",[h])),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!0})},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":!v,"edit-approval-permission__edit-section__radio-button-outline--selected":v})}),r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),v&&r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":!v,"edit-approval-permission__edit-section__option-label--selected":v})},new s.default(o).equals(new s.default(g))?t("unlimited"):t("proposedApprovalLimit")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("spendLimitRequestedBy",[h])),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-value"},`${Number(o)} ${l}`))),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!1})},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":v,"edit-approval-permission__edit-section__radio-button-outline--selected":!v})}),r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),!v&&r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":v,"edit-approval-permission__edit-section__option-label--selected":!v})},t("customSpendLimit")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("enterMaxSpendLimit")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-input"},r.default.createElement(c.default,{type:"number",placeholder:`${Number(m||o)} ${l}`,onChange:e=>{this.setState({customSpendLimit:e.target.value}),v&&this.setState({selectedOptionIsUnlimited:!1})},fullWidth:!0,margin:"dense",value:this.state.customSpendLimit,error:e}))))))}validateSpendLimit(){const{t:e}=this.context,{decimals:t,requiredMinimum:n}=this.props,{selectedOptionIsUnlimited:r,customSpendLimit:a}=this.state;if(r||!a)return undefined;let i;try{i=new s.default(a)}catch(t){return o.default.debug(`Error converting '${a}' to BigNumber:`,t),e("spendLimitInvalid")}if(i.isNegative())return e("spendLimitInvalid");const l=(0,d.calcTokenAmount)(g,t);return i.greaterThan(l)?e("spendLimitTooLarge"):n!==undefined&&i.lessThan(n)?e("spendLimitInsufficient"):undefined}render(){const{t:e}=this.context,{setCustomAmount:t,hideModal:n,customTokenAmount:a}=this.props,{selectedOptionIsUnlimited:o,customSpendLimit:i}=this.state,s=this.validateSpendLimit(),u=Boolean(i===a&&!o||s);return r.default.createElement(l.default,{onSubmit:()=>{t(o?"":i),n()},submitText:e("save"),contentClass:"edit-approval-permission-modal-content",containerClass:"edit-approval-permission-modal-container",submitDisabled:u},this.renderModalContent(s))}}n.default=y,h(y,"propTypes",{decimals:a.default.number,hideModal:a.default.func.isRequired,selectedAccount:a.default.object,tokenAmount:a.default.string,customTokenAmount:a.default.string,tokenSymbol:a.default.string,tokenBalance:a.default.string,setCustomAmount:a.default.func,origin:a.default.string.isRequired,requiredMinimum:a.default.instanceOf(s.default)}),h(y,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.component.js"}],[5152,{"../../../../helpers/higher-order-components/with-modal-props":5879,"../../../../selectors":6533,"./edit-approval-permission.component":5151,"react-redux":4675,redux:4737},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=l(e("./edit-approval-permission.component"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(o.default,(0,r.connect)((e=>{const t=e.appState.modal.modalState.props||{};return{selectedAccount:(0,i.getSelectedInternalAccount)(e),...t}})))(s.default)}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.container.js"}],[5153,{"./edit-approval-permission.container":5152},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./edit-approval-permission.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/index.js"}],[5154,{"../../../../../shared/constants/metametrics":4973,"../../../../contexts/metametrics":5826,"../../../../helpers/constants/design-system":5858,"../../../../helpers/higher-order-components/with-modal-props":5879,"../../../../hooks/useI18nContext":5935,"../../../../selectors":6533,"../../../../store/actions":6546,"../../../component-library":5440,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=m(e("prop-types")),o=e("react-redux"),i=m(e("../../../../helpers/higher-order-components/with-modal-props")),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../hooks/useI18nContext"),c=e("../../../../store/actions"),d=e("../../../../selectors"),p=e("../../../../../shared/constants/metametrics"),f=e("../../../../contexts/metametrics");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({hideModal:e})=>{const[t,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),[m,h]=(0,r.useState)(""),g=(0,o.useSelector)(d.getDisabledRpcMethodPreferences),y=(0,u.useI18nContext)(),b=(0,o.useDispatch)(),v=(0,r.useContext)(f.MetaMetricsContext),_=m===y("toggleEthSignModalFormValidation");return r.default.createElement(s.Box,{className:"eth-sign-modal",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.flexStart,padding:4},r.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,marginBottom:4,justifyContent:l.JustifyContent.center},r.default.createElement(s.Icon,{className:"eth-sign-modal__warning-icon",name:s.IconName.Danger,color:l.IconColor.errorDefault,size:s.IconSize.Lg}),r.default.createElement(s.ButtonIcon,{className:"eth-sign-modal__close",iconName:s.IconName.Close,size:l.Size.SM,onClick:()=>e(),ariaLabel:y("close")})),r.default.createElement(s.Text,{variant:l.TextVariant.headingMd,textAlign:l.TextAlign.Center,marginBottom:6},y("toggleEthSignModalTitle")),r.default.createElement(s.Text,{variant:l.TextVariant.bodyMd},y("toggleEthSignModalDescription"),r.default.createElement(s.ButtonLink,{href:"https://support.metamask.io/privacy-and-security/what-is-eth_sign-and-why-is-it-a-risk/",externalLink:!0},y("learnMoreUpperCase"))),r.default.createElement(s.BannerAlert,{severity:l.Severity.Danger,marginTop:6,marginBottom:6},y("toggleEthSignModalBannerText"),y("toggleEthSignModalBannerBoldText")),a?r.default.createElement(s.FormTextField,{id:"enter-eth-sign-text",label:y("toggleEthSignModalFormLabel"),error:m.length>0&&!_,helpText:m.length>0&&!_&&y("toggleEthSignModalFormError"),onChange:e=>h(e.target.value),value:m,onPaste:e=>e.preventDefault()}):r.default.createElement(s.Box,{flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.flexStart,gap:2},r.default.createElement(s.Checkbox,{id:"eth-sign-checkbox",className:"eth-sign__checkbox","data-testid":"eth-sign-checkbox",isChecked:t,onChange:()=>{n(!t)},label:y("toggleEthSignModalCheckBox")})),r.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,gap:4,marginTop:6},r.default.createElement(s.ButtonSecondary,{onClick:()=>e(),size:s.ButtonSecondarySize.Lg,block:!0},y("cancel")),a?r.default.createElement(s.ButtonPrimary,{danger:!0,block:!0,disabled:!_,onClick:()=>{b((0,c.setDisabledRpcMethodPreference)("eth_sign",!g.eth_sign)),e()},size:l.Size.LG},y("enableSnap")):r.default.createElement(s.ButtonPrimary,{block:!0,disabled:!t,size:l.Size.LG,onClick:()=>{i(!0),v({category:p.MetaMetricsEventCategory.Settings,event:p.MetaMetricsEventName.OnboardingWalletAdvancedSettings,properties:{location:"Settings",enable_eth_sign:!0}})}},y("continue"))))};g.propTypes={hideModal:a.default.func};n.default=(0,i.default)(g)}}},{package:"$root$",file:"ui/components/app/modals/eth-sign-modal/eth-sign-modal.js"}],[5155,{"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l,u=0;const c=e=>{const t=`anim_${++u}${Number(new Date)}`;let n=`@keyframes ${t} {`;return Object.keys(e).forEach((t=>{n+=`${t} {`,Object.keys(e[t]).forEach((r=>{const a=`:${e[t][r]};`;n+=r+a})),n+="}"})),n+="}",(e=>{l||(l=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(l),l=l.sheet||l.styleSheet),l.insertRule(e,(l.cssRules||l.rules).length)})(n),t},d={show:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},hide:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},showContentAnimation:c({"0%":{opacity:0},"100%":{opacity:1}}),hideContentAnimation:c({"0%":{opacity:1},"100%":{opacity:0}}),showBackdropAnimation:c({"0%":{opacity:0},"100%":{opacity:.9}}),hideBackdropAnimation:c({"0%":{opacity:.9},"100%":{opacity:0}})},p=["transitionend","animationend"];class f extends a.Component{constructor(...e){super(...e),s(this,"content",null),s(this,"state",{willHide:!0,hidden:!0}),s(this,"addTransitionListener",((e,t)=>{if(e){const n=function(r){r&&r.target!==e||(((e,t)=>{0!==p.length&&p.forEach((function(n){!function(e,t,n){e.removeEventListener(t,n,!1)}(e,n,t)}))})(e,n),t())};((e,t)=>{0!==p.length?p.forEach((function(n){!function(e,t,n){e.addEventListener(t,n,!1)}(e,n,t)})):window.setTimeout(t,0)})(e,n)}})),s(this,"handleBackdropClick",(()=>{this.props.closeOnClick&&this.hide()})),s(this,"hasHidden",(()=>this.state.hidden)),s(this,"leave",(()=>{this.setState({hidden:!0}),this.props.onHide(this.state.hideSource)})),s(this,"enter",(()=>{this.props.onShow()})),s(this,"show",(()=>{this.state.hidden&&(this.setState({willHide:!1,hidden:!1}),setTimeout(function(){this.addTransitionListener(this.content,this.enter)}.bind(this),0))})),s(this,"hide",(()=>{this.hasHidden()||this.setState({willHide:!0})})),s(this,"listenKeyboard",(e=>{"function"==typeof this.props.keyboard?this.props.keyboard(e):this.closeOnEsc(e)})),s(this,"closeOnEsc",(e=>{!this.props.keyboard||"Escape"!==e.key&&27!==e.keyCode||this.hide()})),s(this,"UNSAFE_componentDidMount",(()=>{window.addEventListener("keydown",this.listenKeyboard,!0)})),s(this,"UNSAFE_componentWillUnmount",(()=>{window.removeEventListener("keydown",this.listenKeyboard,!0)}))}render(){if(this.state.hidden)return null;const{willHide:e}=this.state,{modalStyle:t,testId:n}=this.props,r={animationName:e?d.hideBackdropAnimation:d.showBackdropAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.backdropStyle},o={animationDuration:(e?d.hide:d.show).animationDuration,animationName:e?d.hideContentAnimation:d.showContentAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.contentStyle},i=this.props.backdrop?a.default.createElement("div",{className:"modal__backdrop",style:r,onClick:this.props.closeOnClick?this.handleBackdropClick:null}):undefined;return e&&this.addTransitionListener(this.content,this.leave),a.default.createElement("span",null,a.default.createElement("div",{className:"modal",style:t,"data-testid":n},a.default.createElement("div",{className:"modal__content",ref:e=>this.content=e,tabIndex:"-1",style:o},this.props.children)),i)}}s(f,"propTypes",{backdrop:o.default.bool,backdropStyle:o.default.object,closeOnClick:o.default.bool,contentStyle:o.default.object,keyboard:o.default.bool,modalStyle:o.default.object,onShow:o.default.func,onHide:o.default.func,children:o.default.node,testId:o.default.string}),s(f,"defaultProps",{testId:"",onShow:()=>undefined,onHide:()=>undefined,keyboard:!0,backdrop:!0,closeOnClick:!0,modalStyle:{},backdropStyle:{},contentStyle:{},children:[]});n.default=f}}},{package:"$root$",file:"ui/components/app/modals/fade-modal.js"}],[5156,{"../../../../../shared/constants/metametrics":4973,"../../../../helpers/constants/routes":5864,"../../../../selectors":6533,"../../../../store/actions":6546,"../../../ui/button":5699,"../../../ui/identicon":5746,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=m(e("prop-types")),a=f(e("react")),o=e("react-redux"),i=f(e("../../../../store/actions")),s=m(e("../../../ui/identicon")),l=m(e("../../../ui/button")),u=e("../../../../helpers/constants/routes"),c=e("../../../../../shared/constants/metametrics"),d=e("../../../../selectors");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends a.Component{constructor(...e){super(...e),h(this,"state",{})}render(){const{chainId:e,token:t,hideToken:n,hideModal:r,history:o}=this.props,{symbol:i,address:d,image:p}=t;return a.default.createElement("div",{className:"hide-token-confirmation__container"},a.default.createElement("div",{className:"hide-token-confirmation__title"},this.context.t("hideTokenPrompt")),a.default.createElement(s.default,{className:"hide-token-confirmation__identicon",diameter:45,address:d,image:p}),a.default.createElement("div",{className:"hide-token-confirmation__symbol"},i),a.default.createElement("div",{className:"hide-token-confirmation__copy"},this.context.t("readdToken")),a.default.createElement("div",{className:"hide-token-confirmation__buttons"},a.default.createElement(l.default,{type:"secondary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__cancel",onClick:()=>r()},this.context.t("cancel")),a.default.createElement(l.default,{type:"primary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__hide",onClick:()=>{this.context.trackEvent({event:c.MetaMetricsEventName.TokenRemoved,category:c.MetaMetricsEventCategory.Tokens,sensitiveProperties:{chain_id:e,token_contract_address:d,token_symbol:i}}),n(d),o.push(u.DEFAULT_ROUTE)}},this.context.t("hide"))))}}h(g,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),h(g,"propTypes",{hideToken:r.default.func.isRequired,hideModal:r.default.func.isRequired,chainId:r.default.string.isRequired,token:r.default.shape({symbol:r.default.string,address:r.default.string,image:r.default.string}),history:r.default.object});n.default=(0,o.connect)((function(e){return{chainId:(0,d.getCurrentChainId)(e),token:e.appState.modal.modalState.props.token,history:e.appState.modal.modalState.props.history}}),(function(e){return{hideModal:()=>e(i.hideModal()),hideToken:t=>{e(i.ignoreTokens({tokensToIgnore:t})).then((()=>{e(i.hideModal())}))}}}))(g)}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/hide-token-confirmation-modal.js"}],[5157,{"./hide-token-confirmation-modal":5156},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./hide-token-confirmation-modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/index.js"}],[5158,{"../../../../helpers/constants/design-system":5858,"../../../../helpers/constants/zendesk-url":5871,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,"../../hold-to-reveal-button/hold-to-reveal-button":5111,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({isOpen:e,onClose:t,onLongPressed:n,holdToRevealType:u}){const c=(0,i.useI18nContext)(),d="SRP"===u?"holdToRevealSRPTitle":"holdToRevealPrivateKeyTitle",p="SRP"===u?"holdToRevealSRP":"holdToRevealPrivateKey",f="SRP"===u?"holdToRevealContent":"holdToRevealContentPrivateKey",m=`${f}1`,h=`${f}2`;c("holdToRevealContentPrivateKey1"),c("holdToRevealContentPrivateKey2"),c("holdToRevealContent1"),c("holdToRevealContent2");const g=()=>r.default.createElement(s.Box,{display:a.Display.Flex,flexDirection:a.FlexDirection.Column,gap:4,marginTop:4,marginBottom:6},r.default.createElement(s.Text,{variant:a.TextVariant.bodyMd},c(m,[r.default.createElement(s.Text,{key:"hold-to-reveal-2",variant:a.TextVariant.bodyMdBold,as:"span"},c(h))])),r.default.createElement(s.Text,{variant:a.TextVariant.bodyMdBold},c("holdToRevealContent3",[r.default.createElement(s.Text,{key:"hold-to-reveal-4",variant:a.TextVariant.bodyMd,as:"span",display:a.Display.Inline},c("holdToRevealContent4")),r.default.createElement(s.Button,{key:"hold-to-reveal-5",variant:s.ButtonVariant.Link,size:s.ButtonSize.Inherit,href:o.default.NON_CUSTODIAL_WALLET,externalLink:!0},c("holdToRevealContent5"))])));return r.default.createElement(s.Modal,{isOpen:e,onClose:t},r.default.createElement(s.ModalOverlay,null),r.default.createElement(s.ModalContent,null,r.default.createElement(s.ModalHeader,{onClose:t},c(d)),r.default.createElement(s.Container,{paddingLeft:4,paddingRight:4},r.default.createElement(g,null),r.default.createElement(l.default,{buttonText:c(p),onLongPressed:n}))))};var r=u(e("react")),a=e("../../../../helpers/constants/design-system"),o=u(e("../../../../helpers/constants/zendesk-url")),i=e("../../../../hooks/useI18nContext"),s=e("../../../component-library"),l=u(e("../../hold-to-reveal-button/hold-to-reveal-button"));function u(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.tsx"}],[5159,{"./modal":5162},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/index.js"}],[5160,{"./keyring-snap-removal-result-modal":5161},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./keyring-snap-removal-result-modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/keyring-snap-removal-modal/index.ts"}],[5161,{"../../../../helpers/constants/design-system":5858,"../../../../hooks/useI18nContext":5935,"../../../../selectors":6533,"../../../component-library":5440,"../../../component-library/modal-content/deprecated":5448,"../../../component-library/modal-header/deprecated":5457,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=e("react"))&&r.__esModule?r:{default:r},o=e("react-redux"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../component-library/modal-content/deprecated"),u=e("../../../component-library/modal-header/deprecated"),c=e("../../../../hooks/useI18nContext"),d=e("../../../../selectors");n.default=({isOpen:e,onClose:t})=>{const n=(0,c.useI18nContext)(),r=(0,o.useSelector)(d.getKeyringSnapRemovalResult);return a.default.createElement(a.default.Fragment,null,a.default.createElement(s.Modal,{isOpen:e,onClose:()=>t()},a.default.createElement(s.ModalOverlay,null),a.default.createElement(l.ModalContent,{modalDialogProps:{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4}},a.default.createElement(u.ModalHeader,{onClose:t},""),a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},a.default.createElement(s.Icon,{name:"success"===r.result?s.IconName.Confirmation:s.IconName.Danger,color:"success"===r.result?i.IconColor.successDefault:i.IconColor.errorDefault,size:s.IconSize.Xl,marginBottom:4}),a.default.createElement(s.Text,{variant:i.TextVariant.bodyMdBold,textAlign:i.TextAlign.Center},n("keyringSnapRemovalResult1",[r.snapName,"failed"===r.result?n("keyringSnapRemovalResultNotSuccessful"):""]))))))}}}},{package:"$root$",file:"ui/components/app/modals/keyring-snap-removal-modal/keyring-snap-removal-result-modal.tsx"}],[5162,{"../../../../app/scripts/lib/util":135,"../../../../shared/constants/app":4962,"../../../helpers/utils/is-mobile-view":5893,"../../../pages/onboarding-flow/add-network-modal":6331,"../../../store/actions":6546,"./confirm-delete-network":5138,"./confirm-delete-rpc-url-modal/confirm-delete-rpc-url-modal":5139,"./confirm-remove-account":5142,"./confirm-reset-account":5145,"./confirm-turn-off-profile-syncing":5147,"./convert-token-to-nft-modal/convert-token-to-nft-modal":5148,"./customize-nonce":5150,"./edit-approval-permission":5153,"./eth-sign-modal/eth-sign-modal":5154,"./fade-modal":5155,"./hide-token-confirmation-modal":5157,"./new-account-modal":5163,"./qr-scanner":5168,"./reject-transactions":5171,"./transaction-already-confirmed":5174,"./transaction-confirmed":5176,"./turn-on-metamask-notifications/turn-on-metamask-notifications":5179,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=j(e("prop-types")),a=S(e("react")),o=e("react-redux"),i=e("../../../../app/scripts/lib/util"),s=e("../../../../shared/constants/app"),l=j(e("../../../helpers/utils/is-mobile-view")),u=S(e("../../../store/actions")),c=j(e("../../../pages/onboarding-flow/add-network-modal")),d=j(e("./hide-token-confirmation-modal")),p=j(e("./qr-scanner")),f=j(e("./confirm-remove-account")),m=j(e("./confirm-reset-account")),h=j(e("./transaction-confirmed")),g=j(e("./confirm-delete-network")),y=j(e("./convert-token-to-nft-modal/convert-token-to-nft-modal")),b=j(e("./customize-nonce")),v=j(e("./edit-approval-permission")),_=j(e("./eth-sign-modal/eth-sign-modal")),w=j(e("./fade-modal")),x=j(e("./new-account-modal")),k=j(e("./reject-transactions")),T=j(e("./transaction-already-confirmed")),C=j(e("./confirm-turn-off-profile-syncing")),E=j(e("./turn-on-metamask-notifications/turn-on-metamask-notifications")),M=j(e("./confirm-delete-rpc-url-modal/confirm-delete-rpc-url-modal"));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function j(e){return e&&e.__esModule?e:{default:e}}const P={transform:"translate3d(-50%, 0, 0px)",border:"1px solid var(--color-border-default)",borderRadius:"8px",backgroundColor:"var(--color-background-default)",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"},I={...P,width:"344px",top:"15%"},N={...P,width:"309px",top:"12.5%"},D={ONBOARDING_ADD_NETWORK:{contents:a.default.createElement(c.default,null),testId:"add-network-modal",mobileModalStyle:{width:"95%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"335px",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},contentStyle:{borderRadius:"4px"}},NEW_ACCOUNT:{contents:a.default.createElement(x.default,null),mobileModalStyle:{width:"95%",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},laptopModalStyle:{width:"375px",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},contentStyle:{borderRadius:"10px"}},HIDE_TOKEN_CONFIRMATION:{contents:a.default.createElement(d.default,null),testId:"hide-token-confirmation-modal",mobileModalStyle:{width:"95%",top:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"52vh":"36.5vh"},laptopModalStyle:{width:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"357px":"449px",top:"calc(33% + 45px)",paddingLeft:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null,paddingRight:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null}},CONFIRM_RESET_ACCOUNT:{contents:a.default.createElement(m.default,null),mobileModalStyle:{...N},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},ETH_SIGN:{contents:a.default.createElement(_.default,null),mobileModalStyle:{...N},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},CONFIRM_REMOVE_ACCOUNT:{contents:a.default.createElement(f.default,null),mobileModalStyle:{...N},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},CONVERT_TOKEN_TO_NFT:{contents:a.default.createElement(y.default,null),mobileModalStyle:{...N},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},CONFIRM_DELETE_NETWORK:{contents:a.default.createElement(g.default,null),mobileModalStyle:{...N},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},CONFIRM_DELETE_RPC_URL:{contents:a.default.createElement(M.default,null),mobileModalStyle:{...N},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},EDIT_APPROVAL_PERMISSION:{contents:a.default.createElement(v.default,null),mobileModalStyle:{width:"95vw",height:"100vh",top:"50px",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"}},TRANSACTION_CONFIRMED:{disableBackdropClick:!0,contents:a.default.createElement(h.default,null),mobileModalStyle:{...N},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},TRANSACTION_ALREADY_CONFIRMED:{disableBackdropClick:!0,contents:a.default.createElement(T.default,null),mobileModalStyle:{...N},laptopModalStyle:{...I}},QR_SCANNER:{contents:a.default.createElement(p.default,null),testId:"qr-scanner-modal",mobileModalStyle:{...N},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},REJECT_TRANSACTIONS:{contents:a.default.createElement(k.default,null),mobileModalStyle:{...N},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},CUSTOMIZE_NONCE:{contents:a.default.createElement(b.default,null),mobileModalStyle:{...N},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},CONFIRM_TURN_OFF_PROFILE_SYNCING:{contents:a.default.createElement(C.default,null),mobileModalStyle:{...N},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},TURN_ON_METAMASK_NOTIFICATIONS:{contents:a.default.createElement(E.default,null),mobileModalStyle:{...N},laptopModalStyle:{...I},contentStyle:{borderRadius:"8px"}},DEFAULT:{contents:[],mobileModalStyle:{},laptopModalStyle:{}}},R={backgroundColor:"var(--color-overlay-default)"};class B extends a.Component{hide(){this.modalRef.hide()}show(){this.modalRef.show()}UNSAFE_componentWillReceiveProps(e,t){e.active?this.show():this.props.active&&this.hide()}render(){const e=D[this.props.modalState.name||"DEFAULT"],{contents:t,disableBackdropClick:n=!1,testId:r}=e,o=e[(0,l.default)()?"mobileModalStyle":"laptopModalStyle"],i=e.contentStyle||{};return a.default.createElement(w.default,{keyboard:!1,onHide:()=>{e.onHide&&e.onHide({hideWarning:this.props.hideWarning}),this.props.hideModal(e.customOnHideOpts)},ref:e=>{this.modalRef=e},modalStyle:o,contentStyle:i,backdropStyle:R,closeOnClick:!n,testId:r},t)}}var A,$,W;A=B,$="propTypes",W={active:r.default.bool.isRequired,hideModal:r.default.func.isRequired,hideWarning:r.default.func.isRequired,modalState:r.default.object.isRequired},($=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}($))in A?Object.defineProperty(A,$,{value:W,enumerable:!0,configurable:!0,writable:!0}):A[$]=W;n.default=(0,o.connect)((function(e){return{active:e.appState.modal.open,modalState:e.appState.modal.modalState}}),(function(e){return{hideModal:t=>{e(u.hideModal()),t&&t.action&&e(t.action(...t.args))},hideWarning:()=>{e(u.hideWarning())}}}))(B)}}},{package:"$root$",file:"ui/components/app/modals/modal.js"}],[5163,{"./new-account-modal.container":5165},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./new-account-modal.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/index.js"}],[5164,{"../../../component-library":5440,"../../../ui/button/button.component":5698,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=s(e("prop-types")),o=s(e("../../../ui/button/button.component")),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.Component{constructor(...e){super(...e),u(this,"state",{alias:this.context.t("newAccountNumberName",[this.props.newAccountNumber])}),u(this,"onChange",(e=>{this.setState({alias:e.target.value})})),u(this,"onSubmit",(async()=>{await this.props.onSave(this.state.alias).then(this.props.hideModal)})),u(this,"onKeyPress",(e=>{"Enter"===e.key&&this.state.alias&&this.onSubmit()}))}render(){const{t:e}=this.context;return r.default.createElement("div",{className:"new-account-modal"},r.default.createElement("div",{className:"new-account-modal__content"},r.default.createElement("div",{className:"new-account-modal__content__header"},e("newAccount"),r.default.createElement(i.ButtonIcon,{className:"new-account-modal__content__header-close",ariaLabel:e("close"),onClick:this.props.hideModal,iconName:i.IconName.Close})),r.default.createElement("div",{className:"new-account-modal__input-label"},e("accountName")),r.default.createElement("input",{type:"text",className:"new-account-modal__input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:this.state.alias,autoFocus:!0})),r.default.createElement("div",{className:"new-account-modal__footer"},r.default.createElement(o.default,{type:"secondary",onClick:this.props.hideModal},e("cancel")),r.default.createElement(o.default,{type:"primary",onClick:this.onSubmit,disabled:!this.state.alias},e("save"))))}}n.default=c,u(c,"contextTypes",{t:a.default.func}),u(c,"propTypes",{hideModal:a.default.func.isRequired,newAccountNumber:a.default.number.isRequired,onSave:a.default.func.isRequired})}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.component.js"}],[5165,{"../../../../store/actions":6546,"./new-account-modal.component":5164,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../../store/actions"),i=(r=e("./new-account-modal.component"))&&r.__esModule?r:{default:r};n.default=(0,a.connect)((function(e){return{...e.appState.modal.modalState.props||{}}}),(function(e){return{hideModal:()=>e((0,o.hideModal)()),createAccount:async t=>{const n=await e((0,o.addNewAccount)());return t&&e((0,o.setAccountLabel)(n,t)),await(0,o.forceUpdateMetamaskState)(e),n}}}),(function(e,t){const{onCreateNewAccount:n}=e,{createAccount:r}=t;return{...e,...t,onSave:e=>r(e).then((e=>{n(e)}))}}))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.container.js"}],[5166,{"./nickname-popovers.component":5167},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./nickname-popovers.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/index.js"}],[5167,{"../../../../helpers/utils/multichain/blockExplorer":5895,"../../../../hooks/useMultichainSelector":5940,"../../../../selectors":6533,"../../../../selectors/multichain":6538,"../../../../store/actions":6546,"../../../ui/nickname-popover":5771,"../../../ui/update-nickname-popover/update-nickname-popover":5817,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("react-redux"),o=f(e("prop-types")),i=e("../../../../helpers/utils/multichain/blockExplorer"),s=e("../../../../store/actions"),l=e("../../../../selectors"),u=f(e("../../../ui/nickname-popover")),c=f(e("../../../ui/update-nickname-popover/update-nickname-popover")),d=e("../../../../selectors/multichain"),p=e("../../../../hooks/useMultichainSelector");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h="SHOW_NICKNAME_POPOVER",g="ADD_NICKNAME_POPOVER",y=({address:e,onClose:t})=>{const n=(0,a.useDispatch)(),[o,f]=(0,r.useState)(h),m=(0,a.useSelector)(l.getAddressBook).find((t=>t.address===e)),y=null==m?void 0:m.name,b=(0,a.useSelector)((t=>(0,l.getInternalAccountByAddress)(t,e))),v=(0,p.useMultichainSelector)(d.getMultichainNetwork,b),_=(0,i.getMultichainAccountUrl)(e,v);return o===g?r.default.createElement(c.default,{address:e,nickname:y||null,memo:(null==m?void 0:m.memo)||null,onClose:()=>f(h),onAdd:(e,t,r)=>n((0,s.addToAddressBook)(e,t,r))}):r.default.createElement(u.default,{address:e,nickname:y||null,onClose:t,onAdd:()=>f(g),explorerLink:_})};y.propTypes={address:o.default.string,onClose:o.default.func};n.default=y}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/nickname-popovers.component.js"}],[5168,{"./qr-scanner.container":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=e("./qr-scanner.container"))&&r.__esModule?r:{default:r};n.default=a.default}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/index.js"}],[5169,{"../../../../../app/scripts/lib/util":135,"../../../../../shared/constants/app":4962,"../../../../../shared/constants/time":4988,"../../../../helpers/utils/util":5906,"../../../../helpers/utils/webcam-utils":5907,"../../../../hooks/useI18nContext":5935,"../../../../hooks/usePrevious":5946,"../../../ui/page-container/page-container-footer/page-container-footer.component":5776,"../../../ui/spinner":5793,"@zxing/browser":3141,loglevel:4328,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=g(e("prop-types")),o=g(e("loglevel")),i=e("@zxing/browser"),s=e("../../../../hooks/usePrevious"),l=e("../../../../hooks/useI18nContext"),u=e("../../../../../app/scripts/lib/util"),c=e("../../../../helpers/utils/util"),d=g(e("../../../../helpers/utils/webcam-utils")),p=g(e("../../../ui/page-container/page-container-footer/page-container-footer.component")),f=g(e("../../../ui/spinner")),m=e("../../../../../shared/constants/app"),h=e("../../../../../shared/constants/time");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const b={ACCESSING_CAMERA:"ACCESSING_CAMERA",NEED_TO_ALLOW_ACCESS:"NEED_TO_ALLOW_ACCESS",READY:"READY"},v=e=>{let t="unknown",n={};return e.split("ethereum:").length>1?(t="address",n={address:e.split("ethereum:")[1]}):"0x"===e.substring(0,2).toLowerCase()&&(t="address",n={address:e}),{type:t,values:n}};function _({hideModal:e,qrCodeDetected:t}){const n=(0,l.useI18nContext)(),[a,g]=(0,r.useState)(b.ACCESSING_CAMERA),y=(0,s.usePrevious)(a),[_,w]=(0,r.useState)(null),[x,k]=(0,r.useState)(!1),[T,C]=(0,r.useState)(null),[E,M]=(0,r.useState)(null),O=(0,r.useCallback)((async()=>{try{const{permissions:e}=await d.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*h.SECOND))),!x)return;g(b.READY)}else x&&M(setTimeout(this.checkPermissions,h.SECOND))}catch(e){x&&w({error:e})}}),[x]),S=(0,r.useCallback)((()=>{T&&(T.constructor.cleanVideoSource(),T.constructor.releaseAllStreams(),C(null))}),[T]),j=(0,r.useCallback)((()=>{T&&S(e),e()}),[T,e,S]),P=(0,r.useCallback)((async()=>{T||C(new i.BrowserQRCodeReader)}),[T]);(0,r.useEffect)((()=>{(async()=>{if(T)try{await O(),await T.constructor.listVideoInputDevices();const e=await T.decodeOnceFromVideoDevice(undefined,"video"),r=v(e.text);x&&("unknown"===r.type?w(new Error(n("unknownQrCode"))):(t(r),j()))}catch(e){if(x)return;"NotAllowedError"===e.name?(o.default.info(`Permission denied: '${e}'`),g(b.NEED_TO_ALLOW_ACCESS)):w(e)}})()}),[O,T,x,t,j,n]);const I=async()=>{try{const{environmentReady:e}=await d.default.checkStatus();if(!e&&(0,u.getEnvironmentType)()!==m.ENVIRONMENT_TYPE_FULLSCREEN){const e=(0,c.getURL)(window.location.href),t=null==e?void 0:e.hash,n=t?t.substring(1):null;global.platform.openExtensionInBrowser(n)}}catch(e){x&&w({error:e})}await P()};(0,r.useEffect)((()=>{k(!0),(async()=>{await I()})()}),[]),(0,r.useEffect)((()=>{(async()=>{y!==a&&(a===b.READY?await P():a===b.NEED_TO_ALLOW_ACCESS&&await O())})()}),[y,a,P,O]);const N=async()=>{clearTimeout(E),T&&S(),g(b.ACCESSING_CAMERA),w(null),await I()};return r.default.createElement("div",{className:"qr-scanner"},r.default.createElement("div",{className:"qr-scanner__close",onClick:j}),_?(()=>{let e,t;return"NO_WEBCAM_FOUND"===_.type?(e=n("noWebcamFoundTitle"),t=n("noWebcamFound")):_.message===n("unknownQrCode")?t=n("unknownQrCode"):(e=n("generalCameraErrorTitle"),t=n("generalCameraError")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__image"},r.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),e&&r.default.createElement("div",{className:"qr-scanner__title"},e),r.default.createElement("div",{className:"qr-scanner__error"},t),r.default.createElement(p.default,{onCancel:j,onSubmit:N,cancelText:n("cancel"),submitText:n("tryAgain")}))})():r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__title"},`${n("scanQrCode")}`),r.default.createElement("div",{className:"qr-scanner__content"},r.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},r.default.createElement("video",{id:"video",style:{display:a===b.READY?"block":"none"}}),a!==b.READY&&r.default.createElement(f.default,null))),r.default.createElement("div",{className:"qr-scanner__status"},(e=>{let t;switch(e){case b.ACCESSING_CAMERA:t=n("accessingYourCamera");break;case b.READY:t=n("scanInstructions");break;case b.NEED_TO_ALLOW_ACCESS:t=n("youNeedToAllowCameraAccess");break;default:t=n("accessingYourCamera")}return t})(a))))}_.propTypes={hideModal:a.default.func.isRequired,qrCodeDetected:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.component.js"}],[5170,{"../../../../store/actions":6546,"./qr-scanner.component":5169,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../../store/actions"),i=(r=e("./qr-scanner.component"))&&r.__esModule?r:{default:r};n.default=(0,a.connect)(null,(e=>({hideModal:()=>e((0,o.hideModal)()),qrCodeDetected:t=>e((0,o.qrCodeDetected)(t))})))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.container.js"}],[5171,{"./reject-transactions.container":5173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./reject-transactions.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/index.js"}],[5172,{"../../modal":5132,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=s(e("../../modal"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.PureComponent{constructor(...e){super(...e),l(this,"onSubmit",(async()=>{const{onSubmit:e,hideModal:t}=this.props;await e(),t()}))}render(){const{t:e}=this.context,{hideModal:t,unapprovedTxCount:n,isRequestType:r}=this.props;return a.default.createElement(o.default,{headerText:e(r?"rejectRequestsN":"rejectTxsN",[n]),onClose:t,onSubmit:this.onSubmit,onCancel:t,submitText:e("rejectAll"),cancelText:e("cancel")},a.default.createElement("div",null,a.default.createElement("div",{className:"reject-transactions__description"},e(r?"rejectRequestsDescription":"rejectTxsDescription",[n]))))}}n.default=u,l(u,"contextTypes",{t:r.default.func.isRequired}),l(u,"propTypes",{onSubmit:r.default.func.isRequired,hideModal:r.default.func.isRequired,unapprovedTxCount:r.default.number.isRequired,isRequestType:r.default.bool})}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.component.js"}],[5173,{"../../../../helpers/higher-order-components/with-modal-props":5879,"./reject-transactions.component":5172,"react-redux":4675,redux:4737},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=s(e("../../../../helpers/higher-order-components/with-modal-props")),i=s(e("./reject-transactions.component"));function s(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(o.default,(0,r.connect)(((e,t)=>{const{unapprovedTxCount:n}=t;return{unapprovedTxCount:n}})))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.container.js"}],[5174,{"./transaction-already-confirmed":5175},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./transaction-already-confirmed"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/transaction-already-confirmed/index.ts"}],[5175,{"../../../../contexts/i18n":5823,"../../../../helpers/constants/design-system":5858,"../../../../hooks/useModalProps":5938,"../../../../selectors":6533,"../../../component-library":5440,"@metamask/etherscan-link":1428,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{hideModal:e,props:{originalTransactionId:t}}=(0,s.useModalProps)(),n=(0,r.useContext)(c.I18nContext),d=(0,a.useDispatch)(),p=(0,a.useSelector)((e=>(0,i.getTransaction)(e,t))),f=(0,a.useSelector)(i.getRpcPrefsForCurrentProvider);return r.default.createElement(l.Modal,{isOpen:!0,onClose:e},r.default.createElement(l.ModalOverlay,null),r.default.createElement(l.ModalContent,null,r.default.createElement(l.ModalHeader,{onClose:e},n("yourTransactionConfirmed")),r.default.createElement(l.ModalBody,null,r.default.createElement(l.Text,null,n("yourTransactionJustConfirmed"))),r.default.createElement(l.ModalFooter,{onSubmit:e,onCancel:()=>{const t=(0,o.getBlockExplorerLink)(p,f);global.platform.openTab({url:t}),d(e())},submitButtonProps:{children:n("gotIt")},cancelButtonProps:{children:n("viewOnBlockExplorer")},containerProps:{flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.stretch}})))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("react-redux"),o=e("@metamask/etherscan-link"),i=e("../../../../selectors"),s=e("../../../../hooks/useModalProps"),l=e("../../../component-library"),u=e("../../../../helpers/constants/design-system"),c=e("../../../../contexts/i18n");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/modals/transaction-already-confirmed/transaction-already-confirmed.tsx"}],[5176,{"./transaction-confirmed.container":5178},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./transaction-confirmed.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/index.js"}],[5177,{"../../../../helpers/constants/design-system":5858,"../../../component-library":5440,"../../modal":5132,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=l(e("prop-types")),o=l(e("../../modal")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.PureComponent{constructor(...e){super(...e),c(this,"handleSubmit",(()=>{const{hideModal:e,onSubmit:t}=this.props;e(),t&&"function"==typeof t&&t()}))}render(){const{t:e}=this.context;return r.default.createElement(o.default,{onSubmit:this.handleSubmit,submitText:e("ok")},r.default.createElement("div",{className:"transaction-confirmed__content"},r.default.createElement(i.Icon,{name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Xl}),r.default.createElement("div",{className:"transaction-confirmed__title"},`${e("confirmed")}!`),r.default.createElement("div",{className:"transaction-confirmed__description"},e("initialTransactionConfirmed"))))}}n.default=d,c(d,"contextTypes",{t:a.default.func}),c(d,"propTypes",{onSubmit:a.default.func,hideModal:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.component.js"}],[5178,{"../../../../helpers/higher-order-components/with-modal-props":5879,"./transaction-confirmed.component":5177},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("../../../../helpers/higher-order-components/with-modal-props")),a=o(e("./transaction-confirmed.component"));function o(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.default)(a.default)}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.container.js"}],[5179,{"../../../../../shared/constants/metametrics":4973,"../../../../contexts/i18n":5823,"../../../../contexts/metamask-notifications/metamask-notifications":5825,"../../../../contexts/metametrics":5826,"../../../../helpers/constants/design-system":5858,"../../../../helpers/constants/routes":5864,"../../../../hooks/metamask-notifications/useNotifications":5912,"../../../../hooks/useModalProps":5938,"../../../../selectors/metamask-notifications/metamask-notifications":6535,"../../../../selectors/metamask-notifications/profile-syncing":6536,"../../../component-library":5440,react:4719,"react-redux":4675,"react-router-dom":4704},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{hideModal:e}=(0,s.useModalProps)(),t=(0,o.useHistory)(),n=(0,r.useContext)(i.I18nContext),y=(0,r.useContext)(u.MetaMetricsContext),{listNotifications:b}=(0,l.useMetamaskNotificationsContext)(),v=(0,a.useSelector)(d.selectIsMetamaskNotificationsEnabled),_=(0,a.useSelector)(d.getIsUpdatingMetamaskNotifications),w=(0,a.useSelector)(p.selectIsProfileSyncingEnabled),[x,k]=(0,r.useState)(_),{createNotifications:T,error:C}=(0,f.useCreateNotifications)(),E=()=>{e(),y({category:c.MetaMetricsEventCategory.NotificationsActivationFlow,event:c.MetaMetricsEventName.NotificationsActivated,properties:{is_profile_syncing_enabled:w,action_type:"dismissed"}})};(0,r.useEffect)((()=>{v&&!C&&(t.push(m.NOTIFICATIONS_ROUTE),e(),b())}),[v,C]);const M=r.default.createElement(h.Text,{as:"a",href:"https://support.metamask.io/privacy-and-security/profile-privacy",target:"_blank",rel:"noopener noreferrer",key:"privacy-link",color:g.TextColor.infoDefault},n("turnOnMetamaskNotificationsMessagePrivacyLink")),O=r.default.createElement(h.Text,{as:"span",fontWeight:g.FontWeight.Bold,key:"strong-text"},n("turnOnMetamaskNotificationsMessagePrivacyBold"));return r.default.createElement(h.Modal,{isOpen:!0,onClose:()=>E()},r.default.createElement(h.ModalOverlay,null),r.default.createElement(h.ModalContent,null,r.default.createElement(h.ModalHeader,{onClose:()=>E()},n("turnOnMetamaskNotifications")),r.default.createElement(h.ModalBody,null,r.default.createElement(h.Box,{as:"img",src:"./images/turn-on-metamask-notifications.png",width:g.BlockSize.Full,borderRadius:g.BorderRadius.MD,marginBottom:4}),r.default.createElement(h.Text,{as:"p"},n("turnOnMetamaskNotificationsMessageFirst")),r.default.createElement(h.Text,{as:"p",paddingTop:4},n("turnOnMetamaskNotificationsMessageSecond",[M])),r.default.createElement(h.Text,{as:"p",paddingTop:4},n("turnOnMetamaskNotificationsMessageThird",[O]))),r.default.createElement(h.ModalFooter,{paddingTop:4,onSubmit:()=>(async()=>{k(!0),await T(),y({category:c.MetaMetricsEventCategory.NotificationsActivationFlow,event:c.MetaMetricsEventName.NotificationsActivated,properties:{is_profile_syncing_enabled:!0,action_type:"activated"}})})(),containerProps:{flexDirection:g.FlexDirection.Column,alignItems:g.AlignItems.stretch},submitButtonProps:{children:n("turnOnMetamaskNotificationsButton"),loading:x,disabled:x,"data-testid":"turn-on-notifications-button"}}),C&&r.default.createElement(h.Box,{paddingLeft:4,paddingRight:4},r.default.createElement(h.Text,{as:"p",color:g.TextColor.errorDefault,paddingTop:4},n("turnOnMetamaskNotificationsError")))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("react-redux"),o=e("react-router-dom"),i=e("../../../../contexts/i18n"),s=e("../../../../hooks/useModalProps"),l=e("../../../../contexts/metamask-notifications/metamask-notifications"),u=e("../../../../contexts/metametrics"),c=e("../../../../../shared/constants/metametrics"),d=e("../../../../selectors/metamask-notifications/metamask-notifications"),p=e("../../../../selectors/metamask-notifications/profile-syncing"),f=e("../../../../hooks/metamask-notifications/useNotifications"),m=e("../../../../helpers/constants/routes"),h=e("../../../component-library"),g=e("../../../../helpers/constants/design-system");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/modals/turn-on-metamask-notifications/turn-on-metamask-notifications.tsx"}],[5180,{"./multiple-notifications.component":5181},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./multiple-notifications.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/multiple-notifications/index.js"}],[5181,{classnames:3543,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=i(e("classnames")),o=i(e("prop-types"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.PureComponent{constructor(...e){super(...e),l(this,"state",{showAll:!1})}render(){const{showAll:e}=this.state,{children:t,classNames:n}=this.props,o=t.filter(Boolean);return 0===o.length?null:r.default.createElement("div",{className:(0,a.default)(...n,"home-notification-wrapper--multichain",{"home-notification-wrapper--show-all":e,"home-notification-wrapper--show-first":!e})},o,r.default.createElement("div",{className:"home-notification-wrapper__i-container",onClick:()=>this.setState({showAll:!e})},o.length>1?r.default.createElement("i",{className:(0,a.default)("fa fa-sm fa-sort-amount",{flipped:!e})}):null))}}n.default=u,l(u,"defaultProps",{children:[],classNames:[]}),l(u,"propTypes",{children:o.default.array,classNames:o.default.array})}}},{package:"$root$",file:"ui/components/app/multiple-notifications/multiple-notifications.component.js"}],[5182,{"./name":5185},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./name"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/name/index.ts"}],[5183,{"../../../../../shared/constants/metametrics":4973,"../../../../contexts/metametrics":5826,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePetnamesMetrics=function({initialSources:e,name:t,proposedNameOptions:n,savedName:i,savedSourceId:s,selectedSourceId:l,type:u}){const c=(0,r.useContext)(a.MetaMetricsContext),d=(0,r.useCallback)(((e,t={})=>{const r=[...new Set(n.map((e=>e.sourceId)))],a={petname_category:u,suggested_names_sources:r,...t};c({event:e,category:o.MetaMetricsEventCategory.Petnames,properties:a})}),[c,u,n]),p=(0,r.useCallback)((()=>{const e=l??null,n=(null==i?void 0:i.length)&&!(null!=t&&t.length),r=(null==i?void 0:i.length)&&(null==t?void 0:t.length)&&t!==i,a=!(null!=i&&i.length)&&(null==t?void 0:t.length);let u=null,c={};n&&(u=o.MetaMetricsEventName.PetnameDeleted,c={petname_previous_source:s}),r&&(u=o.MetaMetricsEventName.PetnameUpdated,c={petname_previous_source:s,petname_source:e}),a&&(u=o.MetaMetricsEventName.PetnameCreated,c={petname_source:e}),u&&d(u,c)}),[d,t,l,i,s]);return{trackPetnamesOpenEvent:(0,r.useCallback)((()=>{d(o.MetaMetricsEventName.PetnameModalOpened,{has_petname:Boolean(null==i?void 0:i.length),suggested_names_sources:e})}),[d,i,e]),trackPetnamesSaveEvent:p}};var r=e("react"),a=e("../../../../contexts/metametrics"),o=e("../../../../../shared/constants/metametrics")}}},{package:"$root$",file:"ui/components/app/name/name-details/metrics.ts"}],[5184,{"../../../../helpers/constants/design-system":5858,"../../../../hooks/useCopyToClipboard":5924,"../../../../hooks/useDisplayName":5928,"../../../../hooks/useI18nContext":5935,"../../../../hooks/useName":5941,"../../../../selectors":6533,"../../../../store/actions":6546,"../../../component-library":5440,"../../../ui/form-combo-field/form-combo-field":5725,"../name":5185,"./metrics":5183,"@metamask/name-controller":1665,"ethereumjs-util":3776,lodash:4322,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,type:t,value:n}){const v=(0,o.useSelector)(p.getCurrentChainId),{name:_,sourceId:x}=(0,h.useName)(n,t),{name:T,hasPetname:C}=(0,g.useDisplayName)(n,t),E=(0,o.useSelector)(p.getNameSources,i.isEqual),[M,O]=(0,r.useState)(""),[S,j]=(0,r.useState)(!1),[P,I]=(0,r.useState)(),[N,D]=(0,r.useState)(),R=(0,o.useDispatch)(),B=(0,y.useI18nContext)(),A=!C&&Boolean(T),$=function(e,t){if(t===a.NameType.ETHEREUM_ADDRESS)return(0,s.toChecksumAddress)(e);return e}(n,t),{proposedNames:W,initialSources:F}=function(e,t,n){const a=(0,o.useDispatch)(),{proposedNames:i}=(0,h.useName)(e,t),s=(0,r.useRef)(),[l,u]=(0,r.useState)();return(0,r.useEffect)((()=>{const r=()=>{s.current&&clearInterval(s.current)},o=async()=>{const r=await a((0,f.updateProposedNames)({value:e,type:t,onlyUpdateAfterDelay:!0,variation:n}));l||u(function(e,t){const n=Object.keys(e).filter((t=>{var n;return null===(n=e[t].proposedNames)||void 0===n?void 0:n.length})),r=Object.keys(t).filter((n=>{var r,a;return!(null!==(r=e[n])&&void 0!==r&&r.proposedNames)&&(null===(a=t[n].proposedNames)||void 0===a?void 0:a.length)}));return[...n,...r].sort()}((null==r?void 0:r.results)??{},i))};return r(),o(),s.current=setInterval(o,w),r}),[e,t,n,a,l,u]),{proposedNames:i,initialSources:l}}(n,t,v),[L,z]=(0,m.useCopyToClipboard)();(0,r.useEffect)((()=>{O(_??""),I(x??undefined),D(x?_??undefined:undefined)}),[_,x,O,I]);const q=(0,r.useMemo)((()=>function(e,t,n){const r=Object.keys(e),a=r.filter((t=>{var n;return null===(n=e[t])||void 0===n||null===(n=n.proposedNames)||void 0===n?void 0:n.length})).map((r=>{var a;return((null===(a=e[r])||void 0===a?void 0:a.proposedNames)??[]).map((e=>({value:e,primaryLabel:t("nameModalMaybeProposedName",[e]),secondaryLabel:t("nameProviderProposedBy",[k(r,t,n)]),sourceId:r})))})).flat();return a.sort(((e,t)=>e.secondaryLabel.toLowerCase().localeCompare(t.secondaryLabel.toLowerCase())))}(W,B,E)),[W,E]),{trackPetnamesOpenEvent:U,trackPetnamesSaveEvent:V}=(0,b.usePetnamesMetrics)({initialSources:F,name:M,proposedNameOptions:q,savedName:_,savedSourceId:x,selectedSourceId:P,type:t});(0,r.useEffect)((()=>{F&&!S&&(U(),j(!0))}),[F,S,U]);const H=(0,r.useCallback)((async()=>{V(),await R((0,f.setName)({value:n,type:t,name:null!=M&&M.length?M:null,sourceId:P,variation:v})),e()}),[M,P,e,V,v]),Q=(0,r.useCallback)((()=>{e()}),[e]),J=(0,r.useCallback)((e=>{O(e),e!==N&&(I(undefined),D(undefined))}),[O,P,I,D]),K=(0,r.useCallback)((e=>{I(e.sourceId),D(e.value)}),[I,D]),Y=(0,r.useCallback)((()=>{z($)}),[z,$]),[G,X]=C?[B("nameModalTitleSaved"),B("nameInstructionsSaved")]:A?[B("nameModalTitleRecognized"),B("nameInstructionsRecognized")]:[B("nameModalTitleNew"),B("nameInstructionsNew")];return r.default.createElement(l.Box,null,r.default.createElement(l.Modal,{isOpen:!0,onClose:Q},r.default.createElement(l.ModalOverlay,null),r.default.createElement(l.ModalContent,null,r.default.createElement(l.ModalHeader,{onClose:Q},G),r.default.createElement(l.ModalBody,{className:"name-details__modal-body"},r.default.createElement("div",{style:{textAlign:"center",marginBottom:16,marginTop:8}},r.default.createElement(c.default,{value:n,type:a.NameType.ETHEREUM_ADDRESS,disableEdit:!0,internal:!0})),r.default.createElement(l.Text,{marginBottom:4,justifyContent:u.JustifyContent.spaceBetween},X),r.default.createElement(l.FormTextField,{id:"address",className:"name-details__address",label:B("nameAddressLabel"),value:$,marginBottom:4,disabled:!0,endAccessory:r.default.createElement(l.ButtonIcon,{display:u.Display.Flex,iconName:L?l.IconName.CopySuccess:l.IconName.Copy,size:l.ButtonIconSize.Sm,onClick:Y,color:u.IconColor.iconMuted,ariaLabel:B("copyAddress")})}),r.default.createElement(l.Label,{flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.flexStart,marginBottom:2,className:"name-details__display-name"},B("nameLabel"),r.default.createElement(d.default,{hideDropdownIfNoOptions:!0,value:M,options:q,placeholder:B("nameSetPlaceholder"),onChange:J,onOptionClick:K}))),r.default.createElement(l.ModalFooter,null,r.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,startIconName:l.IconName.Save,width:u.BlockSize.Full,onClick:H,size:l.ButtonSize.Lg},B("save"))))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("@metamask/name-controller"),o=e("react-redux"),i=e("lodash"),s=e("ethereumjs-util"),l=e("../../../component-library"),u=e("../../../../helpers/constants/design-system"),c=v(e("../name")),d=v(e("../../../ui/form-combo-field/form-combo-field")),p=e("../../../../selectors"),f=e("../../../../store/actions"),m=e("../../../../hooks/useCopyToClipboard"),h=e("../../../../hooks/useName"),g=e("../../../../hooks/useDisplayName"),y=e("../../../../hooks/useI18nContext"),b=e("./metrics");function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const w=2e3;const x=["ens","etherscan","lens","token"];function k(e,t,n){var r;if(x.includes(e)){return t(`nameProvider_${e}`)}return(null===(r=n[e])||void 0===r?void 0:r.label)??e}}}},{package:"$root$",file:"ui/components/app/name/name-details/name-details.tsx"}],[5185,{"../../../../shared/constants/metametrics":4973,"../../../contexts/metametrics":5826,"../../../helpers/constants/design-system":5858,"../../../helpers/utils/util":5906,"../../../hooks/useDisplayName":5928,"../../component-library":5440,"../../ui/identicon":5746,"./name-details/name-details":5184,"@metamask/name-controller":1665,classnames:3543,"ethereumjs-util":3776,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({value:e,type:t,disableEdit:n,internal:h,preferContractSymbol:g=!1}){const[y,b]=(0,r.useState)(!1),v=(0,r.useContext)(u.MetaMetricsContext),{name:_,hasPetname:w}=(0,p.useDisplayName)(e,t,g);(0,r.useEffect)((()=>{h||v({event:c.MetaMetricsEventName.PetnameDisplayed,category:c.MetaMetricsEventCategory.Petnames,properties:{petname_category:t,has_petname:Boolean(null==_?void 0:_.length)}})}),[]);const x=(0,r.useCallback)((()=>{b(!0)}),[b]),k=(0,r.useCallback)((()=>{b(!1)}),[b]),T=function(e,t){if(t===a.NameType.ETHEREUM_ADDRESS)return(0,l.shortenAddress)((0,i.toChecksumAddress)(e));return e}(e,t),C=Boolean(_);return r.default.createElement("div",null,!n&&y&&r.default.createElement(m.default,{value:e,type:t,onClose:k}),r.default.createElement("div",{className:(0,o.default)({name:!0,name__saved:w,name__recognized_unsaved:!w&&C,name__missing:!C}),onClick:x},C?r.default.createElement(f.default,{address:e,diameter:16}):r.default.createElement(s.Icon,{name:s.IconName.Question,className:"name__icon",size:s.IconSize.Md}),C?r.default.createElement(s.Text,{className:"name__name",variant:d.TextVariant.bodyMd},_):r.default.createElement(s.Text,{className:"name__value",variant:d.TextVariant.bodyMd},T)))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("@metamask/name-controller"),o=h(e("classnames")),i=e("ethereumjs-util"),s=e("../../component-library"),l=e("../../../helpers/utils/util"),u=e("../../../contexts/metametrics"),c=e("../../../../shared/constants/metametrics"),d=e("../../../helpers/constants/design-system"),p=e("../../../hooks/useDisplayName"),f=h(e("../../ui/identicon")),m=h(e("./name-details/name-details"));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/name/name.tsx"}],[5186,{"./network-account-balance-header":5187},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./network-account-balance-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/index.js"}],[5187,{"../../../../shared/constants/network":4977,"../../../contexts/i18n":5823,"../../../helpers/constants/design-system":5858,"../../component-library":5440,"../../ui/box/box":5694,"../../ui/icon-with-fallback":5733,"../../ui/identicon":5746,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=p(e("prop-types")),o=p(e("../../ui/icon-with-fallback")),i=p(e("../../ui/identicon")),s=e("../../../helpers/constants/design-system"),l=p(e("../../ui/box/box")),u=e("../../../contexts/i18n"),c=e("../../../../shared/constants/network"),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m({networkName:e,accountName:t,accountBalance:n,tokenName:a,accountAddress:p,chainId:f}){const m=(0,r.useContext)(u.I18nContext),h=c.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[f],g=h?"network-account-balance-header__network-account__ident-icon-ethereum":"network-account-balance-header__network-account__ident-icon-ethereum--gray";return r.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,padding:4,className:"network-account-balance-header",alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween},r.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,gap:2},r.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center},r.default.createElement(i.default,{address:p,diameter:32}),r.default.createElement(o.default,{name:e,size:16,icon:h,wrapperClassName:g})),r.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexStart,flexDirection:s.FlexDirection.Column},r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,"data-testid":"signature-request-network-display"},e),r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold},t))),r.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexEnd,flexDirection:s.FlexDirection.Column},r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},m("balance")),r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold,align:s.TextAlign.End},n," ",a)))}m.propTypes={networkName:a.default.string,accountName:a.default.string,accountBalance:a.default.string,tokenName:a.default.string,accountAddress:a.default.string,chainId:a.default.string}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/network-account-balance-header.js"}],[5188,{"./network-display":5189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./network-display"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/network-display/index.js"}],[5189,{"../../../helpers/constants/design-system":5858,"../../../selectors":6533,"../../component-library":5440,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,o.useSelector)(s.getCurrentNetwork);return a.default.createElement(l.PickerNetwork,{className:"network-display",label:null==t?void 0:t.nickname,labelProps:{"data-testid":"network-display"},src:null==t||null===(e=t.rpcPrefs)||void 0===e?void 0:e.imageUrl,iconProps:{display:"none"},avatarNetworkProps:{size:l.AvatarNetworkSize.Xs},as:"div",backgroundColor:i.BackgroundColor.transparent,borderWidth:0,borderColor:i.BorderColor.borderMuted})};var r,a=(r=e("react"))&&r.__esModule?r:{default:r},o=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../../selectors"),l=e("../../component-library")}}},{package:"$root$",file:"ui/components/app/network-display/network-display.js"}],[5190,{"../../../helpers/constants/design-system":5858,"../../../hooks/useI18nContext":5935,"../../../store/actions":6546,"../../component-library":5440,classnames:3543,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var r=d(e("react")),a=d(e("prop-types")),o=d(e("classnames")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../component-library"),c=e("../../../store/actions");function d(e){return e&&e.__esModule?e:{default:e}}function p({className:e,clickable:t}){const n=(0,l.useI18nContext)(),a=(0,i.useDispatch)();return r.default.createElement(u.Box,{tabIndex:0,"data-testid":"nft-default-image",className:(0,o.default)(e,"nft-default",{"nft-default--clickable":t}),display:s.Display.Flex,alignItems:s.AlignItems.Center,justifyContent:s.JustifyContent.Center,borderRadius:s.BorderRadius.LG},t&&r.default.createElement(u.ButtonLink,{block:!0,className:"nft-default__button",onClick:e=>{e.stopPropagation(),a((0,c.showIpfsModal)())}},n("show")))}p.propTypes={clickable:a.default.bool,className:a.default.string}}}},{package:"$root$",file:"ui/components/app/nft-default-image/nft-default-image.js"}],[5191,{"../../../../shared/constants/network":4977,"../../../helpers/constants/design-system":5858,"../../../hooks/useI18nContext":5935,"../../../store/actions":6546,"../../component-library":5440,"../../component-library/modal-content/deprecated":5448,"../../component-library/modal-header/deprecated":5457,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ToggleIpfsModal=void 0;var r=f(e("react")),a=f(e("prop-types")),o=e("react-redux"),i=e("../../component-library"),s=e("../../component-library/modal-content/deprecated"),l=e("../../component-library/modal-header/deprecated"),u=e("../../../hooks/useI18nContext"),c=e("../../../store/actions"),d=e("../../../../shared/constants/network"),p=e("../../../helpers/constants/design-system");function f(e){return e&&e.__esModule?e:{default:e}}const m=({onClose:e})=>{const t=(0,u.useI18nContext)(),n=(0,o.useDispatch)();return r.default.createElement(i.Modal,{isOpen:!0,onClose:e,className:"toggle-ipfs-modal"},r.default.createElement(i.ModalOverlay,null),r.default.createElement(s.ModalContent,null,r.default.createElement(l.ModalHeader,{onClose:e},t("showNft")),r.default.createElement(i.Box,{className:"toggle-ipfs-modal",marginTop:6},r.default.createElement(i.Text,{variant:p.TextVariant.bodyMd,color:p.TextColor.textAlternative},t("ipfsToggleModalDescriptionOne")),r.default.createElement(i.Text,{variant:p.TextVariant.bodyMd,color:p.TextColor.textAlternative,marginTop:6},t("ipfsToggleModalDescriptionTwo",[r.default.createElement(i.Text,{variant:p.TextVariant.bodyMdBold,color:p.TextColor.textAlternative,as:"span",key:"span"},t("ipfsToggleModalSettings"),",")]))),r.default.createElement(i.ButtonPrimary,{block:!0,marginTop:9,onClick:()=>{n((0,c.setIpfsGateway)(d.IPFS_DEFAULT_GATEWAY_URL)),n((0,c.setIsIpfsGatewayEnabled)(!0)),n((0,c.hideIpfsModal)())},size:p.Size.LG},t("confirm"))))};n.ToggleIpfsModal=m,m.propTypes={onClose:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/nft-default-image/toggle-ipfs-modal.js"}],[5192,{"../../../../app/scripts/lib/util":135,"../../../../shared/constants/app":4962,"../../../../shared/constants/metametrics":4973,"../../../../shared/constants/network":4977,"../../../../shared/constants/transaction":4990,"../../../../shared/modules/string-utils":5030,"../../../contexts/metametrics":5826,"../../../ducks/metamask/metamask":5846,"../../../ducks/send":5851,"../../../helpers/constants/design-system":5858,"../../../helpers/constants/routes":5864,"../../../helpers/utils/nfts":5897,"../../../helpers/utils/util":5906,"../../../hooks/useCopyToClipboard":5924,"../../../hooks/useI18nContext":5935,"../../../hooks/usePrevious":5946,"../../../pages/asset/components/asset-navigation":5966,"../../../selectors":6533,"../../../store/actions":6546,"../../component-library":5440,"../../multichain/nft-item":5598,"../../ui/box":5695,"../../ui/button":5699,"../../ui/info-tooltip":5747,"../../ui/tooltip":5809,"../nft-options/nft-options":5193,lodash:4322,"prop-types":4469,react:4719,"react-redux":4675,"react-router-dom":4704},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=B;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=D(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=D(e("../../ui/box")),u=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),d=e("../../../helpers/utils/util"),p=e("../../../helpers/utils/nfts"),f=e("../../../selectors"),m=D(e("../../../pages/asset/components/asset-navigation")),h=e("../../../ducks/metamask/metamask"),g=e("../../../helpers/constants/routes"),y=e("../../../store/actions"),b=e("../../../../shared/constants/network"),v=e("../../../../app/scripts/lib/util"),_=e("../../../../shared/constants/app"),w=D(e("../nft-options/nft-options")),x=D(e("../../ui/button")),k=e("../../../ducks/send"),T=D(e("../../ui/info-tooltip")),C=e("../../../hooks/usePrevious"),E=e("../../../hooks/useCopyToClipboard"),M=e("../../../../shared/modules/string-utils"),O=e("../../../../shared/constants/transaction"),S=e("../../component-library"),j=D(e("../../ui/tooltip")),P=e("../../multichain/nft-item"),I=e("../../../../shared/constants/metametrics"),N=e("../../../contexts/metametrics");function D(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function B({nft:e}){var t,n,a,D;const{image:R,imageOriginal:B,name:A,description:$,address:W,tokenId:F,standard:L,isCurrentlyOwned:z,lastSale:q}=e,U=(0,c.useI18nContext)(),V=(0,i.useHistory)(),H=(0,o.useDispatch)(),Q=(0,o.useSelector)(f.getIpfsGateway),J=(0,o.useSelector)(h.getNftContracts),K=(0,o.useSelector)(f.getCurrentChainId),Y=(0,o.useSelector)(f.getCurrentNetwork),G=(0,r.useContext)(N.MetaMetricsContext),[X,Z]=(0,E.useCopyToClipboard)(),ee=null===(t=J.find((({address:e})=>(0,M.isEqualCaseInsensitive)(e,W))))||void 0===t?void 0:t.name,{metadata:{name:te}}=(0,o.useSelector)(f.getSelectedInternalAccount),ne=(0,p.getNftImageAlt)(e),re=B??R,ae=(0,d.getAssetImageURL)(B??R,Q),oe=null==re?void 0:re.startsWith("ipfs:"),ie=null==R?void 0:R.startsWith("https:"),se=(0,d.formatDate)(new Date(null==q?void 0:q.timestamp).getTime(),"M/d/y"),{chainId:le}=Y;(0,r.useEffect)((()=>{G({event:I.MetaMetricsEventName.NftDetailsOpened,category:I.MetaMetricsEventCategory.Tokens,properties:{chain_id:le}})}),[G,le]);const ue=(0,C.usePrevious)(e);(0,r.useEffect)((()=>{(0,s.isEqual)(ue,e)||(0,y.checkAndUpdateSingleNftOwnershipStatus)(e)}),[e,ue]);const ce=(()=>{switch(K){case b.CHAIN_IDS.MAINNET:return`https://opensea.io/assets/ethereum/${W}/${F}`;case b.CHAIN_IDS.POLYGON:return`https://opensea.io/assets/matic/${W}/${F}`;case b.CHAIN_IDS.GOERLI:return`https://testnets.opensea.io/assets/goerli/${W}/${F}`;case b.CHAIN_IDS.SEPOLIA:return`https://testnets.opensea.io/assets/sepolia/${W}/${F}`;default:return null}})(),de=L!==O.TokenStandard.ERC721&&L!==O.TokenStandard.ERC1155,pe=(0,v.getEnvironmentType)()===_.ENVIRONMENT_TYPE_POPUP,fe=async()=>{await H((0,k.startNewDraftTransaction)({type:O.AssetType.NFT,details:e})),V.push(g.SEND_ROUTE)},me=()=>!1===z?r.default.createElement("div",{style:{height:"30px"}}):r.default.createElement(l.default,{display:u.Display.Flex,margin:pe?[4,0]:null},r.default.createElement(x.default,{type:"primary",onClick:fe,disabled:de,className:"nft-details__send-button","data-testid":"nft-send-button"},U("send")),de?r.default.createElement(T.default,{position:"top",contentText:U("sendingDisabled")}):null);return r.default.createElement(r.default.Fragment,null,r.default.createElement(m.default,{accountName:te,assetName:ee,onBack:()=>V.push(g.DEFAULT_ROUTE),optionsButton:r.default.createElement(w.default,{onViewOnOpensea:ce?()=>global.platform.openTab({url:ce}):null,onRemove:async()=>{let e=!1;try{await H((0,y.removeAndIgnoreNft)(W,F)),H((0,y.setNewNftAddedMessage)("")),H((0,y.setRemoveNftMessage)("success")),e=!0}catch(e){H((0,y.setNewNftAddedMessage)("")),H((0,y.setRemoveNftMessage)("error"))}finally{G({event:I.MetaMetricsEventName.NFTRemoved,category:"Wallet",properties:{token_contract_address:W,tokenId:F.toString(),asset_type:O.AssetType.NFT,token_standard:L,chain_id:K,isSuccessful:e}}),V.push(g.DEFAULT_ROUTE)}}})}),r.default.createElement(l.default,{className:"nft-details"},r.default.createElement(l.default,{className:"nft-details__top-section",gap:6,flexDirection:u.FlexDirection.Column},r.default.createElement(l.default,{className:"nft-details__nft-item"},r.default.createElement(P.NftItem,{nftImageURL:ae,src:ie?R:ae,alt:R?ne:"",name:A,tokenId:F,networkName:Y.nickname,networkSrc:null===(n=Y.rpcPrefs)||void 0===n?void 0:n.imageUrl,isIpfsURL:oe,clickable:!0})),r.default.createElement(l.default,{flexDirection:u.FlexDirection.Column,className:"nft-details__info",marginTop:4,justifyContent:u.JustifyContent.spaceBetween},r.default.createElement("div",null,r.default.createElement(S.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.headingSm,as:"h4",fontWeight:u.FontWeight.Bold,marginBottom:2},A),r.default.createElement(S.Text,{color:u.TextColor.textMuted,variant:u.TextVariant.bodyMd,as:"h5",marginBottom:4,overflowWrap:u.OverflowWrap.BreakWord},"#",F)),$?r.default.createElement("div",null,r.default.createElement(S.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:2,className:"nft-details__description"},U("description")),r.default.createElement(S.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6",overflowWrap:u.OverflowWrap.BreakWord,marginBottom:4},$)):null,pe?null:me())),r.default.createElement(l.default,{marginBottom:2},q?r.default.createElement(r.default.Fragment,null,r.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row},r.default.createElement(S.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},U("lastSold")),r.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,className:"nft-details__contract-wrapper"},r.default.createElement(S.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6",overflowWrap:u.OverflowWrap.BreakWord,marginBottom:4},se))),r.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row},r.default.createElement(S.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},U("lastPriceSold")),r.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,className:"nft-details__contract-wrapper"},r.default.createElement(S.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6",overflowWrap:u.OverflowWrap.BreakWord,marginBottom:4},null==q||null===(a=q.price)||void 0===a||null===(a=a.amount)||void 0===a?void 0:a.decimal," ",null==q||null===(D=q.price)||void 0===D||null===(D=D.currency)||void 0===D?void 0:D.symbol)))):null,r.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row},r.default.createElement(S.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},U("contractAddress")),r.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,className:"nft-details__contract-wrapper"},r.default.createElement(S.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6",overflowWrap:u.OverflowWrap.BreakWord,marginBottom:4},(0,d.shortenAddress)(W)),r.default.createElement(j.default,{wrapperClassName:"nft-details__tooltip-wrapper",position:"bottom",title:U(X?"copiedExclamation":"copyToClipboard")},r.default.createElement(S.ButtonIcon,{ariaLabel:"copy",color:u.IconColor.iconAlternative,className:"nft-details__contract-copy-button","data-testid":"nft-address-copy",onClick:()=>{Z(W)},iconName:X?S.IconName.CopySuccess:S.IconName.Copy})))),pe?me():null,r.default.createElement(S.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6"},U("nftDisclaimer")))))}B.propTypes={nft:a.default.shape({address:a.default.string.isRequired,tokenId:a.default.string.isRequired,isCurrentlyOwned:a.default.bool,name:a.default.string,description:a.default.string,image:a.default.string,standard:a.default.string,imageThumbnail:a.default.string,imagePreview:a.default.string,imageOriginal:a.default.string,creator:a.default.shape({address:a.default.string,config:a.default.string,profile_img_url:a.default.string}),lastSale:a.default.shape({timestamp:a.default.string,price:a.default.shape({amount:a.default.shape({native:a.default.string,decimal:a.default.string}),currency:a.default.shape({symbol:a.default.string})})})})}}}},{package:"$root$",file:"ui/components/app/nft-details/nft-details.js"}],[5193,{"../../../contexts/i18n":5823,"../../../helpers/constants/design-system":5858,"../../component-library":5440,"../../ui/menu":5763,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("../../../contexts/i18n"),s=e("../../ui/menu"),l=e("../../component-library"),u=e("../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=({onRemove:e,onViewOnOpensea:t})=>{const n=(0,a.useContext)(i.I18nContext),[r,o]=(0,a.useState)(!1),c=(0,a.useRef)(!1);return a.default.createElement("div",{ref:c},a.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,className:"nft-options__button","data-testid":"nft-options__button",onClick:()=>o(!0),color:u.Color.textDefault,size:l.ButtonIconSize.Sm,ariaLabel:n("nftOptions")}),r?a.default.createElement(s.Menu,{"data-testid":"close-nft-options-menu",anchorElement:c.current,onHide:()=>o(!1)},t?a.default.createElement(s.MenuItem,{iconName:l.IconName.Export,"data-testid":"nft-options__view-on-opensea",onClick:()=>{o(!1),t()}},n("viewOnOpensea")):null,a.default.createElement(s.MenuItem,{iconName:l.IconName.Trash,"data-testid":"nft-item-remove",onClick:()=>{o(!1),e()}},n("removeNFT"))):null)};d.propTypes={onRemove:o.default.func.isRequired,onViewOnOpensea:o.default.func};n.default=d}}},{package:"$root$",file:"ui/components/app/nft-options/nft-options.js"}],[5194,{"../../../helpers/constants/routes":5864,"../../../hooks/useI18nContext":5935,"../../component-library":5440,"prop-types":4469,react:4719,"react-router-dom":4704},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var r=u(e("react")),a=u(e("prop-types")),o=e("react-router-dom"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/routes");function u(e){return e&&e.__esModule?e:{default:e}}function c({onActionButtonClick:e}){const t=(0,s.useI18nContext)(),n=(0,o.useHistory)();return r.default.createElement(i.BannerAlert,{className:"nfts-detection-notice",actionButtonLabel:t("selectEnableDisplayMediaPrivacyPreference"),actionButtonOnClick:t=>{t.preventDefault(),n.push(`${l.SECURITY_ROUTE}#display-nft-media`),null==e||e()}},t("newNFTDetectedInImportNFTsMsg",[r.default.createElement("b",{key:"new-nft-detected-in-import-nfts-message-strong-text"},t("newNFTDetectedInImportNFTsMessageStrongText"))]))}c.propTypes={onActionButtonClick:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice-import-nfts/nfts-detection-notice-import-nfts.js"}],[5195,{"../../../hooks/useI18nContext":5935,"../../../selectors":6533,"../../../store/actions":6546,"../../component-library":5440,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,o.useSelector)(u.getOpenSeaEnabled);return a.default.createElement(i.BannerAlert,{className:"nfts-detection-notice",title:e("newNFTsAutodetected"),actionButtonLabel:e("selectNFTPrivacyPreference"),actionButtonOnClick:()=>{n||t((0,l.setOpenSeaEnabled)(!0)),t((0,l.setUseNftDetection)(!0)),t((0,l.setShowNftDetectionEnablementToast)(!0)),t((0,l.detectNfts)())}},e("newNFTDetectedInNFTsTabMessage"))};var r,a=(r=e("react"))&&r.__esModule?r:{default:r},o=e("react-redux"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../store/actions"),u=e("../../../selectors")}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab.js"}],[5196,{"./nfts-items":5197},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./nfts-items"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/nfts-items/index.js"}],[5197,{"../../../../app/scripts/lib/util":135,"../../../../shared/constants/app":4962,"../../../../shared/constants/metametrics":4973,"../../../../shared/constants/transaction":4990,"../../../contexts/metametrics":5826,"../../../ducks/metamask/metamask":5846,"../../../ducks/send":5851,"../../../helpers/constants/design-system":5858,"../../../helpers/constants/routes":5864,"../../../helpers/utils/nfts":5897,"../../../helpers/utils/util":5906,"../../../hooks/useI18nContext":5935,"../../../hooks/usePrevious":5946,"../../../selectors":6533,"../../../store/actions":6546,"../../component-library":5440,"../../multichain/nft-item":5598,"../../ui/box":5695,"../../ui/typography/typography":5814,lodash:4322,"prop-types":4469,react:4719,"react-redux":4675,"react-router-dom":4704},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=P;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=M(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=M(e("../../ui/box")),u=M(e("../../ui/typography/typography")),c=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/app"),p=e("../../../../app/scripts/lib/util"),f=e("../../../selectors"),m=e("../../../helpers/constants/routes"),h=e("../../../helpers/utils/util"),g=e("../../../helpers/utils/nfts"),y=e("../../../store/actions"),b=e("../../../hooks/usePrevious"),v=e("../../../ducks/metamask/metamask"),_=e("../../../hooks/useI18nContext"),w=e("../../component-library"),x=e("../../multichain/nft-item"),k=e("../../../ducks/send"),T=e("../../../../shared/constants/transaction"),C=e("../../../contexts/metametrics"),E=e("../../../../shared/constants/metametrics");function M(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}const S=e=>{const t=(0,p.getEnvironmentType)()===d.ENVIRONMENT_TYPE_POPUP;return e||t===d.ENVIRONMENT_TYPE_POPUP?c.BLOCK_SIZES.ONE_THIRD:c.BLOCK_SIZES.ONE_SIXTH},j="previouslyOwned";function P({collections:e={},previouslyOwnedCollection:t={},isModal:n=!1,onCloseModal:a={},showTokenId:d=!1,displayPreviouslyOwnedCollection:p=!0}){var M;const O=(0,o.useDispatch)(),P=Object.keys(e),I=(0,o.useSelector)(v.getNftsDropdownState),N=(0,b.usePrevious)(P),{address:D}=(0,o.useSelector)(f.getSelectedInternalAccount),R=(0,o.useSelector)(f.getCurrentChainId),B=(0,o.useSelector)(f.getCurrentNetwork),A=(0,_.useI18nContext)(),$=(0,o.useSelector)(f.getIpfsGateway),W=(0,o.useSelector)(f.getOpenSeaEnabled),F=(0,r.useContext)(C.MetaMetricsContext),L=(0,o.useSelector)(k.getSendAnalyticProperties);(0,r.useEffect)((()=>{var e,t;if(R!==undefined&&D!==undefined&&!(0,s.isEqual)(N,P)&&((null==I||null===(e=I[D])||void 0===e?void 0:e[R])===undefined||0===Object.keys(null==I||null===(t=I[D])||void 0===t?void 0:t[R]).length)){const e={};P.forEach((t=>{e[t]=!0}));const t={...I,[D]:{...null==I?void 0:I[D],[R]:e}};O((0,y.updateNftDropDownState)(t))}}),[P,N,I,D,R,O]);const z=(0,i.useHistory)(),q=({nfts:e,collectionName:t,collectionImage:o,key:i})=>{var s;if(!e.length)return null;const p=null===(s=I[D])||void 0===s||null===(s=s[R])||void 0===s?void 0:s[i];return r.default.createElement("div",{className:"nfts-items__collection",key:`collection-${i}`},r.default.createElement("button",{className:"nfts-items__collection-wrapper","data-testid":"collection-expander-button",onClick:()=>{((e,t)=>{const n={...I[D][R],[e]:!t},r={...I,[D]:{[R]:n}};O((0,y.updateNftDropDownState)(r))})(i,p)}},r.default.createElement(l.default,{marginBottom:2,display:c.DISPLAY.FLEX,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.spaceBetween,className:"nfts-items__collection-accordion-title"},r.default.createElement(l.default,{alignItems:c.AlignItems.center,className:"nfts-items__collection-header"},((e,t)=>{var n,a,o;return null!=e&&e.startsWith("ipfs")&&!$?r.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(a=t[0])||void 0===a?void 0:a.toUpperCase())??null):W||null!=e&&e.startsWith("ipfs")?e?r.default.createElement("img",{alt:t,src:(0,h.getAssetImageURL)(e,$),className:"nfts-items__collection-image"}):r.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())??null):r.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(o=t[0])||void 0===o?void 0:o.toUpperCase())??null)})(o,t),r.default.createElement(u.default,{color:c.Color.textDefault,variant:c.TypographyVariant.H5,margin:2},`${t??A("unknownCollection")} (${e.length})`)),r.default.createElement(l.default,{alignItems:c.AlignItems.flexEnd},r.default.createElement(w.Icon,{name:p?w.IconName.ArrowDown:w.IconName.ArrowRight,color:c.Color.iconDefault})))),p?r.default.createElement(l.default,{display:c.DISPLAY.FLEX,flexWrap:c.FLEX_WRAP.WRAP,gap:4},e.map(((e,t)=>{var o,i;const{image:s,address:u,tokenId:c,name:p,imageOriginal:f,tokenURI:y}=e,b=(0,h.getAssetImageURL)(f??s,$),v=(0,g.getNftImageAlt)(e),_=null==s?void 0:s.startsWith("https:"),C=null!=f&&f.startsWith("ipfs")?b:s,M=null===(o=f??s??y)||void 0===o?void 0:o.startsWith("ipfs:");return r.default.createElement(l.default,{"data-testid":"nft-wrapper",width:S(n),key:`nft-${t}`,className:"nfts-items__item-wrapper"},r.default.createElement(x.NftItem,{nftImageURL:C,alt:v,src:_?s:b,name:p,tokenId:c,networkName:B.nickname,networkSrc:null===(i=B.rpcPrefs)||void 0===i?void 0:i.imageUrl,onClick:()=>n?(async e=>{F({event:E.MetaMetricsEventName.sendAssetSelected,category:E.MetaMetricsEventCategory.Send,properties:{is_destination_asset_picker_modal:!1,is_nft:!0},sensitiveProperties:{...L,new_asset_symbol:e.name,new_asset_address:e.address}},{excludeMetaMetricsId:!1}),await O((0,k.updateSendAsset)({type:T.AssetType.NFT,details:e,skipComputeEstimatedGasLimit:!1})),z.push(m.SEND_ROUTE),a()})(e):z.push(`${m.ASSET_ROUTE}/${u}/${c}`),isIpfsURL:M,clickable:!0}),d?r.default.createElement(w.Text,null,`${A("id")}: ${c}`):null)}))):null)};return r.default.createElement("div",{className:"nfts-items"},r.default.createElement(l.default,{paddingTop:6,paddingBottom:6,paddingLeft:4,paddingRight:4,flexDirection:c.FLEX_DIRECTION.COLUMN},r.default.createElement(r.default.Fragment,null,P.map((t=>{const{nfts:n,collectionName:r,collectionImage:a}=e[t];return q({nfts:n,collectionName:r,collectionImage:a,key:t,isPreviouslyOwnedCollection:!1})})),p?q({nfts:t.nfts,collectionName:t.collectionName,collectionImage:null===(M=t.nfts[0])||void 0===M?void 0:M.image,isPreviouslyOwnedCollection:!0,key:j}):null)))}P.propTypes={previouslyOwnedCollection:a.default.shape({nfts:a.default.arrayOf(a.default.shape({address:a.default.string.isRequired,tokenId:a.default.string.isRequired,name:a.default.string,description:a.default.string,image:a.default.string,standard:a.default.string,imageThumbnail:a.default.string,imagePreview:a.default.string,creator:a.default.shape({address:a.default.string,config:a.default.string,profile_img_url:a.default.string})})),collectionName:a.default.string,collectionImage:a.default.string}),collections:a.default.shape({nfts:a.default.arrayOf(a.default.shape({address:a.default.string.isRequired,tokenId:a.default.string.isRequired,name:a.default.string,description:a.default.string,image:a.default.string,standard:a.default.string,imageThumbnail:a.default.string,imagePreview:a.default.string,creator:a.default.shape({address:a.default.string,config:a.default.string,profile_img_url:a.default.string})})),collectionImage:a.default.string,collectionName:a.default.string}),isModal:a.default.bool,onCloseModal:a.default.func,showTokenId:a.default.bool,displayPreviouslyOwnedCollection:a.default.bool}}}},{package:"$root$",file:"ui/components/app/nfts-items/nfts-items.js"}],[5198,{"./nfts-tab":5199},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./nfts-tab"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/nfts-tab/index.js"}],[5199,{"../../../../shared/constants/app":4962,"../../../../shared/constants/metametrics":4973,"../../../contexts/metametrics":5826,"../../../ducks/locale/locale":5845,"../../../ducks/ramps":5848,"../../../helpers/constants/design-system":5858,"../../../helpers/constants/routes":5864,"../../../helpers/constants/zendesk-url":5871,"../../../hooks/useAccountTotalFiatBalance":5920,"../../../hooks/useI18nContext":5935,"../../../hooks/useNftsCollections":5942,"../../../selectors":6533,"../../../store/actions":6546,"../../component-library":5440,"../../multichain/ramps-card/ramps-card":5677,"../../ui/spinner":5793,"../nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab":5195,"../nfts-items":5196,react:4719,"react-redux":4675,"react-router-dom":4704},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useSelector)(c.getUseNftDetection),t=(0,a.useSelector)(c.getIsMainnet),n=(0,o.useHistory)(),T=(0,l.useI18nContext)(),C=(0,a.useDispatch)(),E=(0,r.useContext)(g.MetaMetricsContext),M=(0,a.useSelector)(c.getNftIsStillFetchingIndication),O=(0,a.useSelector)(c.getSelectedAccount),S=(0,a.useSelector)(c.getShouldHideZeroBalanceTokens),{totalFiatBalance:j}=(0,w.useAccountTotalFiatBalance)(O,S),P=0===Number(j),I=(0,a.useSelector)(x.getIsNativeTokenBuyable)&&P,{nftsLoading:N,collections:D,previouslyOwnedCollection:R}=(0,u.useNftsCollections)(),B=Object.keys(D).length>0,A=!1===B,{chainId:$,nickname:W}=(0,a.useSelector)(c.getCurrentNetwork),F=(0,a.useSelector)(v.getCurrentLocale);if((0,r.useEffect)((()=>{!N&&A&&E({event:b.MetaMetricsEventName.EmptyNftsBannerDisplayed,category:b.MetaMetricsEventCategory.Navigation,properties:{chain_id:$,locale:F,network:W,referrer:y.ORIGIN_METAMASK}})}),[N,A,E,$,W,F]),!B&&M)return r.default.createElement(p.Box,{className:"nfts-tab__loading"},r.default.createElement(k.default,{color:"var(--color-warning-default)",className:"loading-overlay__spinner"}));return r.default.createElement(r.default.Fragment,null,I?r.default.createElement(_.RampsCard,{variant:_.RAMPS_CARD_VARIANT_TYPES.NFT}):null,r.default.createElement(p.Box,{className:"nfts-tab"},t&&!e?r.default.createElement(p.Box,{paddingTop:4,paddingInlineStart:4,paddingInlineEnd:4},r.default.createElement(f.default,null)):null,B>0||R.nfts.length>0?r.default.createElement(p.Box,null,r.default.createElement(m.default,{collections:D,previouslyOwnedCollection:R}),M?r.default.createElement(p.Box,{className:"nfts-tab__fetching"},r.default.createElement(k.default,{color:"var(--color-warning-default)",className:"loading-overlay__spinner"})):null):r.default.createElement(r.default.Fragment,null,r.default.createElement(p.Box,{padding:12,display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center},r.default.createElement(p.Box,{justifyContent:i.JustifyContent.center},r.default.createElement("img",{src:"./images/no-nfts.svg"})),r.default.createElement(p.Box,{marginTop:4,marginBottom:12,display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,flexDirection:i.FlexDirection.Column,className:"nfts-tab__link"},r.default.createElement(p.Text,{color:i.TextColor.textMuted,variant:i.TextVariant.headingSm,align:i.TextAlign.Center,as:"h4"},T("noNFTs")),r.default.createElement(p.ButtonLink,{size:i.Size.MD,href:h.default.NFT_TOKENS,externalLink:!0},T("learnMoreUpperCase"))))),r.default.createElement(p.Box,{className:"nfts-tab__buttons",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,margin:4,gap:2,marginBottom:2},r.default.createElement(p.ButtonLink,{size:i.Size.MD,"data-testid":"import-nft-button",startIconName:p.IconName.Add,onClick:()=>{C((0,d.showImportNftsModal)())}},T("importNFT")),!t&&Object.keys(D).length<1?null:r.default.createElement(r.default.Fragment,null,r.default.createElement(p.Box,{className:"nfts-tab__link",justifyContent:i.JustifyContent.flexEnd},t&&!e?r.default.createElement(p.ButtonLink,{size:i.Size.MD,startIconName:p.IconName.Setting,"data-testid":"refresh-list-button",onClick:()=>{n.push(s.SECURITY_ROUTE)}},T("enableAutoDetect")):r.default.createElement(p.ButtonLink,{size:i.Size.MD,startIconName:p.IconName.Refresh,"data-testid":"refresh-list-button",onClick:()=>{t&&C((0,d.detectNfts)()),(0,d.checkAndUpdateAllNftsOwnershipStatus)()}},T("refreshList")))))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("react-redux"),o=e("react-router-dom"),i=e("../../../helpers/constants/design-system"),s=e("../../../helpers/constants/routes"),l=e("../../../hooks/useI18nContext"),u=e("../../../hooks/useNftsCollections"),c=e("../../../selectors"),d=e("../../../store/actions"),p=e("../../component-library"),f=T(e("../nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab")),m=T(e("../nfts-items")),h=T(e("../../../helpers/constants/zendesk-url")),g=e("../../../contexts/metametrics"),y=e("../../../../shared/constants/app"),b=e("../../../../shared/constants/metametrics"),v=e("../../../ducks/locale/locale"),_=e("../../multichain/ramps-card/ramps-card"),w=e("../../../hooks/useAccountTotalFiatBalance"),x=e("../../../ducks/ramps"),k=T(e("../../ui/spinner"));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/nfts-tab/nfts-tab.js"}],[5200,{"./permission-cell":5203},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permission-cell"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permission-cell/index.js"}],[5201,{"../../../../shared/constants/snaps/permissions":4985,"../../../helpers/constants/design-system":5858,"../../../hooks/useI18nContext":5935,"../../../store/actions":6546,"../../component-library":5440,"../../ui/box":5695,"../../ui/menu":5763,"../../ui/popover/popover.component":5781,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionCellOptions=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=m(e("prop-types")),o=e("react-redux"),i=m(e("../../ui/box")),s=e("../../../hooks/useI18nContext"),l=e("../../component-library"),u=e("../../ui/menu"),c=e("../../../helpers/constants/design-system"),d=m(e("../../ui/popover/popover.component")),p=e("../../../../shared/constants/snaps/permissions"),f=e("../../../store/actions");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({snapId:e,permissionName:t,description:n})=>{const a=(0,s.useI18nContext)(),m=(0,o.useDispatch)(),h=(0,r.useRef)(!1),[g,y]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),_=p.DynamicSnapPermissions.includes(t);return r.default.createElement(i.default,{ref:h},r.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,ariaLabel:a("options"),onClick:()=>{y(!0)},"data-testid":t}),g&&r.default.createElement(u.Menu,{anchorElement:h.current,onHide:()=>{y(!1)}},r.default.createElement(u.MenuItem,{onClick:()=>{y(!1),v(!0)}},r.default.createElement(l.Text,{variant:c.TextVariant.bodySm,style:{whiteSpace:"nowrap"}},a("details"))),_&&r.default.createElement(u.MenuItem,{onClick:()=>{y(!1),m((0,f.revokeDynamicSnapPermissions)(e,[t]))}},r.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.errorDefault,style:{whiteSpace:"nowrap"}},a("revokePermission")))),b&&r.default.createElement(d.default,{title:a("details"),onClose:()=>{y(!1),v(!1)}},r.default.createElement(i.default,{marginLeft:4,marginRight:4,marginBottom:4},r.default.createElement(l.Text,null,n))))};n.PermissionCellOptions=g,g.propTypes={snapId:a.default.string.isRequired,permissionName:a.default.string.isRequired,description:a.default.oneOfType([a.default.string,a.default.object])}}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell-options.js"}],[5202,{"../../../helpers/constants/design-system":5858,"../../../helpers/utils/util":5906,"../../../hooks/useI18nContext":5935,"../../component-library":5440,"../../multichain":5584,"../../multichain/avatar-group/avatar-group.types":5549,"../../ui/tooltip":5809,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionCellStatus=void 0;var r=p(e("react")),a=p(e("prop-types")),o=e("../../component-library"),i=e("../../../helpers/constants/design-system"),s=p(e("../../ui/tooltip")),l=e("../../multichain"),u=e("../../multichain/avatar-group/avatar-group.types"),c=e("../../../hooks/useI18nContext"),d=e("../../../helpers/utils/util");function p(e){return e&&e.__esModule?e:{default:e}}const f=({revoked:e,approved:t,dateApproved:n,accounts:a})=>{const p=(0,c.useI18nContext)(),f=()=>r.default.createElement(o.Box,{as:"span",className:"permission-cell__status__accounts-group-box",display:i.Display.InlineFlex},r.default.createElement(s.default,{position:"bottom",html:r.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},r.default.createElement(o.Text,{variant:i.TextVariant.headingSm,color:i.TextColor.textAlternative,textAlign:i.TextAlign.Center},p("accounts")),r.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},a.map(((e,t)=>r.default.createElement(o.Box,{key:`${e.avatarValue}_${t}`,display:i.Display.Flex,justifyContent:i.JustifyContent.flexStart,alignItems:i.AlignItems.center,marginTop:2},r.default.createElement(o.AvatarAccount,{address:e.avatarValue,size:o.AvatarAccountSize.Xs,borderColor:i.BorderColor.backgroundDefault}),r.default.createElement(o.Text,{variant:i.TextVariant.bodyMdMedium,marginLeft:2},e.avatarName))))))},r.default.createElement(l.AvatarGroup,{limit:3,members:a,avatarType:u.AvatarType.ACCOUNT,size:o.AvatarTokenSize.Xs,width:i.BlockSize.Min,borderColor:i.BorderColor.backgroundDefault,marginLeft:4,paddingLeft:4})));return r.default.createElement(o.Text,{as:"div",className:"permission-cell__status",variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative,display:i.Display.Flex},e?a&&a.length?p("permissionRevokedForAccounts",[f()]):p("permissionRevoked"):n?a&&a.length?p("approvedOnForAccounts",[(0,d.formatDate)(n,"yyyy-MM-dd"),f()]):p("approvedOn",[(0,d.formatDate)(n,"yyyy-MM-dd")]):t?p("approved"):a&&a.length?p("permissionRequestedForAccounts",[f()]):p("permissionRequested"))};n.PermissionCellStatus=f,f.propTypes={revoked:a.default.bool,approved:a.default.bool,dateApproved:a.default.number,accounts:a.default.array}}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell-status.js"}],[5203,{"../../../helpers/constants/design-system":5858,"../../component-library":5440,"../../ui/tooltip":5809,"./permission-cell-options":5201,"./permission-cell-status":5202,classnames:3543,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("react")),a=d(e("prop-types")),o=d(e("classnames")),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),l=d(e("../../ui/tooltip")),u=e("./permission-cell-options"),c=e("./permission-cell-status");function d(e){return e&&e.__esModule?e:{default:e}}const p=({snapId:e,permissionName:t,title:n,description:a,weight:d,avatarIcon:p,dateApproved:f,revoked:m,approved:h,showOptions:g,hideStatus:y,accounts:b})=>{var v;const _=s.IconName.Info;let w=i.IconColor.iconMuted,x=i.IconColor.primaryDefault,k=i.Color.primaryMuted;!m&&d<=2&&(x=i.IconColor.warningDefault,k=i.Color.warningMuted,w=i.IconColor.warningDefault),(f||h)&&(x=i.IconColor.iconMuted,k=i.Color.backgroundAlternative),m&&(x=i.IconColor.iconMuted,k=i.Color.backgroundAlternative);let T=p;return"string"!=typeof p&&null!=p&&null!==(v=p.props)&&void 0!==v&&v.iconName&&(T=p.props.iconName),r.default.createElement(s.Box,{className:"permission-cell",display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.flexStart,paddingTop:2,paddingBottom:2},r.default.createElement(s.Box,{display:i.Display.Flex},"string"==typeof T?r.default.createElement(s.AvatarIcon,{iconName:T,size:s.AvatarIconSize.Md,iconProps:{size:s.IconSize.Sm},color:x,backgroundColor:k}):T),r.default.createElement(s.Box,{display:i.Display.Flex,flexWrap:i.FlexWrap.Wrap,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,marginLeft:4,marginRight:4},r.default.createElement(s.Text,{size:i.Size.MD,variant:i.TextVariant.bodyMd,className:(0,o.default)("permission-cell__title",{"permission-cell__title-revoked":m})},n),!y&&r.default.createElement(c.PermissionCellStatus,{revoked:m,approved:h,dateApproved:f,accounts:b})),r.default.createElement(s.Box,{display:i.Display.Flex},g&&e?r.default.createElement(u.PermissionCellOptions,{snapId:e,permissionName:t,description:a}):a&&r.default.createElement(l.default,{html:r.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative},a),position:"bottom"},r.default.createElement(s.Icon,{color:w,name:_,size:s.IconSize.Sm}))))};p.propTypes={snapId:a.default.string,permissionName:a.default.oneOfType([a.default.string,a.default.element]).isRequired,title:a.default.oneOfType([a.default.string.isRequired,a.default.object.isRequired]),description:a.default.oneOfType([a.default.string,a.default.object]),weight:a.default.number,avatarIcon:a.default.any.isRequired,dateApproved:a.default.number,revoked:a.default.bool,approved:a.default.bool,showOptions:a.default.bool,hideStatus:a.default.bool,accounts:a.default.array};n.default=p}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell.js"}],[5204,{"./permission-connect-header":5205},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permission-connect-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permission-connect-header/index.js"}],[5205,{"../../../helpers/constants/design-system":5858,"../../../helpers/utils/util":5906,"../../component-library":5440,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../helpers/constants/design-system"),i=e("../../component-library"),s=e("../../../helpers/utils/util");function l(e){return e&&e.__esModule?e:{default:e}}const u=({origin:e,iconUrl:t})=>{const n=(e=>{try{const t=new URL(e);return t.hostname.split(".").slice(-2).join(".")}catch(e){return"Unknown Origin"}})(e);return r.default.createElement(i.Box,{backgroundColor:o.BackgroundColor.backgroundDefault,width:o.BlockSize.Full,alignItems:o.AlignItems.center,display:o.Display.Flex,padding:4,style:{boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"}},r.default.createElement(i.Box,null,t?r.default.createElement(i.AvatarFavicon,{backgroundColor:o.BackgroundColor.backgroundAlternative,size:i.IconSize.Lg,src:t,name:n}):r.default.createElement(i.AvatarBase,{size:i.IconSize.Lg,display:o.Display.Flex,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.center,color:o.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:o.BackgroundColor.backgroundAlternative},(0,s.getAvatarFallbackLetter)(n))),r.default.createElement(i.Box,{marginLeft:4,marginRight:4,display:o.Display.Flex,flexDirection:o.FlexDirection.Column,style:{overflow:"hidden"}},r.default.createElement(i.Text,{ellipsis:!0,fontWeight:o.FontWeight.Medium},n),r.default.createElement(i.Text,{ellipsis:!0,variant:o.TextVariant.bodySm,color:o.TextColor.textAlternative},e)))};u.propTypes={origin:a.default.string,iconUrl:a.default.string};n.default=u}}},{package:"$root$",file:"ui/components/app/permission-connect-header/permission-connect-header.js"}],[5206,{"./permission-page-container-content":5207,"./permission-page-container.container":5210},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PermissionPageContainerContent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=o(e("./permission-page-container.container")),a=o(e("./permission-page-container-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/permission-page-container/index.js"}],[5207,{"./permission-page-container-content.component":5208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permission-page-container-content.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/index.js"}],[5208,{"../../../../helpers/constants/design-system":5858,"../../../component-library":5440,"../../permissions-connect-permission-list":5215,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=u(e("../../permissions-connect-permission-list")),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.PureComponent{render(){const{t:e}=this.context,{selectedPermissions:t,selectedAccounts:n,subjectMetadata:r}=this.props,l=n.reduce(((e,t)=>(e.push({avatarValue:t.address,avatarName:t.label}),e)),[]);return a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.flexStart,alignItems:i.AlignItems.center,height:i.BlockSize.Full,paddingLeft:4,paddingRight:4,backgroundColor:i.BackgroundColor.backgroundAlternative},a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,paddingTop:4,paddingBottom:4},a.default.createElement(s.Text,{variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center},e("permissions")),a.default.createElement(s.Text,{variant:i.TextVariant.bodyMd,textAlign:i.TextAlign.Center},e("nativePermissionRequestDescription",[a.default.createElement(s.Text,{as:"span",key:`description_key_${r.origin}`,fontWeight:i.FontWeight.Medium},r.origin)]))),a.default.createElement(s.Box,{display:i.Display.Flex,backgroundColor:i.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:i.BorderRadius.XL},a.default.createElement(o.default,{permissions:t,subjectName:r.origin,accounts:l})))}}n.default=d,c(d,"propTypes",{subjectMetadata:r.default.shape({name:r.default.string.isRequired,origin:r.default.string.isRequired,subjectType:r.default.string.isRequired,extensionId:r.default.string,iconUrl:r.default.string}),selectedPermissions:r.default.object.isRequired,selectedAccounts:r.default.array}),c(d,"defaultProps",{selectedAccounts:[]}),c(d,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/permission-page-container-content.component.js"}],[5209,{".":5206,"../../../../app/scripts/controllers/permissions":32,"../../../../shared/constants/metametrics":4973,"../../../../shared/constants/permissions":4981,"../../../helpers/constants/design-system":5858,"../../../helpers/utils/permissions":5900,"../../../helpers/utils/util":5906,"../../component-library":5440,"../../ui/page-container":5774,"../permissions-connect-footer":5211,"../snaps/snap-privacy-warning":5268,"@metamask/permission-controller":1796,"@metamask/snaps-rpc-methods":2467,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=v(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("@metamask/snaps-rpc-methods"),i=e("@metamask/permission-controller"),s=e("../../../../shared/constants/metametrics"),l=e("../../ui/page-container"),u=v(e("../permissions-connect-footer")),c=e("../../../../shared/constants/permissions"),d=e("../../../../app/scripts/controllers/permissions"),p=v(e("../snaps/snap-privacy-warning")),f=e("../../../helpers/utils/util"),m=e("../../../helpers/utils/permissions"),h=e("../../../helpers/constants/design-system"),g=e("../../component-library"),y=e(".");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends a.Component{constructor(...e){super(...e),_(this,"state",{}),_(this,"onCancel",(()=>{const{request:e,rejectPermissionsRequest:t}=this.props;t(e.metadata.id)})),_(this,"onSubmit",(()=>{var e;const{request:t,approvePermissionsRequest:n,rejectPermissionsRequest:r,selectedAccounts:a}=this.props,o={...t,permissions:{...t.permissions},...t.permissions.eth_accounts&&{approvedAccounts:a.map((e=>e.address))},...t.permissions.permittedChains&&{approvedChainIds:null===(e=t.permissions)||void 0===e||null===(e=e.permittedChains)||void 0===e||null===(e=e.caveats.find((e=>"restrictNetworkSwitching"===e.type)))||void 0===e?void 0:e.value}};Object.keys(o.permissions).length>0?n(o):r(o.metadata.id)})),_(this,"onLeftFooterClick",(()=>{this.getRequestedPermissions()[d.PermissionNames.permittedChains]===undefined?this.goBack():this.onCancel()}))}getRequestedPermissions(){return Object.entries(this.props.request.permissions??{}).reduce(((e,[t,n])=>t===c.RestrictedMethods.wallet_snap?(e[t]=this.getDedupedSnapPermissions(),e):(e[t]=n,e)),{})}getDedupedSnapPermissions(){var e;const{request:t,currentPermissions:n}=this.props,r=(0,f.getDedupedSnaps)(t,n);return{...(null==t||null===(e=t.permissions)||void 0===e?void 0:e[o.WALLET_SNAP_PERMISSION_KEY])||{},caveats:[{type:o.SnapCaveatType.SnapIds,value:r.reduce(((e,t)=>(e[t]={},e)),{})}]}}showSnapsPrivacyWarning(){this.setState({isShowingSnapsPrivacyWarning:!0})}componentDidMount(){this.context.trackEvent({category:s.MetaMetricsEventCategory.Auth,event:"Tab Opened",properties:{action:"Connect",legacy_event:!0}}),this.props.request.permissions[o.WALLET_SNAP_PERMISSION_KEY]&&!1===this.props.snapsInstallPrivacyWarningShown&&this.showSnapsPrivacyWarning()}goBack(){const{history:e,connectPath:t}=this.props;e.push(t)}render(){const{requestMetadata:e,targetSubjectMetadata:t,selectedAccounts:n,allAccountsSelected:r}=this.props,o=this.getRequestedPermissions(),s=e=>{this.setState({isShowingSnapsPrivacyWarning:e})},c=()=>{s(!1),this.props.setSnapsInstallPrivacyWarningShownStatus(!0)},f=o[d.PermissionNames.permittedChains]?this.context.t("cancel"):this.context.t("back");return a.default.createElement(a.default.Fragment,null,this.state.isShowingSnapsPrivacyWarning&&a.default.createElement(p.default,{onAccepted:()=>c(),onCanceled:()=>this.onCancel()}),a.default.createElement(y.PermissionPageContainerContent,{requestMetadata:e,subjectMetadata:t,selectedPermissions:o,selectedAccounts:n,allAccountsSelected:r}),a.default.createElement(g.Box,{display:h.Display.Flex,backgroundColor:h.BackgroundColor.backgroundAlternative,flexDirection:h.FlexDirection.Column},(null==t?void 0:t.subjectType)!==i.SubjectType.Snap&&a.default.createElement(u.default,null),a.default.createElement(l.PageContainerFooter,{footerClassName:"permission-page-container-footer",cancelButtonType:"default",onCancel:()=>this.onLeftFooterClick(),cancelText:f,onSubmit:()=>this.onSubmit(),submitText:this.context.t("confirm"),buttonSizeLarge:!1,disabled:(0,m.containsEthPermissionsAndNonEvmAccount)(n,o)})))}}n.default=w,_(w,"propTypes",{approvePermissionsRequest:r.default.func.isRequired,rejectPermissionsRequest:r.default.func.isRequired,selectedAccounts:r.default.array,allAccountsSelected:r.default.bool,currentPermissions:r.default.object,snapsInstallPrivacyWarningShown:r.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:r.default.func,request:r.default.object,requestMetadata:r.default.object,targetSubjectMetadata:r.default.shape({name:r.default.string,origin:r.default.string.isRequired,subjectType:r.default.string.isRequired,extensionId:r.default.string,iconUrl:r.default.string}),history:r.default.object.isRequired,connectPath:r.default.string.isRequired}),_(w,"defaultProps",{request:{},requestMetadata:{},selectedAccounts:[],allAccountsSelected:!1,currentPermissions:{}}),_(w,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.component.js"}],[5210,{"../../../selectors":6533,"./permission-page-container.component":5209,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../selectors"),i=(r=e("./permission-page-container.component"))&&r.__esModule?r:{default:r};n.default=(0,a.connect)(((e,t)=>{var n;const{selectedAccounts:r}=t,a=(0,o.getPermissions)(e,null===(n=t.request.metadata)||void 0===n?void 0:n.origin),i=(0,o.getInternalAccounts)(e);return{allInternalAccountsSelected:Object.keys(r).length===Object.keys(i).length&&r.length>1,currentPermissions:a}}))(i.default)}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.container.js"}],[5211,{"./permissions-connect-footer.component":5212},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permissions-connect-footer.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/index.js"}],[5212,{"../../../helpers/constants/design-system":5858,"../../../helpers/constants/zendesk-url":5871,"../../component-library":5440,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a,o,i=p(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),l=p(e("../../../helpers/constants/zendesk-url")),u=e("../../../helpers/constants/design-system"),c=e("../../component-library");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}class f extends s.Component{render(){const{t:e}=this.context;return s.default.createElement(c.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center},s.default.createElement(c.Text,{variant:u.TextVariant.bodyMd},e("onlyConnectTrust",[s.default.createElement(c.ButtonLink,{key:"permission-connect-footer-learn-more-link",size:c.ButtonLinkSize.Inherit,target:"_blank",onClick:()=>{global.platform.openTab({url:l.default.USER_GUIDE_DAPPS})}},e("learnMoreUpperCase"))])))}}n.default=f,r=f,a="contextTypes",o={t:i.default.func},(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/permissions-connect-footer.component.js"}],[5213,{"./permissions-connect-header.component":5214},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permissions-connect-header.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/index.js"}],[5214,{"../../../helpers/constants/design-system":5858,"../../ui/box":5695,"../../ui/site-origin":5791,"@metamask/permission-controller":1796,classnames:3543,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=d(e("classnames")),i=e("@metamask/permission-controller"),s=d(e("../../ui/site-origin")),l=d(e("../../ui/box")),u=e("../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{renderHeaderIcon(){const{iconUrl:e,iconName:t,siteOrigin:n,leftIcon:r,rightIcon:o,subjectType:l}=this.props;return l===i.SubjectType.Snap?null:a.default.createElement("div",{className:"permissions-connect-header__icon"},a.default.createElement(s.default,{chip:!0,siteOrigin:n,title:n,iconSrc:e,name:t,leftIcon:r,rightIcon:o}))}render(){const{boxProps:e,className:t,headerTitle:n,headerText:r}=this.props;return a.default.createElement(l.default,p({className:(0,o.default)("permissions-connect-header",t),flexDirection:u.FLEX_DIRECTION.COLUMN,justifyContent:u.JustifyContent.center},e),this.renderHeaderIcon(),a.default.createElement("div",{className:"permissions-connect-header__title"},n),a.default.createElement("div",{className:"permissions-connect-header__subtitle"},r))}}n.default=m,f(m,"propTypes",{className:r.default.string,iconUrl:r.default.string,iconName:r.default.string.isRequired,siteOrigin:r.default.string.isRequired,headerTitle:r.default.node,boxProps:r.default.shape({...l.default.propTypes}),headerText:r.default.string,leftIcon:r.default.node,rightIcon:r.default.node,subjectType:r.default.string}),f(m,"defaultProps",{iconUrl:null,headerTitle:"",headerText:"",boxProps:{}})}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/permissions-connect-header.component.js"}],[5215,{"./permissions-connect-permission-list":5216},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permissions-connect-permission-list"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/index.js"}],[5216,{"../../../helpers/utils/permission":5899,"../../../helpers/utils/util":5906,"../../../hooks/useI18nContext":5935,"../../../selectors":6533,"../../component-library":5440,"../permission-cell":5200,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var r=p(e("react")),a=p(e("prop-types")),o=e("react-redux"),i=e("../../../helpers/utils/permission"),s=e("../../../hooks/useI18nContext"),l=e("../../../selectors"),u=e("../../../helpers/utils/util"),c=p(e("../permission-cell")),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f({permissions:e,subjectName:t,accounts:n}){const a=(0,s.useI18nContext)(),p=(0,o.useSelector)(l.getSnapsMetadata);return r.default.createElement(d.Box,{as:"span"},(0,i.getWeightedPermissions)({t:a,permissions:e,getSubjectName:(0,u.getSnapName)(p),subjectName:t}).map(((e,t)=>function(e,t,n){return r.default.createElement(c.default,{permissionName:e.name,title:e.label,description:e.description,weight:e.weight,avatarIcon:e.leftIcon,key:`${e.permissionName}-${t}`,accounts:n})}(e,t,n))))}f.propTypes={permissions:a.default.object.isRequired,subjectName:a.default.string.isRequired,accounts:a.default.arrayOf(a.default.object)}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/permissions-connect-permission-list.js"}],[5217,{"../../../../app/scripts/lib/util":135,"../../../../shared/constants/app":4962,"../../../../shared/constants/time":4988,"../../../helpers/utils/webcam-utils":5907,"../../../hooks/useI18nContext":5935,"../../ui/page-container/page-container-footer/page-container-footer.component":5776,"./enhanced-reader":5218,"@ngraveio/bc-ur":2747,loglevel:4328,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=m(e("loglevel")),o=e("@ngraveio/bc-ur"),i=m(e("prop-types")),s=e("../../../../app/scripts/lib/util"),l=e("../../../../shared/constants/app"),u=m(e("../../../helpers/utils/webcam-utils")),c=m(e("../../ui/page-container/page-container-footer/page-container-footer.component")),d=e("../../../hooks/useI18nContext"),p=e("../../../../shared/constants/time"),f=m(e("./enhanced-reader"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g="ACCESSING_CAMERA",y="NEED_TO_ALLOW_ACCESS",b="READY",v=({isReadingWallet:e,handleCancel:t,handleSuccess:n,setErrorTitle:i})=>{const m=(0,d.useI18nContext)(),[h,v]=(0,r.useState)(g),[_,w]=(0,r.useState)(null),[x,k]=(0,r.useState)(new o.URDecoder),[T,C]=(0,r.useState)(0);let E=null;const M=(0,r.useRef)(!1),O=async()=>{try{const{environmentReady:e}=await u.default.checkStatus();if(!e&&(0,s.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=new URL(window.location.href).hash,t=e?e.substring(1):null;global.platform.openExtensionInBrowser(t)}}catch(e){M.current&&w(e)}return P()},S=async()=>{try{const{permissions:e}=await u.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*p.SECOND))),!M.current)return;v(b)}else M.current&&(E=setTimeout(S,p.SECOND),v(y))}catch(e){M.current&&w(e)}},j=t=>{try{if(!t)return;if(x.receivePart(t),C(x.estimatedPercentComplete()),x.isComplete()){const e=x.resultUR();n(e).catch(w)}}catch(t){i(m(e?"QRHardwareUnknownQRCodeTitle":"QRHardwareInvalidTransactionTitle")),w(new Error(m("unknownQrCode")))}},P=()=>{try{S()}catch(e){if(!M.current)return;"NotAllowedError"===e.name?(a.default.info(`Permission denied: '${e}'`),v(y)):w(e)}};(0,r.useEffect)((()=>(M.current=!0,O(),()=>{M.current=!1,clearTimeout(E)})),[]),(0,r.useEffect)((()=>{h===b?P():h===y&&S()}),[h]);const I=()=>{clearTimeout(E),v(g),w(null),k(new o.URDecoder),C(0),O()};return r.default.createElement("div",{className:"qr-scanner"},_?(()=>{let n,a;return"NO_WEBCAM_FOUND"===_.type?(n=m("noWebcamFoundTitle"),a=m("noWebcamFound")):_.message===m("unknownQrCode")?a=m(e?"QRHardwareUnknownWalletQRCode":"unknownQrCode"):_.message===m("QRHardwareMismatchedSignId")?a=m("QRHardwareMismatchedSignId"):(n=m("generalCameraErrorTitle"),a=m("generalCameraError")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__image"},r.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?r.default.createElement("div",{className:"qr-scanner__title"},n):null,r.default.createElement("div",{className:"qr-scanner__error","data-testid":"qr-scanner__error"},a),r.default.createElement(c.default,{onCancel:()=>{i(""),t()},onSubmit:()=>{i(""),I()},cancelText:m("cancel"),submitText:m("tryAgain"),submitButtonType:"confirm"}))})():(()=>{let e;return h===g?e=m("accessingYourCamera"):h===b?e=m("QRHardwareScanInstructions"):h===y&&(e=m("youNeedToAllowCameraAccess")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__content"},r.default.createElement(f.default,{handleScan:j})),T>0&&r.default.createElement("div",{className:"qr-scanner__progress","data-testid":"qr-reader-progress-bar",style:{"--progress":`${Math.floor(100*T)}%`}}),e&&r.default.createElement("div",{className:"qr-scanner__status"},e))})())};v.propTypes={isReadingWallet:i.default.bool.isRequired,handleCancel:i.default.func.isRequired,handleSuccess:i.default.func.isRequired,setErrorTitle:i.default.func.isRequired};n.default=v}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/base-reader.js"}],[5218,{"../../../../shared/constants/time":4988,"../../ui/spinner":5793,"@zxing/browser":3141,"@zxing/library":3360,loglevel:4328,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("@zxing/library"),o=e("@zxing/browser"),i=c(e("loglevel")),s=c(e("prop-types")),l=e("../../../../shared/constants/time"),u=c(e("../../ui/spinner"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({handleScan:e})=>{const[t,n]=(0,r.useState)(!1),s=(0,r.useMemo)((()=>{const e=new Map;return e.set(a.DecodeHintType.POSSIBLE_FORMATS,[a.BarcodeFormat.QR_CODE]),new o.BrowserQRCodeReader(e,{delayBetweenScanAttempts:100*l.MILLISECOND,delayBetweenScanSuccess:100*l.MILLISECOND})}),[]);return(0,r.useEffect)((()=>{const t=document.getElementById("video"),r=()=>{n(!0)};t.addEventListener("canplay",r);const a=s.decodeFromVideoDevice(undefined,"video",(t=>{t&&e(t.getText())}));return()=>{t.removeEventListener("canplay",r),a.then((e=>{e&&e.stop()})).catch(i.default.info)}}),[]),r.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},r.default.createElement("video",{id:"video",style:{display:t?"block":"none",width:"100%",filter:"blur(4px)"}}),t?null:r.default.createElement(u.default,null))};p.propTypes={handleScan:s.default.func.isRequired};n.default=p}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/enhanced-reader.js"}],[5219,{"./qr-hardware-popover":5220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=e("./qr-hardware-popover"))&&r.__esModule?r:{default:r};n.default=a.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/index.js"}],[5220,{"../../../hooks/useI18nContext":5935,"../../../selectors":6533,"../../../store/actions":6546,"../../ui/popover":5780,"./qr-hardware-sign-request":5221,"./qr-hardware-wallet-importer":5225,"eth-rpc-errors":3745,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("react-redux"),o=e("eth-rpc-errors"),i=e("../../../selectors"),s=p(e("../../ui/popover")),l=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),c=p(e("./qr-hardware-wallet-importer")),d=p(e("./qr-hardware-sign-request"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,l.useI18nContext)(),n=(0,a.useSelector)(i.getCurrentQRHardwareState),{sync:p,sign:f}=n,m=null==p?void 0:p.reading,h=null==f?void 0:f.request,g=m||h,[y,b]=(0,r.useState)(""),{txData:v}=(0,a.useSelector)((e=>e.confirmTransaction)),_=(0,r.useMemo)((()=>v),[null==f||null===(e=f.request)||void 0===e?void 0:e.requestId]),w=(0,a.useDispatch)(),x=(0,r.useCallback)((()=>w((0,u.cancelSyncQRHardware)())),[w]),k=(0,r.useCallback)((()=>{w((0,u.rejectPendingApproval)(_.id,(0,o.serializeError)(o.ethErrors.provider.userRejectedRequest()))),w((0,u.cancelTx)(_)),w((0,u.cancelQRHardwareSignRequest)())}),[w,_]),T=(0,r.useMemo)((()=>{let e="";return h?e=t("QRHardwareSignRequestTitle"):m&&(e=t("QRHardwareWalletImporterTitle")),""!==y&&(e=y),e}),[h,m,t,y]);return g?r.default.createElement(s.default,{title:T,onClose:m?x:k},m&&r.default.createElement(c.default,{handleCancel:x,setErrorTitle:b}),h&&r.default.createElement(d.default,{setErrorTitle:b,handleCancel:k,request:f.request})):null}}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-popover.js"}],[5221,{"./qr-hardware-sign-request.component":5223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=e("./qr-hardware-sign-request.component"))&&r.__esModule?r:{default:r};n.default=a.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/index.js"}],[5222,{"../../../../helpers/constants/design-system":5858,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,"../../../ui/page-container":5774,"@ngraveio/bc-ur":2747,buffer:3520,"prop-types":4469,"qrcode.react":4529,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=d(e("qrcode.react")),o=e("@ngraveio/bc-ur"),i=d(e("prop-types")),s=e("../../../../hooks/useI18nContext"),l=e("../../../../helpers/constants/design-system"),u=e("../../../ui/page-container"),c=e("../../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({type:e,cbor:n,cancelQRHardwareSignRequest:i,toRead:d})=>{const p=(0,s.useI18nContext)(),f=(0,r.useMemo)((()=>new o.UREncoder(new o.UR(t.from(n,"hex"),e),200)),[n,e]),[m,h]=(0,r.useState)(f.nextPart());return(0,r.useEffect)((()=>{const e=setInterval((()=>{h(f.nextPart())}),100);return()=>{clearInterval(e)}}),[f]),r.default.createElement(r.default.Fragment,null,r.default.createElement(c.Box,null,r.default.createElement(c.Text,{align:l.TextAlign.Center},p("QRHardwareSignRequestSubtitle"))),r.default.createElement(c.Box,{paddingTop:4,paddingBottom:4,display:l.Display.Flex,alignItems:l.AlignItems.center,flexDirection:l.FlexDirection.Column},r.default.createElement("div",{style:{padding:20,backgroundColor:"var(--qr-code-white-background)"}},r.default.createElement(a.default,{value:m.toUpperCase(),size:250}))),r.default.createElement(c.Box,{paddingBottom:4,paddingLeft:4,paddingRight:4},r.default.createElement(c.Text,{align:l.TextAlign.Center},p("QRHardwareSignRequestDescription"))),r.default.createElement(u.PageContainerFooter,{onCancel:i,onSubmit:d,cancelText:p("QRHardwareSignRequestCancel"),submitText:p("QRHardwareSignRequestGetSignature"),submitButtonType:"confirm"}))};f.propTypes={type:i.default.string.isRequired,cbor:i.default.string.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,toRead:i.default.func.isRequired};n.default=f}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/player.js"}],[5223,{"../../../../store/actions":6546,"./player":5222,"./reader":5224,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=l(e("prop-types")),o=e("../../../../store/actions"),i=l(e("./player")),s=l(e("./reader"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=({request:e,handleCancel:t,setErrorTitle:n})=>{const[a,l]=(0,r.useState)("play"),u=(0,r.useCallback)((()=>l("read")),[]);return"play"===a?(()=>{const{payload:n}=e;return r.default.createElement(i.default,{type:n.type,cbor:n.cbor,cancelQRHardwareSignRequest:t,toRead:u})})():r.default.createElement(s.default,{cancelQRHardwareSignRequest:t,submitQRHardwareSignature:o.submitQRHardwareSignature,requestId:e.requestId,setErrorTitle:n})};c.propTypes={request:a.default.object.isRequired,handleCancel:a.default.func.isRequired,setErrorTitle:a.default.func.isRequired};n.default=c}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/qr-hardware-sign-request.component.js"}],[5224,{"../../../../hooks/useI18nContext":5935,"../base-reader":5217,"@keystonehq/bc-ur-registry-eth":605,"prop-types":4469,react:4719,uuid:4893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=c(e("react")),a=e("@keystonehq/bc-ur-registry-eth"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("uuid")),i=c(e("prop-types")),s=c(e("../base-reader")),l=e("../../../../hooks/useI18nContext");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}const d=({submitQRHardwareSignature:e,cancelQRHardwareSignRequest:t,requestId:n,setErrorTitle:i})=>{const u=(0,l.useI18nContext)();return r.default.createElement(s.default,{isReadingWallet:!1,handleCancel:()=>{t()},handleSuccess:async t=>{if("eth-signature"===t.type){const r=a.ETHSignature.fromCBOR(t.cbor).getRequestId(),s=o.stringify(r);if(s===n)return await e(s,t.cbor.toString("hex"));throw i(u("QRHardwareInvalidTransactionTitle")),new Error(u("QRHardwareMismatchedSignId"))}throw i(u("QRHardwareInvalidTransactionTitle")),new Error(u("unknownQrCode"))},setErrorTitle:i})};d.propTypes={submitQRHardwareSignature:i.default.func.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,requestId:i.default.string.isRequired,setErrorTitle:i.default.func.isRequired};n.default=d}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/reader.js"}],[5225,{"./qr-hardware-wallet-importer.component":5226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=e("./qr-hardware-wallet-importer.component"))&&r.__esModule?r:{default:r};n.default=a.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/index.js"}],[5226,{"../../../../hooks/useI18nContext":5935,"../../../../store/actions":6546,"../base-reader":5217,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../../store/actions"),i=l(e("../base-reader")),s=e("../../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}const u=({handleCancel:e,setErrorTitle:t})=>{const n=(0,s.useI18nContext)();return r.default.createElement(i.default,{isReadingWallet:!0,handleCancel:e,handleSuccess:async e=>{if("crypto-hdkey"===e.type)return await(0,o.submitQRHardwareCryptoHDKey)(e.cbor.toString("hex"));if("crypto-account"===e.type)return await(0,o.submitQRHardwareCryptoAccount)(e.cbor.toString("hex"));throw t(n("QRHardwareUnknownQRCodeTitle")),new Error(n("unknownQrCode"))},setErrorTitle:t})};u.propTypes={handleCancel:a.default.func.isRequired,setErrorTitle:a.default.func.isRequired};n.default=u}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/qr-hardware-wallet-importer.component.js"}],[5227,{"./recovery-phrase-reminder":5228},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./recovery-phrase-reminder"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/index.js"}],[5228,{"../../../helpers/constants/design-system":5858,"../../../helpers/constants/routes":5864,"../../../hooks/useI18nContext":5935,"../../component-library":5440,"../../ui/box":5695,"../../ui/button":5699,"../../ui/popover":5780,"prop-types":4469,react:4719,"react-router-dom":4704},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var r=f(e("react")),a=f(e("prop-types")),o=e("react-router-dom"),i=e("../../../hooks/useI18nContext"),s=f(e("../../ui/box")),l=f(e("../../ui/button")),u=f(e("../../ui/popover")),c=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/routes"),p=e("../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m({onConfirm:e,hasBackedUp:t}){const n=(0,i.useI18nContext)(),a=(0,o.useHistory)();return r.default.createElement(u.default,{centerTitle:!0,title:n("recoveryPhraseReminderTitle")},r.default.createElement(s.default,{paddingRight:4,paddingBottom:6,paddingLeft:4,className:"recovery-phrase-reminder"},r.default.createElement(p.Text,{color:c.TextColor.textDefault,align:c.TextAlign.Center,variant:c.TextVariant.bodyMd,marginBottom:4},n("recoveryPhraseReminderSubText")),r.default.createElement(s.default,{marginTop:4,marginBottom:8},r.default.createElement("ul",{className:"recovery-phrase-reminder__list"},r.default.createElement(p.Text,{as:"li",color:c.TextColor.textDefault,fontWeight:c.FontWeight.Bold},n("recoveryPhraseReminderItemOne")),r.default.createElement(p.Text,{as:"li"},n("recoveryPhraseReminderItemTwo")),r.default.createElement(p.Text,{as:"li"},t?n("recoveryPhraseReminderHasBackedUp"):r.default.createElement(r.default.Fragment,null,n("recoveryPhraseReminderHasNotBackedUp"),r.default.createElement(s.default,{display:c.DISPLAY.INLINE_BLOCK,marginLeft:1},r.default.createElement(l.default,{type:"link",onClick:()=>{a.push(d.ONBOARDING_UNLOCK_ROUTE)},style:{fontSize:"inherit",padding:0}},n("recoveryPhraseReminderBackupStart"))))))),r.default.createElement(s.default,{justifyContent:c.JustifyContent.center},r.default.createElement(s.default,{width:c.BLOCK_SIZES.TWO_FIFTHS},r.default.createElement(l.default,{type:"primary",onClick:e},n("recoveryPhraseReminderConfirm"))))))}m.propTypes={hasBackedUp:a.default.bool.isRequired,onConfirm:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/recovery-phrase-reminder.js"}],[5229,{"./reveal-SRP-modal":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./reveal-SRP-modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/reveal-SRP-modal/index.js"}],[5230,{"../../../helpers/constants/design-system":5858,"../../../hooks/useI18nContext":5935,"../../../store/actions":6546,"../../component-library":5440,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r,a=(r=e("prop-types"))&&r.__esModule?r:{default:r},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../store/actions"),u=e("../../component-library");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d({setSecretRecoveryPhrase:e,onClose:t,isOpen:n}){const r=(0,s.useI18nContext)(),[a,c]=(0,o.useState)(""),d=(0,o.useCallback)((async t=>{const n=await(0,l.getSeedPhrase)(t);e(n)}),[e]);return o.default.createElement(u.Modal,{isOpen:n,onClose:t,"data-testid":"reveal-srp-modal"},o.default.createElement(u.ModalOverlay,null),o.default.createElement(u.ModalContent,null,o.default.createElement(u.ModalHeader,{onClose:t},r("revealSeedWords")),o.default.createElement(u.Box,{paddingLeft:4,paddingRight:4},o.default.createElement("form",{onSubmit:e=>{e.preventDefault(),d(a)}},o.default.createElement(u.FormTextField,{marginTop:6,id:"account-details-authenticate",label:r("enterYourPassword"),placeholder:r("password"),onChange:e=>c(e.target.value),value:a,variant:i.TextVariant.bodySm,type:"password",labelProps:{fontWeight:i.FontWeight.Medium},autoFocus:!0})),o.default.createElement(u.Box,{display:i.Display.Flex,marginTop:6,gap:2},o.default.createElement(u.ButtonSecondary,{onClick:t,block:!0},r("cancel")),o.default.createElement(u.ButtonPrimary,{onClick:()=>d(a),disabled:""===a,block:!0},r("confirm"))))))}d.propTypes={setSecretRecoveryPhrase:a.default.func.isRequired,onClose:a.default.func.isRequired,isOpen:a.default.bool.isRequired}}}},{package:"$root$",file:"ui/components/app/reveal-SRP-modal/reveal-SRP-modal.js"}],[5231,{"../../../../shared/constants/smartTransactions":4984,"../../../helpers/constants/design-system":5858,"../../../hooks/useI18nContext":5935,"../../../store/actions":6546,"../../component-library":5440,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({isOpen:e,hideWhatsNewPopup:t}){const n=(0,o.useI18nContext)(),u=(0,a.useDispatch)(),c=(0,r.useCallback)((()=>{u((0,l.setSmartTransactionsOptInStatus)(!0))}),[u]),d=(0,r.useCallback)((()=>{u((0,l.setSmartTransactionsOptInStatus)(!1))}),[u]);return(0,r.useEffect)((()=>{e&&t()}),[e,t]),r.default.createElement(s.Modal,{isOpen:e,onClose:c,isClosedOnOutsideClick:!1,isClosedOnEscapeKey:!1,className:"mm-modal__custom-scrollbar mm-smart-transactions-opt-in-modal",autoFocus:!1},r.default.createElement(s.ModalOverlay,null),r.default.createElement(s.ModalContent,null,r.default.createElement(s.ModalHeader,{alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center},n("smartTransactionsOptItModalTitle")),r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,paddingLeft:4,paddingRight:4},r.default.createElement(g,null),r.default.createElement(m,null),r.default.createElement(p,{handleEnableButtonClick:c}),r.default.createElement(f,{handleNoThanksLinkClick:d}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("react-redux"),o=e("../../../hooks/useI18nContext"),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),l=e("../../../store/actions"),u=e("../../../../shared/constants/smartTransactions");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=()=>{const e=(0,o.useI18nContext)();return r.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Inherit,textProps:{variant:i.TextVariant.bodyMd,alignItems:i.AlignItems.flexStart},as:"a",href:u.SMART_TRANSACTIONS_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCaseWithDot"))},p=({handleEnableButtonClick:e})=>{const t=(0,o.useI18nContext)();return r.default.createElement(s.Button,{marginTop:8,variant:s.ButtonVariant.Primary,onClick:e,width:i.BlockSize.Full},t("enable"))},f=({handleNoThanksLinkClick:e})=>{const t=(0,o.useI18nContext)();return r.default.createElement(s.Button,{marginTop:2,type:"link",variant:s.ButtonVariant.Link,color:i.TextColor.textAlternative,onClick:e,width:i.BlockSize.Full,className:"mm-smart-transactions-opt-in-modal__no-thanks-link"},t("noThanks"))},m=()=>{const e=(0,o.useI18nContext)();return r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},r.default.createElement(s.Text,{variant:i.TextVariant.bodyMd,marginTop:4},e("smartTransactionsDescription")),r.default.createElement(s.Text,{variant:i.TextVariant.bodyMd,marginTop:4},e("smartTransactionsDescription2",[r.default.createElement(d,null)])))},h=({text:e,iconName:t})=>r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,className:"mm-smart-transactions-opt-in-modal__benefit",textAlign:i.TextAlign.Center,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.flexStart},r.default.createElement(s.Icon,{name:t,color:i.IconColor.primaryDefault,className:"mm-smart-transactions-opt-in-modal__icon"}),r.default.createElement(s.Text,{variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Medium,marginTop:1},e)),g=()=>{const e=(0,o.useI18nContext)();return r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.center,marginTop:4,paddingLeft:5,paddingRight:5},r.default.createElement(h,{text:e("smartTransactionsBenefit1"),iconName:s.IconName.Confirmation}),r.default.createElement(h,{text:e("smartTransactionsBenefit2"),iconName:s.IconName.Coin}),r.default.createElement(h,{text:e("smartTransactionsBenefit3"),iconName:s.IconName.Clock}))}}}},{package:"$root$",file:"ui/components/app/smart-transactions/smart-transactions-opt-in-modal.tsx"}],[5232,{"../../../../../shared/constants/time":4988,"../../../../helpers/constants/design-system":5858,"../../../../hooks/useCopyToClipboard":5924,"../../../../hooks/useI18nContext":5935,"../../../../hooks/useTimeout":5953,"../../../component-library":5440,"../../../ui/tooltip":5809,"../show-more":5240,classnames:3543,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Copyable=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=m(e("prop-types")),o=m(e("classnames")),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useCopyToClipboard"),l=e("../../../component-library"),u=e("../../../../hooks/useI18nContext"),c=m(e("../../../ui/tooltip")),d=e("../show-more"),p=e("../../../../../shared/constants/time"),f=e("../../../../hooks/useTimeout");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({text:e,sensitive:t=!1,marginTop:n,marginBottom:a})=>{const m=(0,u.useI18nContext)(),[,h]=(0,s.useCopyToClipboard)(),[g,y]=(0,r.useState)(!t),[b,v]=(0,r.useState)(!1),_=(0,f.useTimeout)((()=>v(!1)),3*p.SECOND,!1),w=e=>{e.stopPropagation(),y((e=>!e))};return r.default.createElement(l.Box,{display:i.Display.Flex,onClick:t&&!g?w:t=>{t.stopPropagation(),h(e),v(!0),_()},className:(0,o.default)("copyable",{sensitive:t,clicked:b,visible:g}),backgroundColor:g&&t?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundAlternative,borderRadius:i.BorderRadius.LG,padding:2,marginTop:n,marginBottom:a},t&&r.default.createElement(l.Box,{marginRight:2,className:"copyable__icon"},r.default.createElement(c.default,{wrapperClassName:"copyable__tooltip",html:r.default.createElement(l.Text,null,m(g?"hideSentitiveInfo":"doNotShare")),position:"bottom"},r.default.createElement(l.Icon,{name:g?l.IconName.EyeSlash:l.IconName.Eye,onClick:w,color:g&&t?i.Color.errorAlternative:i.IconColor.iconAlternative,"data-testid":"reveal-icon"}))),t&&!g&&r.default.createElement(l.Text,{color:i.Color.textAlternative,marginRight:2,marginBottom:0,overflowWrap:i.OverflowWrap.Anywhere},m("revealSensitiveContent")),g&&r.default.createElement(d.ShowMore,{marginRight:2,buttonBackground:g&&t?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundAlternative},r.default.createElement(l.Text,{color:g&&t?i.Color.errorAlternative:i.TextColor.textAlternative,marginBottom:0,overflowWrap:i.OverflowWrap.Anywhere},e)),g&&r.default.createElement(l.Icon,{className:"copyable__icon",name:b?l.IconName.CopySuccess:l.IconName.Copy,color:g&&t?i.Color.errorAlternative:i.IconColor.iconAlternative,marginLeft:"auto","data-testid":"copy-icon"}))};n.Copyable=g,g.propTypes={text:a.default.string,sensitive:a.default.bool,marginTop:a.default.number,marginBottom:a.default.number}}}},{package:"$root$",file:"ui/components/app/snaps/copyable/copyable.js"}],[5233,{"./copyable":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Copyable",{enumerable:!0,get:function(){return r.Copyable}});var r=e("./copyable")}}},{package:"$root$",file:"ui/components/app/snaps/copyable/index.js"}],[5234,{"./insight-warnings":5235},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./insight-warnings"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/insight-warnings/index.js"}],[5235,{"../../../../helpers/constants/design-system":5858,"../../../../helpers/constants/snaps":5867,"../../../../helpers/utils/util":5906,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,"../snap-ui-renderer":5312,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),u=e("../snap-ui-renderer"),c=e("../../../../helpers/constants/snaps"),d=e("../../../../helpers/utils/util");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({warnings:e,action:t="confirming",origin:n,onCancel:r,onSubmit:o}){const p=(0,l.useI18nContext)(),f=e.reduce(((e,t,n)=>(e[t.snapId]=0!==n,e)),{}),[m,h]=(0,a.useState)(f),[g,y]=(0,a.useState)(!1),b=()=>{const t=e.length-1;return a.default.createElement(i.Box,{className:"insights-warnings-modal__content"},e.map(((n,r)=>{const{snapId:o,id:i}=n;return a.default.createElement(u.SnapUIRenderer,{key:`${o}-${r}`,snapId:o,interfaceId:i,delineatorType:c.DelineatorType.Warning,onClick:()=>(t=>{let n={...m};const r=!m[t],a=r;n[t]=r,a||(n={...f},n[t]=!1,n[e[0].snapId]=t!==e[0].snapId),h(n)})(o),isCollapsable:!0,isCollapsed:m[o],boxProps:{marginBottom:r===t?0:4}})})))};return a.default.createElement(i.Modal,{isOpen:!0,isClosedOnEscapeKey:!1,isClosedOnOutsideClick:!1,className:"insights-warnings-modal"},a.default.createElement(i.ModalOverlay,null),a.default.createElement(i.ModalContent,null,a.default.createElement(i.ModalHeader,{justifyContent:s.JustifyContent.center,childrenWrapperProps:{alignItems:s.AlignItems.center,display:s.Display.Flex,flexDirection:s.FlexDirection.Column}},a.default.createElement(i.AvatarIcon,{iconName:i.IconName.Warning,size:i.AvatarIconSize.Lg,color:s.IconColor.errorDefault,backgroundColor:s.BackgroundColor.errorMuted}),a.default.createElement(i.Text,{variant:s.TextVariant.headingMd,paddingTop:4,paddingBottom:4},p("insightWarningHeader"))),a.default.createElement(i.ModalBody,null,a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,paddingBottom:4},1===e.length?p("insightWarningContentSingular",[a.default.createElement(i.Text,{variant:s.TextVariant.inherit,key:e.id,fontWeight:s.FontWeight.Medium},`${e.length} ${p("insightWarning")}`),t,c.InsightWarningLanguage[t].noun]):p("insightWarningContentPlural",[a.default.createElement(i.Text,{variant:s.TextVariant.inherit,key:e.id,fontWeight:s.FontWeight.Medium},`${e.length} ${p("insightWarnings")}`),e.length,t,c.InsightWarningLanguage[t].noun])),a.default.createElement(b,null),a.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.flexStart,alignItems:s.AlignItems.center,marginTop:4,marginBottom:4,padding:4,borderRadius:s.BorderRadius.SM,style:{backgroundColor:g?"var(--color-info-muted)":"var(--color-background-default-hover)"}},a.default.createElement(i.Checkbox,{variant:s.TextVariant.bodyMd,isChecked:g,onChange:()=>y((e=>!e)),label:p("insightWarningCheckboxMessage",[p(c.InsightWarningLanguage[t].imperative),a.default.createElement(i.Text,{variant:s.TextVariant.inherit,key:t,fontWeight:s.FontWeight.Medium},(0,d.stripHttpSchemes)(n))])})),a.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween},a.default.createElement(i.Button,{size:i.ButtonSecondarySize.Lg,width:s.BlockSize.Half,variant:i.ButtonVariant.Secondary,onClick:r,marginRight:4},p("cancel")),a.default.createElement(i.Button,{size:i.ButtonPrimarySize.Lg,width:s.BlockSize.Half,"data-testid":"snapInsightsButtonConfirm",danger:!0,onClick:o,disabled:!g},p(c.InsightWarningLanguage[t].imperative))))))}f.propTypes={warnings:o.default.arrayOf(o.default.object),action:o.default.oneOf(Object.keys(c.InsightWarningLanguage)),origin:o.default.string.isRequired,onCancel:o.default.func.isRequired,onSubmit:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/insight-warnings/insight-warnings.js"}],[5236,{"../../../../helpers/constants/design-system":5858,"../../../component-library":5440,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("react")),a=s(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}const l=({title:e,error:t,description:n,iconName:a})=>r.default.createElement(i.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.center,height:o.BlockSize.Full,padding:2},a&&r.default.createElement(i.AvatarIcon,{iconName:a,size:i.AvatarIconSize.Xl,color:o.IconColor.errorDefault,backgroundColor:o.BackgroundColor.errorMuted,marginBottom:4}),r.default.createElement(i.Text,{variant:o.TextVariant.headingLg},e),n&&r.default.createElement(i.Text,{textAlign:o.TextAlign.Center},n),t&&r.default.createElement(i.BannerAlert,{marginTop:4,startAccessory:null,severity:o.Severity.Danger},r.default.createElement(i.Text,{variant:o.TextVariant.bodySm},t)));l.propTypes={title:a.default.node.isRequired,error:a.default.string,description:a.default.string,iconName:a.default.string};n.default=l}}},{package:"$root$",file:"ui/components/app/snaps/install-error/install-error.js"}],[5237,{"./keyring-snap-removal-warning":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./keyring-snap-removal-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/index.ts"}],[5238,{"../../../../../shared/modules/hexstring-utils":5017,"../../../../helpers/constants/design-system":5858,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringAccountListItem=void 0;var r,a=(r=e("react"))&&r.__esModule?r:{default:r},o=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../../shared/modules/hexstring-utils"),l=e("../../../../hooks/useI18nContext");n.KeyringAccountListItem=({account:e,snapUrl:t})=>{const n=(0,l.useI18nContext)();return a.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,borderRadius:i.BorderRadius.MD,borderColor:i.BorderColor.borderDefault,padding:3,width:i.BlockSize.Full,"data-testid":"keyring-account-list-item"},a.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.TenTwelfths},a.default.createElement(o.Box,{flexDirection:i.FlexDirection.Column,marginBottom:2},a.default.createElement(o.Text,{color:i.TextColor.textMuted},n("keyringAccountName")),a.default.createElement(o.Text,null,e.name)),a.default.createElement(o.Box,{flexDirection:i.FlexDirection.Column},a.default.createElement(o.Text,{color:i.TextColor.textMuted},n("keyringAccountPublicAddress")),a.default.createElement(o.Text,{overflowWrap:i.OverflowWrap.Anywhere},(0,s.toChecksumHexAddress)(e.address)))),a.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center},a.default.createElement(o.ButtonIcon,{ariaLabel:"snap-url-export","data-testid":"keyring-account-link",iconName:o.IconName.Export,color:i.IconColor.primaryDefault,onClick:()=>{global.platform.openTab({url:t})}})))}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/keyring-account-list-item.tsx"}],[5239,{"../../../../ducks/metamask/metamask":5846,"../../../../helpers/constants/design-system":5858,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,"../../../component-library/modal-content/deprecated":5448,"../../../component-library/modal-header/deprecated":5457,"../../../ui/info-tooltip":5747,"./keyring-account-list-item":5238,"@metamask/etherscan-link":1428,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({snap:e,keyringAccounts:t,onCancel:n,onClose:r,onSubmit:h,onBack:g,isOpen:y}){const b=(0,d.useI18nContext)(),[v,_]=(0,a.useState)(!1),[w,x]=(0,a.useState)(!1),[k,T]=(0,a.useState)(""),[C,E]=(0,a.useState)(!1),{chainId:M}=(0,i.useSelector)(f.getProviderConfig);(0,a.useEffect)((()=>{_(0===t.length)}),[t]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(s.Modal,{isOpen:y,onClose:r},a.default.createElement(s.ModalOverlay,null),a.default.createElement(l.ModalContent,{modalDialogProps:{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4}},a.default.createElement(u.ModalHeader,{onBack:()=>{v?_(!1):g()},onClose:()=>{_(!1),r()}},b("removeSnap")),!1===v?a.default.createElement(a.default.Fragment,null,a.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Warning,className:""},b("backupKeyringSnapReminder")),a.default.createElement(s.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement(s.Text,null,b("removeKeyringSnap")),a.default.createElement(p.default,{contentText:b("removeKeyringSnapToolTip"),position:"top"})),t.map(((e,t)=>a.default.createElement(m.KeyringAccountListItem,{key:t,account:e,snapUrl:(0,o.getAccountLink)(e.address,M)})))):a.default.createElement(a.default.Fragment,null,a.default.createElement(s.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,marginTop:6},a.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Warning,className:"",marginBottom:4},b("backupKeyringSnapReminder")),a.default.createElement(s.Text,{marginBottom:4},b("keyringSnapRemoveConfirmation",[a.default.createElement(s.Text,{key:"keyringSnapRemoveConfirmation2",fontWeight:c.FontWeight.Bold,as:"span"},e.manifest.proposedName)])),a.default.createElement(s.TextField,{marginBottom:4,value:k,onChange:t=>{var n;T(t.target.value),x((n=t.target.value,E(!1),n===e.manifest.proposedName||(E(!0),!1)))},onPaste:e=>{e.preventDefault()},error:C,inputProps:{"data-testid":"remove-snap-confirmation-input"}}))),a.default.createElement(s.Box,{width:c.BlockSize.Full,display:c.Display.Flex,gap:4},a.default.createElement(s.Button,{block:!0,variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,onClick:n},b("cancel")),a.default.createElement(s.Button,{block:!0,size:s.ButtonSize.Lg,id:"popoverRemoveSnapButton",danger:v,disabled:v&&!w,onClick:async()=>{v?w&&h():_(!0)}},b(v?"removeSnap":"continue"))))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("@metamask/etherscan-link"),i=e("react-redux"),s=e("../../../component-library"),l=e("../../../component-library/modal-content/deprecated"),u=e("../../../component-library/modal-header/deprecated"),c=e("../../../../helpers/constants/design-system"),d=e("../../../../hooks/useI18nContext"),p=(r=e("../../../ui/info-tooltip"))&&r.__esModule?r:{default:r},f=e("../../../../ducks/metamask/metamask"),m=e("./keyring-account-list-item");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/keyring-snap-removal-warning.tsx"}],[5240,{"./show-more":5241},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ShowMore",{enumerable:!0,get:function(){return r.ShowMore}});var r=e("./show-more")}}},{package:"$root$",file:"ui/components/app/snaps/show-more/index.js"}],[5241,{"../../../../helpers/constants/design-system":5858,"../../../../hooks/snaps/useIsOverflowing":5916,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ShowMore=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=u(e("prop-types")),o=u(e("../../../../hooks/snaps/useIsOverflowing")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext");function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}const p=({children:e,...t})=>{const n=(0,l.useI18nContext)(),{contentRef:a,isOverflowing:u}=(0,o.default)(),[c,p]=(0,r.useState)(!1),f=u&&!c;return r.default.createElement(i.Box,d({className:"show-more",style:{position:"relative",overflow:"hidden",maxHeight:c?"none":undefined},ref:a},t),e,f&&r.default.createElement(i.Box,{style:{position:"absolute",bottom:0,right:0,background:`linear-gradient(90deg, transparent 0%, var(--color-${s.BackgroundColor.backgroundDefault}) 33%)`}},r.default.createElement(i.Button,{className:"show-more__button",padding:0,paddingLeft:8,variant:i.ButtonVariant.Link,onClick:e=>{e.stopPropagation(),p(!0)}},r.default.createElement(i.Text,{color:s.TextColor.infoDefault},n("more")))))};n.ShowMore=p,p.propTypes={children:a.default.node,buttonBackground:a.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/show-more/show-more.js"}],[5242,{"./snap-authorship-expanded":5243},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-authorship-expanded"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-expanded/index.js"}],[5243,{"../../../../helpers/constants/design-system":5858,"../../../../helpers/utils/util":5906,"../../../../hooks/snaps/useSafeWebsite":5917,"../../../../hooks/useI18nContext":5935,"../../../../hooks/useOriginMetadata":5943,"../../../../selectors":6533,"../../../../store/actions":6546,"../../../component-library":5440,"../../../ui/toggle-button":5805,"../../../ui/tooltip/tooltip":5810,"../snap-avatar":5246,"../snap-version/snap-external-pill":5319,"@metamask/snaps-utils":2616,classnames:3543,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@metamask/snaps-utils"),a=_(e("classnames")),o=_(e("prop-types")),i=_(e("react")),s=e("react-redux"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../helpers/utils/util"),c=e("../../../../hooks/useI18nContext"),d=e("../../../../hooks/useOriginMetadata"),p=e("../../../../selectors"),f=e("../../../../store/actions"),m=e("../../../component-library"),h=_(e("../../../ui/toggle-button")),g=_(e("../../../ui/tooltip/tooltip")),y=_(e("../snap-avatar")),b=_(e("../snap-version/snap-external-pill")),v=e("../../../../hooks/snaps/useSafeWebsite");function _(e){return e&&e.__esModule?e:{default:e}}const w=({snapId:e,className:t,snap:n})=>{const o=(0,c.useI18nContext)(),_=(0,s.useDispatch)(),w=e&&(0,r.getSnapPrefix)(e),x=e&&(0,r.stripSnapPrefix)(e),k="npm:"===w,T=null!=n&&n.version?`/v/${null==n?void 0:n.version}`:"",C=k?`https://www.npmjs.com/package/${x}${T}`:x,E=(0,s.useSelector)((t=>(0,p.getSnapRegistryData)(t,e))),{name:M}=(0,s.useSelector)((t=>(0,p.getSnapMetadata)(t,e))),{website:O=undefined}=(null==E?void 0:E.metadata)??{},S=(0,v.useSafeWebsite)(O),j=(null==n?void 0:n.versionHistory)??[],P=j.length?j[j.length-1]:undefined,I=(0,d.useOriginMetadata)(null==P?void 0:P.origin);return i.default.createElement(m.Box,{className:(0,a.default)("snaps-authorship-expanded",t),backgroundColor:l.BackgroundColor.backgroundDefault,borderColor:l.BorderColor.borderDefault,borderWidth:1,width:l.BlockSize.Full,borderRadius:l.BorderRadius.LG},i.default.createElement(m.Box,{alignItems:l.AlignItems.center,display:l.Display.Flex,width:l.BlockSize.Full,paddingLeft:4,paddingRight:4,paddingTop:3,paddingBottom:3},i.default.createElement(m.Box,null,i.default.createElement(y.default,{snapId:e})),i.default.createElement(m.Box,{marginLeft:4,marginRight:0,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{overflow:"hidden"}},i.default.createElement(m.Text,{ellipsis:!0,fontWeight:l.FontWeight.Medium},M),i.default.createElement(m.Text,{ellipsis:!0,variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},x))),i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,paddingLeft:4,paddingTop:4,paddingBottom:4,borderColor:l.BorderColor.borderDefault,width:l.BlockSize.Full,style:{borderLeft:l.BorderStyle.none,borderRight:l.BorderStyle.none}},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},o("enabled")),i.default.createElement(m.Box,{style:{maxWidth:"52px"}},i.default.createElement(g.default,{interactive:!0,position:"left",html:o("snapsToggle")},i.default.createElement(h.default,{value:null==n?void 0:n.enabled,onToggle:()=>{null!=n&&n.enabled?_((0,f.disableSnap)(null==n?void 0:n.id)):_((0,f.enableSnap)(null==n?void 0:n.id))}})))),i.default.createElement(m.Box,{padding:4,width:l.BlockSize.Full},S&&i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full,marginBottom:4},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},o("snapDetailWebsite")),i.default.createElement(m.Box,{paddingLeft:8,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexEnd},i.default.createElement(m.ButtonLink,{href:S.toString(),target:"_blank",overflowWrap:l.OverflowWrap.Anywhere},S.host))),I&&P&&i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},o("installOrigin")),i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexEnd},i.default.createElement(m.Text,{textAlign:l.TextAlign.End},I.host),i.default.createElement(m.Text,{color:l.Color.textMuted},o("installedOn",[(0,u.formatDate)(P.date,"dd MMM yyyy")])))),i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,marginTop:4},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},o("version")),i.default.createElement(b.default,{value:null==n?void 0:n.version,url:C}))))};w.propTypes={snapId:o.default.string,className:o.default.string,snap:o.default.object};n.default=w}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-expanded/snap-authorship-expanded.js"}],[5244,{"./snap-authorship-header":5245},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-authorship-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-header/index.js"}],[5245,{"../../../../helpers/constants/design-system":5858,"../../../../selectors":6533,"../../../component-library":5440,"../snap-avatar":5246,"../snap-metadata-modal":5262,"@metamask/snaps-utils":2616,classnames:3543,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=f(e("prop-types")),o=f(e("classnames")),i=e("@metamask/snaps-utils"),s=e("react-redux"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../selectors"),c=e("../../../component-library"),d=f(e("../snap-avatar")),p=e("../snap-metadata-modal");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h=({snapId:e,className:t,boxShadow:n="var(--shadow-size-lg) var(--color-shadow-default)"})=>{const[a,f]=(0,r.useState)(!1),m=e&&(0,i.stripSnapPrefix)(e),{name:h}=(0,s.useSelector)((t=>(0,u.getSnapMetadata)(t,e)));return r.default.createElement(c.Box,{className:(0,o.default)("snaps-authorship-header",t),backgroundColor:l.BackgroundColor.backgroundDefault,width:l.BlockSize.Full,alignItems:l.AlignItems.center,display:l.Display.Flex,padding:4,style:{boxShadow:n}},e&&r.default.createElement(p.SnapMetadataModal,{snapId:e,isOpen:a,onClose:()=>f(!1)}),r.default.createElement(c.Box,null,r.default.createElement(d.default,{snapId:e})),r.default.createElement(c.Box,{marginLeft:4,marginRight:4,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{overflow:"hidden"}},r.default.createElement(c.Text,{ellipsis:!0,fontWeight:l.FontWeight.Medium},h),r.default.createElement(c.Text,{ellipsis:!0,variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},m)),r.default.createElement(c.Box,{marginLeft:"auto"},r.default.createElement(c.AvatarIcon,{className:"snaps-authorship-header__button",iconName:c.IconName.Info,onClick:()=>f(!0),color:l.IconColor.iconMuted,backgroundColor:l.BackgroundColor.backgroundAlternative})))};h.propTypes={snapId:a.default.string,className:a.default.string,boxShadow:a.default.string};n.default=h}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-header/snap-authorship-header.js"}],[5246,{"./snap-avatar":5247},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-avatar"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-avatar/index.js"}],[5247,{"../../../../helpers/constants/design-system":5858,"../../../../helpers/utils/util":5906,"../../../../selectors":6533,"../../../component-library":5440,classnames:3543,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("react")),a=d(e("prop-types")),o=d(e("classnames")),i=e("react-redux"),s=e("../../../../helpers/constants/design-system"),l=e("../../../component-library"),u=e("../../../../selectors"),c=e("../../../../helpers/utils/util");function d(e){return e&&e.__esModule?e:{default:e}}const p=({snapId:e,badgeSize:t=l.IconSize.Sm,avatarSize:n=l.IconSize.Lg,borderWidth:a=2,className:d,badgeBackgroundColor:p=s.BackgroundColor.backgroundAlternative})=>{const f=(0,i.useSelector)((t=>(0,u.getTargetSubjectMetadata)(t,e))),{name:m}=(0,i.useSelector)((t=>(0,u.getSnapMetadata)(t,e))),h=null==f?void 0:f.iconUrl,g=(0,c.getAvatarFallbackLetter)(m);return r.default.createElement(l.BadgeWrapper,{className:(0,o.default)("snap-avatar",d),badge:r.default.createElement(l.AvatarIcon,{iconName:l.IconName.Snaps,size:t,backgroundColor:s.IconColor.infoDefault,borderColor:p,borderWidth:a,iconProps:{color:s.IconColor.infoInverse}}),position:l.BadgeWrapperPosition.bottomRight},h?r.default.createElement(l.AvatarFavicon,{style:{"background-color":"var(--color-background-alternative-hover)"},size:n,src:h,name:m}):r.default.createElement(l.AvatarBase,{size:n,display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,color:s.TextColor.textAlternative,style:{borderWidth:"0px","background-color":"var(--color-background-alternative-hover)"}},g))};p.propTypes={snapId:a.default.string,badgeSize:a.default.string,avatarSize:a.default.string,borderWidth:a.default.number,badgeBackgroundColor:a.default.string,className:a.default.string};n.default=p}}},{package:"$root$",file:"ui/components/app/snaps/snap-avatar/snap-avatar.js"}],[5248,{"../../../../helpers/constants/design-system":5858,"../../../../hooks/useI18nContext":5935,"../../../../selectors":6533,"../../../component-library":5440,"../../../ui/tooltip/tooltip":5810,"../snap-avatar/snap-avatar":5247,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var r=p(e("react")),a=p(e("prop-types")),o=e("react-redux"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=p(e("../../../ui/tooltip/tooltip")),u=e("../../../../hooks/useI18nContext"),c=p(e("../snap-avatar/snap-avatar")),d=e("../../../../selectors");function p(e){return e&&e.__esModule?e:{default:e}}function f({origin:e,snapId:t}){const n=(0,u.useI18nContext)(),{name:a}=(0,o.useSelector)((e=>(0,d.getSnapMetadata)(e,t)));return r.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingTop:2,paddingBottom:2},r.default.createElement(c.default,{snapId:t}),r.default.createElement(s.Box,{width:"full",paddingLeft:4,paddingRight:4},r.default.createElement(s.Text,null,n("connectSnap",[r.default.createElement(s.Text,{variant:i.TextVariant.inherit,key:"1",fontWeight:i.FontWeight.Bold},a)]))),r.default.createElement(s.Box,null,r.default.createElement(l.default,{html:r.default.createElement("div",null,n("snapConnectionWarning",[r.default.createElement("b",{key:"0"},e),r.default.createElement("b",{key:"1"},a)])),position:"bottom"},r.default.createElement(s.Icon,{color:i.IconColor.iconMuted,name:s.IconName.Info,size:s.IconSize.Sm}))))}f.propTypes={origin:a.default.string.isRequired,snapId:a.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-connect-cell/snap-connect-cell.js"}],[5249,{"./snap-delineator":5250},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapDelineator",{enumerable:!0,get:function(){return r.SnapDelineator}});var r=e("./snap-delineator")}}},{package:"$root$",file:"ui/components/app/snaps/snap-delineator/index.js"}],[5250,{"../../../../helpers/constants/design-system":5858,"../../../../helpers/constants/snaps":5867,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,"../../../ui/pulse-loader/pulse-loader":5783,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapDelineator=void 0;var r=c(e("react")),a=c(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../../helpers/constants/snaps"),u=c(e("../../../ui/pulse-loader/pulse-loader"));function c(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}const p=({snapName:e,type:t=l.DelineatorType.default,isLoading:n=!1,isCollapsable:a=!1,isCollapsed:c=!1,children:p,onClick:f,boxProps:m})=>{const h=(0,o.useI18nContext)(),g=t===l.DelineatorType.Error||t===l.DelineatorType.Warning;return r.default.createElement(s.Box,d({className:"snap-delineator__wrapper",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,borderStyle:i.BorderStyle.solid,borderColor:i.BorderColor.borderDefault,borderRadius:i.BorderRadius.LG,backgroundColor:g?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundDefault},m,{style:{minHeight:n&&"180px",...null==m?void 0:m.style}}),r.default.createElement(s.Box,{className:"snap-delineator__header",display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,padding:1,style:{borderBottomWidth:c?0:1}},r.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,className:"snap-delineator__header__container"},r.default.createElement(s.AvatarIcon,{iconName:s.IconName.Snaps,className:"snap-delineator__header__icon",size:s.AvatarIconSize.Xs,backgroundColor:g?i.IconColor.errorDefault:i.IconColor.infoDefault,iconProps:{color:i.IconColor.infoInverse}}),r.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textDefault,className:"snap-delineator__header__text",marginLeft:1,marginTop:0,marginBottom:0,marginRight:1,display:"block"},h((0,l.getDelineatorTitle)(t),[e]))),a&&r.default.createElement(s.Icon,{name:c?s.IconName.ArrowDown:s.IconName.ArrowUp,size:s.IconSize.Sm,color:i.IconColor.iconMuted,className:"snap-delineator__expansion-icon",onClick:f})),r.default.createElement(s.Box,{className:"snap-delineator__content",padding:4,display:a&&c?i.Display.None:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:n&&i.AlignItems.center,justifyContent:n&&i.JustifyContent.center,style:{flexGrow:n&&"1"}},n?r.default.createElement(u.default,null):p))};n.SnapDelineator=p,p.propTypes={snapName:a.default.string,type:a.default.string,isCollapsable:a.default.bool,isCollapsed:a.default.bool,isLoading:a.default.bool,onClick:a.default.func,boxProps:a.default.object,children:a.default.node}}}},{package:"$root$",file:"ui/components/app/snaps/snap-delineator/snap-delineator.js"}],[5251,{"../../../../helpers/constants/design-system":5858,"../../../../helpers/constants/routes":5864,"../../../../helpers/constants/snaps":5867,"../../../../hooks/useI18nContext":5935,"../../../../selectors":6533,"../../../../store/actions":6546,"../../../component-library":5440,"../copyable":5233,"../snap-delineator":5249,"../snap-ui-renderer":5312,"./useSnapHome":5252,"prop-types":4469,react:4719,"react-redux":4675,"react-router-dom":4704},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapHomeRenderer=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("react-router-dom"),s=e("react-redux"),l=e("../../../component-library"),u=e("../snap-ui-renderer"),c=e("../../../../selectors"),d=e("../snap-delineator"),p=e("../../../../helpers/constants/snaps"),f=e("../../../../helpers/constants/design-system"),m=e("../copyable"),h=e("../../../../hooks/useI18nContext"),g=e("../../../../store/actions"),y=e("../../../../helpers/constants/routes"),b=e("./useSnapHome");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const _=({snapId:e})=>{const t=(0,s.useDispatch)(),n=(0,h.useI18nContext)(),{name:r}=(0,s.useSelector)((t=>(0,c.getSnapMetadata)(t,e))),o=(0,s.useSelector)(c.getMemoizedUnapprovedTemplatedConfirmations),v=(0,s.useSelector)(c.getMemoizedUnapprovedConfirmations),_=(0,i.useHistory)(),{data:w,error:x,loading:k}=(0,b.useSnapHome)({snapId:e}),T=k||x?undefined:null==w?void 0:w.id;return(0,a.useEffect)((()=>()=>T&&t((0,g.deleteInterface)(T))),[T]),(0,a.useEffect)((()=>{const t=o.find((t=>t.origin===e)),n=v.find((t=>t.origin===e));t?_.push(`${y.CONFIRMATION_V_NEXT_ROUTE}/${t.id}`):n&&_.push(`${y.CONFIRM_TRANSACTION_ROUTE}/${n.id}`)}),[o,v,_]),a.default.createElement(l.Box,null,x&&a.default.createElement(d.SnapDelineator,{snapName:r,type:p.DelineatorType.Error},a.default.createElement(l.Text,{variant:f.TextVariant.bodySm,marginBottom:4},n("snapsUIError",[a.default.createElement("b",{key:"0"},r)])),a.default.createElement(m.Copyable,{text:x.message})),(T||k)&&a.default.createElement(u.SnapUIRenderer,{snapId:e,interfaceId:T,isLoading:k}))};n.SnapHomeRenderer=_,_.propTypes={snapId:o.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/snap-home-page/snap-home-renderer.js"}],[5252,{"../../../../store/actions":6546,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapHome=function({snapId:e}){const t=(0,a.useDispatch)(),[n,i]=(0,r.useState)(!0),[s,l]=(0,r.useState)(undefined),[u,c]=(0,r.useState)(undefined);return(0,r.useEffect)((()=>{let n=!1;return async function(){try{c(undefined),i(!0);const r=await(0,o.handleSnapRequest)({snapId:e,origin:"",handler:"onHomePage",request:{jsonrpc:"2.0",method:" "}});n||(l(r),(0,o.forceUpdateMetamaskState)(t))}catch(e){n||c(e)}finally{n||i(!1)}}(),()=>n=!0}),[e]),{data:s,error:u,loading:n}};var r=e("react"),a=e("react-redux"),o=e("../../../../store/actions")}}},{package:"$root$",file:"ui/components/app/snaps/snap-home-page/useSnapHome.js"}],[5253,{"../../../../helpers/constants/design-system":5858,"../../../../helpers/constants/snaps":5867,"../../../../hooks/useI18nContext":5935,"../../../../selectors":6533,"../../../../store/actions":6546,"../../../component-library":5440,"../../../ui/box/box":5694,"../copyable":5233,"../snap-delineator":5249,"../snap-ui-renderer":5312,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapInsight=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=g(e("prop-types")),o=e("react-redux"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),u=g(e("../../../ui/box/box")),c=e("../snap-ui-renderer"),d=e("../snap-delineator"),p=e("../../../../helpers/constants/snaps"),f=e("../copyable"),m=e("../../../../selectors"),h=e("../../../../store/actions");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const b=({snapId:e,data:t,loading:n})=>{var a;const g=(0,o.useDispatch)(),y=(0,l.useI18nContext)(),b=n,v=null==t?void 0:t.error,_=null==t||null===(a=t.response)||void 0===a?void 0:a.id;(0,r.useEffect)((()=>{(async()=>{try{await g((0,h.trackInsightSnapUsage)(e))}catch{}})()}),[e,g]);const{name:w}=(0,o.useSelector)((t=>(0,m.getSnapMetadata)(t,e))),x=!v&&!b&&!_;return r.default.createElement(u.default,{flexDirection:s.FLEX_DIRECTION.COLUMN,height:"full",marginTop:x&&12,marginBottom:x&&12,alignItems:x&&s.AlignItems.center,justifyContent:x&&s.JustifyContent.center,textAlign:x&&s.TextAlign.Center,className:"snap-insight"},!v&&r.default.createElement(u.default,{height:"full",width:"full",flexDirection:s.FLEX_DIRECTION.COLUMN,className:"snap-insight__container"},b||_?r.default.createElement(c.SnapUIRenderer,{snapId:e,interfaceId:_,delineatorType:p.DelineatorType.Insights,isLoading:b}):r.default.createElement(i.Text,{color:s.TextColor.textAlternative,variant:s.TextVariant.bodySm,as:"h6"},y("snapsNoInsight"))),!b&&v&&r.default.createElement(u.default,{padding:4,className:"snap-insight__container__error"},r.default.createElement(d.SnapDelineator,{snapName:w,type:p.DelineatorType.Error},r.default.createElement(i.Text,{variant:s.TextVariant.bodySm,marginBottom:4},y("snapsUIError",[r.default.createElement("b",{key:"0"},w)])),r.default.createElement(f.Copyable,{text:v.message}))))};n.SnapInsight=b,b.propTypes={snapId:a.default.string,data:a.default.object,loading:a.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-insight/snap-insight.js"}],[5254,{"./snap-install-warning":5255},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-install-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-install-warning/index.js"}],[5255,{"../../../../helpers/constants/design-system":5858,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,"../../permission-cell":5200,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=u(e("../../permission-cell"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d({onCancel:e,onSubmit:t,warnings:n,snapName:a}){const u=(0,o.useI18nContext)(),[c,d]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!0);function m(e,t){const n=function(e){if(1===e.length)return[r.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,as:"span",key:"warningMessageSubject"},e[0].warningMessageSubject)];if(2===e.length){const t=e[0].warningMessageSubject,n=e[1].warningMessageSubject;return[r.default.createElement(s.Text,{fontWeight:i.FontWeight.Normal,as:"span",key:"warningMessageSubject"},u("andForTwoItems",[r.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${t}_and_first`},t),r.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${n}_and_second`},n)]))]}return e.map(((t,n)=>e.length-1===n?[]:e.length-2===n?[r.default.createElement(s.Text,{fontWeight:i.FontWeight.Normal,as:"span",key:`${t.permissionName}_and_${n}`},u("andForListItems",[r.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${t.permissionName}_and_first_${n}`},t.warningMessageSubject),r.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${t.permissionName}_and_second_first_${n}`},e[e.length-1].warningMessageSubject)]))]:[r.default.createElement("span",{key:`${t.permissionName}_${n}`},r.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,as:"span"},t.warningMessageSubject,", "))]))}(e);return r.default.createElement(s.Box,{as:"span",marginBottom:4},r.default.createElement(l.default,{permissionName:r.default.createElement(s.Text,null,u(t.name,[n])),title:r.default.createElement(s.Text,null,u(t.title,[n])),description:u(t.description,[r.default.createElement(s.Text,{color:i.TextColor.inherit,variant:i.TextVariant.inherit,fontWeight:i.FontWeight.Medium,key:"1"},a)]),weight:1,avatarIcon:s.IconName.Key,key:`snapInstallWarningPermissionCellKeyEntropy_${t.permissionName}`,hideStatus:!0,margin:0}))}const h={name:"snapInstallWarningPermissionNameForViewPublicKey",title:"snapInstallWarningPermissionNameForViewPublicKey",description:"snapInstallWarningPermissionDescriptionForBip32View"},g={name:"snapInstallWarningPermissionNameForEntropy",title:"snapInstallWarningPermissionNameForEntropy",description:"snapInstallWarningPermissionDescriptionForEntropy"},y=n.filter((e=>"snap_getBip32PublicKey"===e.permissionName)),b=n.filter((e=>"snap_getBip32Entropy"===e.permissionName||"snap_getBip44Entropy"===e.permissionName));return r.default.createElement(s.Modal,{onClose:e,isOpen:p,className:"snap-install-warning"},r.default.createElement(s.ModalContent,null,r.default.createElement(s.ModalHeader,{onClose:e},r.default.createElement(s.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.center,marginBottom:4},r.default.createElement(s.AvatarIcon,{iconName:s.IconName.Danger,backgroundColor:i.BackgroundColor.warningMuted,color:i.IconColor.warningDefault,size:s.AvatarIconSize.Xl}))),r.default.createElement(s.ModalBody,null,r.default.createElement(s.Text,{paddingBottom:4,textAlign:i.TextAlign.Center,variant:i.TextVariant.headingMd,as:"h2"},u("snapInstallWarningHeading")),r.default.createElement(s.Text,{paddingBottom:4,textAlign:i.TextAlign.Left},u("snapInstallWarningCheck",[r.default.createElement(s.Text,{key:"snapNameInWarningDescription",fontWeight:i.FontWeight.Medium,as:"span"},a)])),b.length>0&&m(b,g),y.length>0&&m(y,h),r.default.createElement(s.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.flexStart,alignItems:i.AlignItems.center,marginTop:4,padding:4,borderRadius:i.BorderRadius.SM,backgroundColor:c?i.BackgroundColor.infoMuted:i.BackgroundColor.backgroundAlternative},r.default.createElement(s.Checkbox,{isRequired:!0,onChange:()=>d((e=>!e)),isChecked:c,label:r.default.createElement(s.Text,{as:"span"},"Install"," ",r.default.createElement(s.Text,{as:"span",fontWeight:i.FontWeight.Medium},a))}))),r.default.createElement(s.ModalFooter,{onSubmit:function(){f(!1),t()},submitButtonProps:{children:u("confirm"),disabled:!c,"data-testid":"snap-install-warning-modal-confirm"}})))}d.propTypes={onCancel:a.default.func,onSubmit:a.default.func,warnings:a.default.arrayOf({id:a.default.string,permissionName:a.default.string,warningMessageSubject:a.default.oneOfType([a.default.string,a.default.element])}),snapName:a.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-install-warning/snap-install-warning.js"}],[5256,{"./snap-legacy-authorship-header":5257},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-legacy-authorship-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-legacy-authorship-header/index.js"}],[5257,{"../../../../helpers/constants/design-system":5858,"../../../../selectors":6533,"../../../component-library":5440,"../snap-avatar":5246,"@metamask/snaps-utils":2616,classnames:3543,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=p(e("react")),a=p(e("prop-types")),o=p(e("classnames")),i=e("@metamask/snaps-utils"),s=e("react-redux"),l=e("../../../../helpers/constants/design-system"),u=e("../../../component-library"),c=e("../../../../selectors"),d=p(e("../snap-avatar"));function p(e){return e&&e.__esModule?e:{default:e}}const f=({snapId:e,className:t,marginLeft:n,marginRight:a})=>{const p=e&&(0,i.stripSnapPrefix)(e),{name:f}=(0,s.useSelector)((t=>(0,c.getSnapMetadata)(t,e)));return r.default.createElement(u.Box,{className:(0,o.default)("snap-legacy-authorship-header",t),backgroundColor:l.BackgroundColor.backgroundDefault,width:l.BlockSize.Full,alignItems:l.AlignItems.center,display:l.Display.Flex,padding:2,borderColor:l.BorderColor.borderDefault,borderRadius:l.BorderRadius.pill,marginLeft:n,marginRight:a},r.default.createElement(u.Box,null,r.default.createElement(d.default,{snapId:e})),r.default.createElement(u.Box,{marginLeft:4,marginRight:4,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{overflow:"hidden"}},r.default.createElement(u.Text,{ellipsis:!0,fontWeight:l.FontWeight.Medium},f),r.default.createElement(u.Text,{ellipsis:!0,variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},p)))};f.propTypes={snapId:a.default.string,className:a.default.string,marginLeft:a.default.number,marginRight:a.default.number};n.default=f}}},{package:"$root$",file:"ui/components/app/snaps/snap-legacy-authorship-header/snap-legacy-authorship-header.js"}],[5258,{"./snap-link-warning":5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-link-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-link-warning/index.js"}],[5259,{"../../../../helpers/constants/design-system":5858,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,"../../../component-library/modal-content/deprecated":5448,"../../../component-library/modal-header/deprecated":5457,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r=c(e("react")),a=c(e("prop-types")),o=e("../../../component-library"),i=e("../../../component-library/modal-content/deprecated"),s=e("../../../component-library/modal-header/deprecated"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}function d({isOpen:e,onClose:t,url:n}){const a=(0,u.useI18nContext)(),c=n&&new URL(n),d=c&&n.split(c.host);return r.default.createElement(o.Modal,{isOpen:e,onClose:t},r.default.createElement(o.ModalOverlay,null),r.default.createElement(i.ModalContent,{modalDialogProps:{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4}},r.default.createElement(s.ModalHeader,{onClose:t,childrenWrapperProps:{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,gap:2}},r.default.createElement(o.Icon,{name:o.IconName.Danger,color:l.IconColor.warningDefault,size:o.AvatarIconSize.Xl}),r.default.createElement(o.Text,{variant:l.TextVariant.headingMd},a("leaveMetaMask")),r.default.createElement(o.Text,{textAlign:l.TextAlign.Center},a("leaveMetaMaskDesc"))),r.default.createElement(o.ButtonLink,{externalLink:!0,href:n,width:l.BlockSize.Full,textProps:{width:l.BlockSize.Full}},r.default.createElement(o.Box,{display:l.Display.Flex,FlexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,backgroundColor:l.BackgroundColor.backgroundAlternative,borderColor:l.BorderColor.borderDefault,borderStyle:l.BorderStyle.solid,borderRadius:l.BorderRadius.MD,paddingTop:3,paddingBottom:3,paddingRight:4,paddingLeft:4,width:l.BlockSize.Full},c&&r.default.createElement(o.Text,{ellipsis:!0,style:{overflow:"hidden"},color:l.TextColor.primaryDefault},d[0],r.default.createElement("b",null,c.host),d[1]),r.default.createElement(o.Icon,{name:o.IconName.Export,color:l.IconColor.iconAlternative,marginLeft:2}))),r.default.createElement(o.Box,{width:l.BlockSize.Full,display:l.Display.Flex,gap:4},r.default.createElement(o.Button,{block:!0,variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Lg,onClick:t},a("back")),r.default.createElement(o.Button,{block:!0,size:o.ButtonSize.Lg,"data-testid":"modalSnapLinkButton",href:n,externalLink:!0,onClick:t},a("visitSite")))))}d.propTypes={isOpen:a.default.bool,onClose:a.default.func,url:a.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/snap-link-warning/snap-link-warning.js"}],[5260,{"./snap-list-item":5261},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-list-item"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-list-item/index.js"}],[5261,{"../../../../helpers/constants/design-system":5858,"../../../component-library":5440,"../snap-avatar":5246,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=e("../../../component-library"),s=l(e("../snap-avatar"));function l(e){return e&&e.__esModule?e:{default:e}}const u=({name:e,packageName:t,onClick:n,snapId:a,showUpdateDot:l})=>r.default.createElement(i.Box,{className:"snap-list-item","data-testid":a,display:o.Display.Flex,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.spaceBetween,width:o.BlockSize.Full,padding:4,onClick:n},r.default.createElement(i.Box,{className:"snap-list-item__inner-wrapper",display:o.Display.Flex,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.flexStart,width:o.BlockSize.Full},r.default.createElement(i.Box,null,r.default.createElement(s.default,{snapId:a})),r.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,width:o.BlockSize.Full,style:{overflow:"hidden"}},r.default.createElement(i.Text,{className:"snap-list-item__title",color:o.Color.textDefault,variant:o.TextVariant.bodyMd,ellipsis:!0},e),r.default.createElement(i.Text,{className:"snap-list-item__url",color:o.Color.textAlternative,variant:o.TextVariant.bodySm,ellipsis:!0},t))),l&&r.default.createElement(i.Box,{display:o.Display.Flex},r.default.createElement(i.Icon,{name:i.IconName.FullCircle,size:i.IconSize.Xs,color:o.IconColor.primaryDefault})));u.propTypes={name:a.default.string,packageName:a.default.string,onClick:a.default.func,snapId:a.default.string.isRequired,showUpdateDot:a.default.bool};n.default=u}}},{package:"$root$",file:"ui/components/app/snaps/snap-list-item/snap-list-item.js"}],[5262,{"./snap-metadata-modal":5263},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapMetadataModal",{enumerable:!0,get:function(){return r.SnapMetadataModal}});var r=e("./snap-metadata-modal")}}},{package:"$root$",file:"ui/components/app/snaps/snap-metadata-modal/index.js"}],[5263,{"../../../../helpers/constants/design-system":5858,"../../../../helpers/constants/snaps":5867,"../../../../helpers/utils/util":5906,"../../../../hooks/snaps/useSafeWebsite":5917,"../../../../hooks/useI18nContext":5935,"../../../../hooks/useOriginMetadata":5943,"../../../../selectors":6533,"../../../component-library":5440,"../../../ui/tooltip":5809,"../show-more":5240,"../snap-avatar":5246,"../snap-delineator":5249,"../snap-version/snap-external-pill":5319,"@metamask/snaps-utils":2616,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapMetadataModal=void 0;var r=_(e("react")),a=_(e("prop-types")),o=e("react-redux"),i=e("@metamask/snaps-utils"),s=e("../../../../selectors"),l=e("../../../component-library"),u=e("../../../../helpers/constants/design-system"),c=_(e("../snap-avatar")),d=e("../../../../helpers/utils/util"),p=e("../../../../hooks/useI18nContext"),f=e("../../../../hooks/useOriginMetadata"),m=e("../snap-delineator"),h=e("../../../../helpers/constants/snaps"),g=e("../show-more"),y=_(e("../snap-version/snap-external-pill")),b=e("../../../../hooks/snaps/useSafeWebsite"),v=_(e("../../../ui/tooltip"));function _(e){return e&&e.__esModule?e:{default:e}}const w=({snapId:e,isOpen:t,onClose:n})=>{const a=(0,p.useI18nContext)(),_=(0,o.useSelector)((t=>(0,s.getTargetSubjectMetadata)(t,e))),{name:w,description:x}=(0,o.useSelector)((t=>(0,s.getSnapMetadata)(t,e))),k=(0,o.useSelector)((t=>(0,s.getSnap)(t,e))),T=(null==k?void 0:k.versionHistory)??[],C=T.length?T[T.length-1]:undefined,E=(0,f.useOriginMetadata)(null==C?void 0:C.origin),M=(0,i.getSnapPrefix)(e),O=(0,i.stripSnapPrefix)(e),S="npm:"===M,j=null!=_&&_.version?`/v/${null==_?void 0:_.version}`:"",P=S?`https://www.npmjs.com/package/${O}${j}`:O,I=(0,o.useSelector)((t=>(0,s.getSnapRegistryData)(t,e))),{website:N=undefined}=(null==I?void 0:I.metadata)??{},D=(0,b.useSafeWebsite)(N);return r.default.createElement(l.Modal,{isOpen:t,onClose:n,className:"snap-metadata-modal"},r.default.createElement(l.ModalOverlay,null),r.default.createElement(l.ModalContent,{modalDialogProps:{display:u.Display.Flex,flexDirection:u.FlexDirection.Column}},r.default.createElement(l.ModalHeader,{onClose:n,childrenWrapperProps:{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,gap:2,marginBottom:6}},r.default.createElement(l.Box,null,r.default.createElement(c.default,{snapId:e})),r.default.createElement(l.Text,{variant:u.TextVariant.bodyMdMedium,textAlign:u.TextAlign.Center},w)),r.default.createElement(l.Box,{marginLeft:4,marginRight:4},D&&r.default.createElement(l.Box,{display:u.Display.Flex,FlexDirection:u.FlexDirection.Row,justifyContent:u.JustifyContent.spaceBetween,flexWrap:u.FlexWrap.NoWrap},r.default.createElement(l.Text,{variant:u.TextVariant.bodyMdMedium,marginRight:4},a("snapDetailWebsite")),r.default.createElement(l.ButtonLink,{overflowWrap:u.OverflowWrap.Anywhere,href:D.toString(),target:"_blank",externalLink:!0,textAlign:u.TextAlign.End,ellipsis:!0},D.host)),E&&r.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,justifyContent:u.JustifyContent.spaceBetween,flexWrap:u.FlexWrap.NoWrap,marginTop:4},r.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,alignItems:u.AlignItems.center,marginRight:4},r.default.createElement(l.Text,{variant:u.TextVariant.bodyMdMedium,marginRight:1},a("installOrigin")),C&&r.default.createElement(v.default,{html:a("installedOn",[(0,d.formatDate)(C.date,"dd MMM yyyy")]),position:"bottom"},r.default.createElement(l.Icon,{color:u.IconColor.iconMuted,name:l.IconName.Info,size:l.IconSize.Sm}))),r.default.createElement(l.Text,{ellipsis:!0},E.host)),r.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,justifyContent:u.JustifyContent.spaceBetween,flexWrap:u.FlexWrap.NoWrap,marginTop:4},r.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,alignItems:u.AlignItems.center,marginRight:4},r.default.createElement(l.Text,{variant:u.TextVariant.bodyMdMedium,marginRight:1},a("source")),r.default.createElement(v.default,{html:a("metadataModalSourceTooltip",[r.default.createElement(l.Text,{key:"snap-name",fontWeight:u.FontWeight.Medium,variant:u.TextVariant.inherit},w),r.default.createElement(l.Text,{key:"snap-id",fontWeight:u.FontWeight.Medium,variant:u.TextVariant.inherit},O)]),position:"bottom"},r.default.createElement(l.Icon,{color:u.IconColor.iconMuted,name:l.IconName.Info,size:l.IconSize.Sm}))),r.default.createElement(y.default,{value:O,url:P})),r.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,justifyContent:u.JustifyContent.spaceBetween,flexWrap:u.FlexWrap.NoWrap,marginTop:4},r.default.createElement(l.Text,{variant:u.TextVariant.bodyMdMedium,marginRight:4},a("version")),r.default.createElement(l.Text,{ellipsis:!0},null==_?void 0:_.version)),r.default.createElement(m.SnapDelineator,{type:h.DelineatorType.Description,snapName:w,boxProps:{marginTop:4}},r.default.createElement(g.ShowMore,null,r.default.createElement(l.Text,null,x))))))};n.SnapMetadataModal=w,w.propTypes={snapId:a.default.string,isOpen:a.default.bool,onClose:a.default.func}}}},{package:"$root$",file:"ui/components/app/snaps/snap-metadata-modal/snap-metadata-modal.js"}],[5264,{"./snap-permission-cell":5265},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-permission-cell"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permission-cell/index.js"}],[5265,{"../../../../helpers/constants/design-system":5858,"../../../../helpers/utils/util":5906,"../../../../hooks/useI18nContext":5935,"../../../../selectors":6533,"../../../component-library":5440,"../../permission-cell":5200,"@metamask/permission-controller":1796,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var r=f(e("prop-types")),a=e("@metamask/permission-controller"),o=f(e("react")),i=e("react-redux"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../helpers/utils/util"),c=f(e("../../permission-cell")),d=e("../../../../hooks/useI18nContext"),p=e("../../../../selectors");function f(e){return e&&e.__esModule?e:{default:e}}function m({snapId:e,showOptions:t,permission:n,connectionSubjectMetadata:r,index:f,revoked:m,approved:h}){var g;const y=(0,d.useI18nContext)();let{label:b,description:v,leftIcon:_}=n;const w=(0,i.useSelector)(p.getSnapsMetadata);if(n.connection){if((null==r?void 0:r.subjectType)===a.SubjectType.Snap){const e=(0,u.getSnapName)(w)(r.origin);b=(e=>y("snapConnectTo",[o.default.createElement(s.Text,{key:"snapConnectTo",fontWeight:l.FontWeight.Medium,variant:l.TextVariant.inherit,color:l.TextColor.inherit},e)]))(e),v=(e=>y("snapConnectionPermissionDescription",[o.default.createElement(s.Text,{key:`permissionSubject_${n.subjectName}`,fontWeight:l.FontWeight.Medium,variant:l.TextVariant.inherit,color:l.TextColor.inherit},n.subjectName),o.default.createElement(s.Text,{key:`permissionSubjectDescription_${e}`,fontWeight:l.FontWeight.Medium,variant:l.TextVariant.inherit,color:l.TextColor.inherit},e)]))(e)}x=null==r?void 0:r.iconUrl,k=n,_=x?o.default.createElement(s.AvatarFavicon,{backgroundColor:l.BackgroundColor.backgroundAlternative,size:s.AvatarFaviconSize.Md,iconProps:{size:s.IconSize.Sm},src:x,name:k.connection}):o.default.createElement(s.AvatarBase,{size:s.AvatarBaseSize.Md,display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,color:l.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:l.BackgroundColor.backgroundAlternative},(0,u.getAvatarFallbackLetter)(k.connectionName))}var x,k;return o.default.createElement(c.default,{snapId:e,permissionName:n.permissionName,title:b,description:v,weight:n.weight,avatarIcon:_,dateApproved:null==n||null===(g=n.permissionValue)||void 0===g?void 0:g.date,key:`${n.permissionName}-${f}`,showOptions:t,revoked:m,approved:h})}m.propTypes={snapId:r.default.string.isRequired,showOptions:r.default.bool,permission:r.default.object.isRequired,connectionSubjectMetadata:r.default.object,index:r.default.number,revoked:r.default.bool,approved:r.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permission-cell/snap-permission-cell.js"}],[5266,{"./snap-permissions-list":5267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-permissions-list"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permissions-list/index.js"}],[5267,{"../../../../helpers/utils/permission":5899,"../../../../helpers/utils/util":5906,"../../../../hooks/useI18nContext":5935,"../../../../selectors":6533,"../../../component-library":5440,"../snap-permission-cell":5264,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var r=p(e("react")),a=p(e("prop-types")),o=e("react-redux"),i=e("../../../../helpers/utils/permission"),s=e("../../../../hooks/useI18nContext"),l=e("../../../component-library"),u=e("../../../../selectors"),c=e("../../../../helpers/utils/util"),d=p(e("../snap-permission-cell"));function p(e){return e&&e.__esModule?e:{default:e}}function f({snapId:e,snapName:t,permissions:n,connections:a,showOptions:p}){const f=(0,s.useI18nContext)(),m=(0,o.useSelector)(u.getSnapsMetadata),h={...n,connection_permission:a??{}},g=(0,o.useSelector)((e=>(0,u.getMultipleTargetsSubjectMetadata)(e,a)));return r.default.createElement(l.Box,{className:"snap-permissions-list"},(0,i.getWeightedPermissions)({t:f,permissions:h,subjectName:t,getSubjectName:(0,c.getSnapName)(m)}).map(((t,n)=>r.default.createElement(d.default,{snapId:e,showOptions:p,connectionSubjectMetadata:g[t.connection],permission:t,index:n,key:`permissionCellDisplay_${e}_${n}`}))))}f.propTypes={snapId:a.default.string.isRequired,snapName:a.default.string.isRequired,permissions:a.default.object.isRequired,connections:a.default.object,showOptions:a.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permissions-list/snap-permissions-list.js"}],[5268,{"./snap-privacy-warning":5269},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-privacy-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-privacy-warning/index.js"}],[5269,{"../../../../../shared/constants/terms":4987,"../../../../helpers/constants/design-system":5858,"../../../../hooks/useI18nContext":5935,"../../../../hooks/useScrollRequired":5947,"../../../component-library":5440,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r=c(e("react")),a=c(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useScrollRequired"),u=e("../../../../../shared/constants/terms");function c(e){return e&&e.__esModule?e:{default:e}}function d({onAccepted:e,onCanceled:t}){const n=(0,o.useI18nContext)(),{isScrollable:a,isScrolledToBottom:c,scrollToBottom:d,ref:p,onScroll:f}=(0,l.useScrollRequired)();return r.default.createElement(i.Modal,{onClose:()=>null,isOpen:!0,className:"snap-install-warning"},r.default.createElement(i.ModalContent,null,r.default.createElement(i.ModalBody,{className:"snap-privacy-warning"},r.default.createElement(i.Box,null,r.default.createElement(i.Box,{className:"snap-privacy-warning__header"},r.default.createElement(i.Box,{marginTop:4,className:"snap-privacy-warning__header__info-icon",display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center},r.default.createElement(i.AvatarIcon,{iconName:i.IconName.Info,color:s.IconColor.infoDefault,backgroundColor:s.BackgroundColor.primaryMuted,size:i.AvatarIconSize.Md})),r.default.createElement(i.Box,{className:"snap-privacy-warning__header__title",marginTop:4,marginBottom:4,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center},r.default.createElement(i.Text,{variant:s.TextVariant.headingMd,fontWeight:s.FontWeight.Bold},n("thirdPartySoftware")))),r.default.createElement(i.Box,{className:"snap-privacy-warning__content",ref:p,onScroll:f},r.default.createElement(i.Box,{className:"snap-privacy-warning__message"},r.default.createElement(i.Text,{variant:s.TextVariant.bodyMd},n("snapsPrivacyWarningFirstMessage",[r.default.createElement(i.ButtonLink,{className:"snap-privacy-warning__content__terms-link",key:"privacyNoticeTermsOfUseLink",size:i.ButtonLinkSize.Inherit,href:u.TERMS_OF_USE_LINK,target:"_blank"},"",n("snapsTermsOfUse"),"")])),r.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,paddingTop:6},n("snapsPrivacyWarningSecondMessage")),r.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Bold,paddingTop:6},n("snapsPrivacyWarningThirdMessage"))),a&&!c?r.default.createElement(i.AvatarIcon,{className:"snap-privacy-warning__content__scroll-button","data-testid":"snap-privacy-warning-scroll",iconName:i.IconName.Arrow2Down,backgroundColor:s.BackgroundColor.infoDefault,color:s.IconColor.primaryInverse,onClick:d,style:{cursor:"pointer"}}):null))),r.default.createElement(i.ModalFooter,{onSubmit:e,onCancel:t,submitButtonProps:{children:n("accept"),disabled:!c},cancelButtonProps:{children:n("cancel")}})))}d.propTypes={onAccepted:a.default.func.isRequired,onCanceled:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-privacy-warning/snap-privacy-warning.js"}],[5270,{"./snap-remove-warning":5271},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-remove-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-remove-warning/index.js"}],[5271,{"../../../../helpers/constants/design-system":5858,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,"../../../component-library/modal-content/deprecated":5448,"../../../component-library/modal-header/deprecated":5457,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r=c(e("react")),a=c(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../component-library"),s=e("../../../component-library/modal-content/deprecated"),l=e("../../../component-library/modal-header/deprecated"),u=e("../../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}function d({isOpen:e,onCancel:t,onSubmit:n,snapName:a}){const c=(0,o.useI18nContext)();return r.default.createElement(i.Modal,{isOpen:e,onClose:t},r.default.createElement(i.ModalOverlay,null),r.default.createElement(s.ModalContent,{modalDialogProps:{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:4}},r.default.createElement(l.ModalHeader,{onClose:t},c("pleaseConfirm")),r.default.createElement(i.Text,null,c("removeSnapConfirmation",[a])),r.default.createElement(i.Box,{width:u.BlockSize.Full,display:u.Display.Flex,gap:4},r.default.createElement(i.Button,{block:!0,variant:i.BUTTON_VARIANT.SECONDARY,size:i.BUTTON_SIZES.LG,onClick:t},c("cancel")),r.default.createElement(i.Button,{block:!0,size:i.BUTTON_SIZES.LG,id:"popoverRemoveSnapButton",danger:!0,onClick:n},c("removeSnap")))))}d.propTypes={onCancel:a.default.func,onSubmit:a.default.func,snapName:a.default.string,isOpen:a.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-remove-warning/snap-remove-warning.js"}],[5272,{"./snap-ui-button":5273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./snap-ui-button");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-button/index.ts"}],[5273,{"../../../../contexts/snaps":5827,"../../../../helpers/constants/design-system":5858,"../../../component-library":5440,"@metamask/snaps-sdk":2575,classnames:3543,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIButton=void 0;var r=u(e("react")),a=u(e("classnames")),o=e("@metamask/snaps-sdk"),i=e("../../../component-library"),s=e("../../../../contexts/snaps"),l=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const d={primary:l.TextColor.infoDefault,destructive:l.TextColor.errorDefault,disabled:l.TextColor.textMuted};n.SnapUIButton=({name:e,children:t,type:n,variant:u="primary",disabled:p=!1,className:f="",...m})=>{const{handleEvent:h}=(0,s.useSnapInterfaceContext)(),g=d[p?"disabled":u];return r.default.createElement(i.Text,c({className:(0,a.default)(f,"snap-ui-button",{"snap-ui-button--disabled":p}),as:"button",id:e,type:n,fontWeight:l.FontWeight.Medium,onClick:t=>{n===o.ButtonType.Button&&t.preventDefault(),h({event:o.UserInputEventType.ButtonClickEvent,name:e})},color:g,disabled:p},m),t)}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-button/snap-ui-button.tsx"}],[5274,{"./snap-ui-checkbox":5275},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./snap-ui-checkbox");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-checkbox/index.ts"}],[5275,{"../../../../contexts/snaps":5827,"../../../../helpers/constants/design-system":5858,"../../../component-library":5440,"../../../ui/toggle-button":5805,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUICheckbox=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("../../../../contexts/snaps"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=(r=e("../../../ui/toggle-button"))&&r.__esModule?r:{default:r};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}n.SnapUICheckbox=({name:e,variant:t,fieldLabel:n,label:r,error:u,form:d,...p})=>{const{handleInputChange:f,getValue:m}=(0,o.useSnapInterfaceContext)(),h=m(e,d),[g,y]=(0,a.useState)(h??!1);(0,a.useEffect)((()=>{h!==undefined&&null!==h&&y(h)}),[h]);const b=()=>{y(!g),f(e,!g,d)};return a.default.createElement(s.Box,{className:"snap-ui-renderer__checkbox",display:i.Display.Flex,flexDirection:i.FlexDirection.Column},n&&a.default.createElement(s.Label,{htmlFor:e},n),"toggle"===t?a.default.createElement(l.default,c({onToggle:b,value:g,onLabel:r,offLabel:r},p)):a.default.createElement(s.Checkbox,c({onChange:b,isChecked:g,label:r},p)),u&&a.default.createElement(s.HelpText,{severity:s.HelpTextSeverity.Danger,marginTop:1},u))}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-checkbox/snap-ui-checkbox.tsx"}],[5276,{"./snap-ui-dropdown":5277},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./snap-ui-dropdown");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-dropdown/index.ts"}],[5277,{"../../../../contexts/snaps":5827,"../../../../helpers/constants/design-system":5858,"../../../component-library":5440,"../../../ui/dropdown":5719,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIDropdown=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("../../../../contexts/snaps"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=(r=e("../../../ui/dropdown"))&&r.__esModule?r:{default:r};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}n.SnapUIDropdown=({name:e,label:t,error:n,form:r,...u})=>{const{handleInputChange:d,getValue:p}=(0,o.useSnapInterfaceContext)(),f=p(e,r),[m,h]=(0,a.useState)(f??"");(0,a.useEffect)((()=>{f&&h(f)}),[f]);return a.default.createElement(s.Box,{className:"snap-ui-renderer__dropdown",display:i.Display.Flex,flexDirection:i.FlexDirection.Column},t&&a.default.createElement(s.Label,{htmlFor:e},t),a.default.createElement(l.default,c({"data-testid":"snaps-dropdown",selectedOption:m,onChange:t=>{h(t),d(e,t,r)}},u)),n&&a.default.createElement(s.HelpText,{severity:s.HelpTextSeverity.Danger,marginTop:1},n))}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-dropdown/snap-ui-dropdown.tsx"}],[5278,{"./snap-ui-file-input":5279},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./snap-ui-file-input");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-file-input/index.ts"}],[5279,{"../../../../contexts/snaps":5827,"../../../../helpers/constants/design-system":5858,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,classnames:3543,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIFileInput=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=(r=e("classnames"))&&r.__esModule?r:{default:r},i=e("../../../../contexts/snaps"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../hooks/useI18nContext");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}n.SnapUIFileInput=({name:e,label:t,form:n,accept:r,compact:c,error:d,helpText:p})=>{const f=(0,u.useI18nContext)(),{handleFileChange:m}=(0,i.useSnapInterfaceContext)(),h=(0,a.useRef)(null),[g,y]=(0,a.useState)(!1),b=()=>{var e;null===(e=h.current)||void 0===e||e.click()},v=a.default.createElement(a.default.Fragment,null,t&&a.default.createElement(s.Label,{htmlFor:e,className:(0,o.default)("mm-form-text-field__label")},t),a.default.createElement("input",{id:e,ref:h,type:"file",name:e,onChange:t=>{var r;const a=(null===(r=t.target.files)||void 0===r?void 0:r[0])??null;m(e,a,n)},accept:null==r?void 0:r.join(","),hidden:!0})),_=a.default.createElement(a.default.Fragment,null,p&&a.default.createElement(s.HelpText,{severity:d?s.HelpTextSeverity.Danger:undefined,marginTop:1,className:"mm-form-text-field__help-text"},p));return c?a.default.createElement(s.Box,{className:"snap-ui-renderer__file-input"},v,a.default.createElement(s.ButtonIcon,{type:"button",iconName:s.IconName.Upload,color:l.IconColor.iconAlternative,size:s.ButtonIconSize.Md,padding:1,backgroundColor:l.BackgroundColor.backgroundAlternative,borderColor:l.BorderColor.borderMuted,borderStyle:l.BorderStyle.solid,borderWidth:1,borderRadius:l.BorderRadius.MD,onClick:b,ariaLabel:f("uploadFile")}),_):a.default.createElement(s.Box,{className:"snap-ui-renderer__file-input"},v,a.default.createElement(s.Box,{className:"snap-ui-renderer__file-input__drop-zone",display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,gap:1,paddingTop:5,paddingBottom:5,textAlign:l.TextAlign.Center,borderColor:l.BorderColor.borderMuted,borderStyle:l.BorderStyle.solid,borderWidth:1,borderRadius:l.BorderRadius.MD,style:{cursor:"pointer",backgroundColor:g?"var(--color-background-alternative-hover)":undefined},onClick:b,onDragOver:e=>{e.preventDefault(),y(!0)},onDragLeave:e=>{e.preventDefault(),y(!1)},onDrop:t=>{var r;t.preventDefault(),y(!1);const a=(null===(r=t.dataTransfer)||void 0===r||null===(r=r.files)||void 0===r?void 0:r[0])??null;m(e,a,n)}},a.default.createElement(s.Icon,{name:s.IconName.Upload,size:s.IconSize.Md,color:g?l.IconColor.infoDefault:l.IconColor.iconAlternative}),a.default.createElement(s.Text,{color:g?l.IconColor.infoDefault:l.IconColor.iconAlternative},f("uploadDropFile"))),_)}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-file-input/snap-ui-file-input.tsx"}],[5280,{"./snap-ui-form":5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./snap-ui-form");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-form/index.ts"}],[5281,{"../../../../contexts/snaps":5827,"../../../../helpers/constants/design-system":5858,"../../../component-library":5440,"@metamask/snaps-sdk":2575,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIForm=void 0;var r,a=(r=e("react"))&&r.__esModule?r:{default:r},o=e("@metamask/snaps-sdk"),i=e("../../../../contexts/snaps"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system");n.SnapUIForm=({children:e,name:t})=>{const{handleEvent:n}=(0,i.useSnapInterfaceContext)();return a.default.createElement(s.Box,{as:"form",className:"snap-ui-renderer__form",onSubmit:e=>{e.preventDefault(),n({event:o.UserInputEventType.FormSubmitEvent,name:t})},id:t,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:2},e)}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-form/snap-ui-form.tsx"}],[5282,{"./snap-ui-image":5283},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./snap-ui-image");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-image/index.ts"}],[5283,{react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIImage=void 0;var r,a=(r=e("react"))&&r.__esModule?r:{default:r};n.SnapUIImage=({value:e})=>{const t=`data:image/svg+xml;utf8,${encodeURIComponent(e)}`;return a.default.createElement("img",{"data-testid":"snaps-ui-image",src:t})}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-image/snap-ui-image.tsx"}],[5284,{"./snap-ui-input":5285},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./snap-ui-input");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-input/index.ts"}],[5285,{"../../../../contexts/snaps":5827,"../../../component-library":5440,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIInput=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("../../../../contexts/snaps"),o=e("../../../component-library");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}n.SnapUIInput=({name:e,form:t,...n})=>{const{handleInputChange:i,getValue:l}=(0,a.useSnapInterfaceContext)(),u=l(e,t),[c,d]=(0,r.useState)(u??"");(0,r.useEffect)((()=>{u&&d(u)}),[u]);return r.default.createElement(o.FormTextField,s({className:"snap-ui-renderer__input",id:e,value:c,onChange:n=>{d(n.target.value),i(e,n.target.value??null,t)}},n))}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-input/snap-ui-input.tsx"}],[5286,{"./snap-ui-link":5287},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapUILink",{enumerable:!0,get:function(){return r.SnapUILink}});var r=e("./snap-ui-link")}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-link/index.js"}],[5287,{"../../../../helpers/constants/design-system":5858,"../../../component-library":5440,"../snap-link-warning":5258,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUILink=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=l(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=e("../../../component-library"),s=l(e("../snap-link-warning"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=({href:e,children:t})=>{const[n,a]=(0,r.useState)(!1);return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.default,{isOpen:n,onClose:()=>{a(!1)},url:e}),r.default.createElement(i.ButtonLink,{as:"a",onClick:()=>{a(!0)},externalLink:!0,size:i.ButtonLinkSize.Inherit,display:o.Display.Inline,className:"snap-ui-link"},t,r.default.createElement(i.Icon,{name:i.IconName.Export,size:i.IconSize.Inherit,marginLeft:1})))};n.SnapUILink=c,c.propTypes={children:a.default.string,href:a.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-link/snap-ui-link.js"}],[5288,{"./snap-ui-markdown":5289},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapUIMarkdown",{enumerable:!0,get:function(){return r.SnapUIMarkdown}});var r=e("./snap-ui-markdown")}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-markdown/index.js"}],[5289,{"../../../../helpers/constants/design-system":5858,"../../../component-library":5440,"../snap-link-warning":5258,"prop-types":4469,react:4719,"react-markdown":4651},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIMarkdown=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=u(e("prop-types")),o=u(e("react-markdown")),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=u(e("../snap-link-warning"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}const p=e=>r.default.createElement(s.Text,d({},e,{variant:i.TextVariant.bodyMd,className:"snap-ui-markdown__text",overflowWrap:i.OverflowWrap.Anywhere,color:i.TextColor.inherit})),f=({onClick:e,children:t,...n})=>r.default.createElement(s.ButtonLink,d({},n,{as:"a",onClick:e,externalLink:!0,size:s.ButtonLinkSize.Inherit,display:i.Display.Inline,className:"snap-ui-markdown__link"}),t,r.default.createElement(s.Icon,{name:s.IconName.Export,size:s.IconSize.Inherit,marginLeft:1})),m=({children:e,markdown:t})=>{const[n,a]=(0,r.useState)(undefined);if(!1===t)return r.default.createElement(p,null,e);return r.default.createElement(r.default.Fragment,null,r.default.createElement(l.default,{isOpen:Boolean(n),onClose:()=>{a(undefined)},url:n}),r.default.createElement(o.default,{allowedElements:["p","strong","em","a"],components:{p:p,a:({children:e,href:t})=>r.default.createElement(f,{onClick:()=>{a(t)}},e??t)}},e))};n.SnapUIMarkdown=m,m.propTypes={children:a.default.string,markdown:a.default.bool},f.propTypes={onClick:a.default.func,children:a.default.node}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-markdown/snap-ui-markdown.js"}],[5290,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.address=void 0;n.address=({element:e})=>({element:"ConfirmInfoRowAddress",props:{address:e.props.address,isSnapUsingThis:!0}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/address.ts"}],[5291,{"../../../../../helpers/constants/design-system":5858,"../utils":5314,"@metamask/snaps-utils":2616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.bold=void 0;var r=e("@metamask/snaps-utils"),a=e("../utils"),o=e("../../../../../helpers/constants/design-system");n.bold=({element:e,...t})=>({element:"Text",children:(0,a.mapTextToTemplate)((0,r.getJsxChildren)(e),t),props:{variant:o.TextVariant.bodyMd,overflowWrap:o.OverflowWrap.Anywhere,color:o.TextColor.inherit,className:"snap-ui-renderer__text",as:"b"}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/bold.ts"}],[5292,{"../../../../../helpers/constants/design-system":5858,"../utils":5314,"@metamask/snaps-utils":2616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.box=void 0;var r=e("@metamask/snaps-utils"),a=e("../../../../../helpers/constants/design-system"),o=e("../utils");function i(e){switch(e){default:case"start":return"flex-start";case"center":return"center";case"end":return"flex-end";case"space-between":return"space-between";case"space-around":return"space-around"}}n.box=({element:e,...t})=>({element:"Box",children:(0,r.getJsxChildren)(e).map((e=>(0,o.mapToTemplate)({...t,element:e}))),props:{display:a.Display.Flex,flexDirection:"horizontal"===e.props.direction?a.FlexDirection.Row:a.FlexDirection.Column,justifyContent:i(e.props.alignment),className:"snap-ui-renderer__panel",color:a.TextColor.textDefault}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/box.ts"}],[5293,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.button=void 0;n.button=({element:e})=>({element:"SnapUIButton",props:{type:e.props.type,variant:e.props.variant,name:e.props.name,disabled:e.props.disabled},children:e.props.children})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/button.ts"}],[5294,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.checkbox=void 0;n.checkbox=({element:e,form:t})=>({element:"SnapUICheckbox",props:{name:e.props.name,label:e.props.label,variant:e.props.variant,form:t}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/checkbox.ts"}],[5295,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.copyable=void 0;n.copyable=({element:e})=>({element:"Copyable",props:{text:e.props.value,sensitive:e.props.sensitive}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/copyable.ts"}],[5296,{"../../../../../helpers/constants/design-system":5858},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.divider=void 0;var r=e("../../../../../helpers/constants/design-system");n.divider=()=>({element:"Box",props:{className:"snap-ui-renderer__divider",backgroundColor:r.BorderColor.borderDefault}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/divider.ts"}],[5297,{"@metamask/snaps-utils":2616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.dropdown=void 0;var r=e("@metamask/snaps-utils");n.dropdown=({element:e,form:t})=>{const n=(0,r.getJsxChildren)(e).map((e=>({value:e.props.value,name:e.props.children})));return{element:"SnapUIDropdown",props:{id:e.props.name,name:e.props.name,form:t,options:n}}}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/dropdown.ts"}],[5298,{"./button":5293,"./checkbox":5294,"./dropdown":5297,"@metamask/snaps-utils":2616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.field=void 0;var r=e("@metamask/snaps-utils"),a=e("./button"),o=e("./dropdown"),i=e("./checkbox");n.field=({element:e,form:t})=>{const n=(0,r.getJsxChildren)(e),s=n[0];switch(s.type){case"FileInput":return{element:"SnapUIFileInput",props:{name:s.props.name,accept:s.props.accept,compact:s.props.compact,label:e.props.label,form:t,error:e.props.error!==undefined,helpText:e.props.error}};case"Input":{const r=s,o=n[1],i=o&&(0,a.button)({element:o});return{element:"SnapUIInput",props:{id:r.props.name,placeholder:r.props.placeholder,label:e.props.label,textFieldProps:{type:r.props.type},name:r.props.name,form:t,error:e.props.error!==undefined,helpText:e.props.error},propComponents:{endAccessory:i&&{...i,props:{...i.props,padding:0}}}}}case"Dropdown":{const n=s;return{element:"SnapUIDropdown",props:{...(0,o.dropdown)({element:n}).props,id:n.props.name,label:e.props.label,name:n.props.name,form:t,error:e.props.error}}}case"Checkbox":{const n=s;return{element:"SnapUICheckbox",props:{...(0,i.checkbox)({element:n}).props,fieldLabel:e.props.label,form:t,error:e.props.error}}}default:throw new Error(`Invalid Field child: ${s.type}`)}}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/field.ts"}],[5299,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fileInput=void 0;n.fileInput=({element:e,form:t})=>({element:"SnapUIInput",props:{element:"SnapUIFileInput",props:{name:e.props.name,accept:e.props.accept,compact:e.props.compact,form:t}}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/file-input.ts"}],[5300,{"../utils":5314,"@metamask/snaps-utils":2616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.form=void 0;var r=e("@metamask/snaps-utils"),a=e("../utils");n.form=({element:e,...t})=>({element:"SnapUIForm",children:(0,r.getJsxChildren)(e).map((n=>(0,a.mapToTemplate)({element:n,form:e.props.name,...t}))),props:{name:e.props.name}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/form.ts"}],[5301,{"../../../../../helpers/constants/design-system":5858},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.heading=void 0;var r=e("../../../../../helpers/constants/design-system");n.heading=({element:e})=>({element:"Text",children:e.props.children,props:{variant:r.TextVariant.headingSm,overflowWrap:r.OverflowWrap.Anywhere}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/heading.ts"}],[5302,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.image=void 0;n.image=({element:e})=>({element:"SnapUIImage",props:{value:e.props.src}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/image.ts"}],[5303,{"./address":5290,"./bold":5291,"./box":5292,"./button":5293,"./checkbox":5294,"./copyable":5295,"./divider":5296,"./dropdown":5297,"./field":5298,"./file-input":5299,"./form":5300,"./heading":5301,"./image":5302,"./input":5304,"./italic":5305,"./link":5306,"./row":5307,"./spinner":5308,"./text":5309,"./tooltip":5310,"./value":5311},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.COMPONENT_MAPPING=void 0;var r=e("./box"),a=e("./heading"),o=e("./text"),i=e("./divider"),s=e("./spinner"),l=e("./image"),u=e("./row"),c=e("./address"),d=e("./copyable"),p=e("./button"),f=e("./file-input"),m=e("./form"),h=e("./input"),g=e("./bold"),y=e("./italic"),b=e("./link"),v=e("./field"),_=e("./dropdown"),w=e("./value"),x=e("./checkbox"),k=e("./tooltip");n.COMPONENT_MAPPING={Box:r.box,Heading:a.heading,Text:o.text,Divider:i.divider,Spinner:s.spinner,Image:l.image,Copyable:d.copyable,Row:u.row,Address:c.address,Button:p.button,FileInput:f.fileInput,Form:m.form,Input:h.input,Bold:g.bold,Italic:y.italic,Link:b.link,Field:v.field,Dropdown:_.dropdown,Value:w.value,Checkbox:x.checkbox,Tooltip:k.tooltip}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/index.ts"}],[5304,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.input=void 0;n.input=({element:e,form:t})=>({element:"SnapUIInput",props:{id:e.props.name,placeholder:e.props.placeholder,textFieldProps:{type:e.props.type},name:e.props.name,form:t}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/input.ts"}],[5305,{"../../../../../helpers/constants/design-system":5858,"../utils":5314,"@metamask/snaps-utils":2616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.italic=void 0;var r=e("@metamask/snaps-utils"),a=e("../utils"),o=e("../../../../../helpers/constants/design-system");n.italic=({element:e,...t})=>({element:"Text",children:(0,a.mapTextToTemplate)((0,r.getJsxChildren)(e),t),props:{variant:o.TextVariant.bodyMd,overflowWrap:o.OverflowWrap.Anywhere,color:o.TextColor.inherit,className:"snap-ui-renderer__text",as:"i"}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/italic.ts"}],[5306,{"../utils":5314,"@metamask/snaps-utils":2616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.link=void 0;var r=e("@metamask/snaps-utils"),a=e("../utils");n.link=({element:e,...t})=>({element:"SnapUILink",children:(0,a.mapTextToTemplate)((0,r.getJsxChildren)(e),t),props:{href:e.props.href}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/link.ts"}],[5307,{"../utils":5314},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.row=void 0;var r=e("../utils");n.row=({element:e,...t})=>({element:"ConfirmInfoRow",children:[(0,r.mapToTemplate)({...t,element:e.props.children})],props:{label:e.props.label,variant:e.props.variant,tooltip:e.props.tooltip,style:{marginLeft:"-8px",marginRight:"-8px",marginTop:"0px",marginBottom:"0px"}}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/row.ts"}],[5308,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.spinner=void 0;n.spinner=()=>({element:"Spinner",props:{className:"snap-ui-renderer__spinner"}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/spinner.ts"}],[5309,{"../../../../../helpers/constants/design-system":5858,"../utils":5314,"@metamask/snaps-utils":2616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.text=void 0;var r=e("@metamask/snaps-utils"),a=e("../utils"),o=e("../../../../../helpers/constants/design-system");n.text=({element:e,...t})=>({element:"Text",children:(0,a.mapTextToTemplate)((0,r.getJsxChildren)(e),t),props:{variant:o.TextVariant.bodyMd,overflowWrap:o.OverflowWrap.Anywhere,color:o.TextColor.inherit,className:"snap-ui-renderer__text",textAlign:e.props.alignment}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/text.ts"}],[5310,{"../utils":5314,"@metamask/snaps-sdk/jsx":2579,"@metamask/snaps-utils":2616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.tooltip=void 0;var r=e("@metamask/snaps-sdk/jsx"),a=e("@metamask/snaps-utils"),o=e("../utils");n.tooltip=({element:e,...t})=>({element:"SnapUITooltip",children:(0,a.getJsxChildren)(e).map((e=>(0,o.mapToTemplate)({element:e,...t}))),propComponents:{content:(0,o.mapToTemplate)({element:"string"==typeof e.props.content?(0,r.Text)({children:e.props.content}):e.props.content,...t})}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/tooltip.ts"}],[5311,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.value=void 0;n.value=({element:e})=>({element:"ConfirmInfoRowValueDouble",props:{left:e.props.extra,right:e.props.value}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/value.ts"}],[5312,{"./snap-ui-renderer":5313},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapUIRenderer",{enumerable:!0,get:function(){return r.SnapUIRenderer}});var r=e("./snap-ui-renderer")}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/index.js"}],[5313,{"../../../../contexts/snaps":5827,"../../../../helpers/constants/snaps":5867,"../../../../selectors":6533,"../../../component-library":5440,"../../metamask-template-renderer/metamask-template-renderer":5127,"../snap-delineator":5249,"./utils":5314,lodash:4322,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIRenderer=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=m(e("prop-types")),o=e("react-redux"),i=e("lodash"),s=m(e("../../metamask-template-renderer/metamask-template-renderer")),l=e("../snap-delineator"),u=e("../../../../selectors"),c=e("../../../component-library"),d=e("../../../../helpers/constants/snaps"),p=e("../../../../contexts/snaps"),f=e("./utils");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({snapId:e,delineatorType:t=d.DelineatorType.Content,isCollapsable:n=!1,isCollapsed:a=!1,isLoading:m=!1,isPrompt:h=!1,inputValue:g,onInputChange:y,placeholder:b,onClick:v,boxProps:_,interfaceId:w})=>{const{name:x}=(0,o.useSelector)((t=>(0,u.getSnapMetadata)(t,e))),k=(0,o.useSelector)((e=>(0,u.getMemoizedInterface)(e,w)),((e,t)=>(0,i.isEqual)(e.content,t.content))),T=null==k?void 0:k.content,C=(0,r.useMemo)((()=>T&&(0,f.mapToTemplate)({map:{},element:T})),[T]);if(m||!T)return r.default.createElement(l.SnapDelineator,{snapName:x,type:t,isCollapsable:n,isCollapsed:a,onClick:v,boxProps:_,isLoading:!0});const{state:E,context:M}=k;return r.default.createElement(l.SnapDelineator,{snapName:x,type:t,isCollapsable:n,isCollapsed:a,onClick:v,boxProps:_},r.default.createElement(c.Box,{className:"snap-ui-renderer__content"},r.default.createElement(p.SnapInterfaceContextProvider,{snapId:e,interfaceId:w,initialState:E,context:M},r.default.createElement(s.default,{sections:C})),h&&r.default.createElement(c.FormTextField,{marginTop:4,className:"snap-prompt-input",maxLength:300,value:g,onChange:y,placeholder:b})))};n.SnapUIRenderer=(0,r.memo)(g,((e,t)=>(0,i.isEqual)(e,t)));g.propTypes={snapId:a.default.string,delineatorType:a.default.string,isCollapsable:a.default.bool,isCollapsed:a.default.bool,isLoading:a.default.bool,isPrompt:a.default.bool,inputValue:a.default.string,onInputChange:a.default.func,placeholder:a.default.string,onClick:a.default.func,boxProps:a.default.object,interfaceId:a.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/snap-ui-renderer.js"}],[5314,{"./components":5303,"@metamask/snaps-utils":2616,"@metamask/utils":2739,"@noble/hashes/sha256":2778,he:4113,lodash:4322},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapToTemplate=n.mapTextToTemplate=void 0;var r=e("@metamask/snaps-utils"),a=e("lodash"),o=e("@noble/hashes/sha256"),i=e("@metamask/utils"),s=e("he"),l=e("./components");const u=(0,a.memoize)((e=>{const{type:t,props:n}=e,{name:a}=n,s=function(e){if(!(0,r.hasChildren)(e))return null;const{children:t}=e.props;return"string"==typeof t?t.slice(0,5e3):Array.isArray(t)?t.map((e=>({type:(null==e?void 0:e.type)??null}))):t}(e);return(0,i.remove0x)((0,i.bytesToHex)((0,o.sha256)(JSON.stringify({type:t,name:a??null,children:s}))))}));const c=e=>{const{type:t,key:n}=e.element,r=n??function(e,t){const n=u(t),r=(e[n]??0)+1;return e[n]=r,`${n}_${r}`}(e.map,e.element);return{...l.COMPONENT_MAPPING[t](e),key:r}};n.mapToTemplate=c;n.mapTextToTemplate=(e,t)=>e.map((e=>"string"==typeof e?(0,s.unescape)(e):c({...t,element:e})))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/utils.ts"}],[5315,{"./snap-ui-tooltip":5316},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./snap-ui-tooltip");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-tooltip/index.ts"}],[5316,{"../../../ui/tooltip":5809,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUITooltip=void 0;var r=o(e("react")),a=o(e("../../../ui/tooltip"));function o(e){return e&&e.__esModule?e:{default:e}}n.SnapUITooltip=({content:e,children:t})=>r.default.createElement(a.default,{html:e,position:"bottom",style:{display:"inline-flex"}},t)}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-tooltip/snap-ui-tooltip.tsx"}],[5317,{"./snap-update-alert":5318},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-update-alert"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-update-alert/index.js"}],[5318,{"../../../../helpers/constants/design-system":5858,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}const c=({snapName:e,onUpdateClick:t,bannerAlertProps:n})=>{const a=(0,s.useI18nContext)();return r.default.createElement(o.BannerAlert,u({title:a("snapUpdateAvailable"),actionButtonLabel:a("update"),actionButtonOnClick:t,actionButtonProps:{endIconName:o.IconName.Download,color:i.TextColor.primaryDefault}},n),r.default.createElement(o.Text,null,a("snapUpdateAlertDescription",[e])))};c.propTypes={snapName:a.default.string.isRequired,onUpdateClick:a.default.func.isRequired,bannerAlertProps:a.default.object};n.default=c}}},{package:"$root$",file:"ui/components/app/snaps/snap-update-alert/snap-update-alert.js"}],[5319,{"../../../../helpers/constants/design-system":5858,"../../../component-library":5440,"../../../ui/icon/preloader/preloader-icon.component":5739,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=e("../../../component-library"),s=l(e("../../../ui/icon/preloader/preloader-icon.component"));function l(e){return e&&e.__esModule?e:{default:e}}const u=({value:e,url:t})=>r.default.createElement(i.ButtonLink,{href:t,target:"_blank",className:"snap-external-pill",ellipsis:!0},r.default.createElement(i.Box,{className:"snap-external-pill__wrapper",display:o.Display.Flex,flexDirection:o.FlexDirection.Row,alignItems:o.AlignItems.center,backgroundColor:o.BackgroundColor.backgroundAlternative,borderRadius:o.BorderRadius.pill,paddingTop:1,paddingBottom:1,paddingLeft:2,paddingRight:2},e?r.default.createElement(i.Text,{color:o.Color.textAlternative,variant:o.TextVariant.bodyMd,ellipsis:!0},e):r.default.createElement(s.default,{size:18}),r.default.createElement(i.Icon,{name:i.IconName.Export,color:o.Color.textAlternative,size:i.IconSize.Sm,marginLeft:1})));u.propTypes={value:a.default.string,url:a.default.string};n.default=u}}},{package:"$root$",file:"ui/components/app/snaps/snap-version/snap-external-pill.js"}],[5320,{"./update-snap-permission-list":5321},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./update-snap-permission-list"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/update-snap-permission-list/index.js"}],[5321,{"../../../../helpers/utils/permission":5899,"../../../../helpers/utils/util":5906,"../../../../hooks/useI18nContext":5935,"../../../../selectors":6533,"../../../component-library":5440,"../snap-permission-cell":5264,"prop-types":4469,react:4719,"react-redux":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var r=p(e("react")),a=e("react-redux"),o=p(e("prop-types")),i=e("../../../../helpers/utils/permission"),s=e("../../../../hooks/useI18nContext"),l=e("../../../component-library"),u=e("../../../../selectors"),c=e("../../../../helpers/utils/util"),d=p(e("../snap-permission-cell"));function p(e){return e&&e.__esModule?e:{default:e}}function f({approvedPermissions:e,revokedPermissions:t,newPermissions:n,approvedConnections:o,revokedConnections:p,newConnections:f,targetSubjectMetadata:m}){const h=(0,s.useI18nContext)(),g=m.origin,{name:y}=(0,a.useSelector)((e=>(0,u.getSnapMetadata)(e,m.origin))),b=(0,a.useSelector)((e=>(0,u.getMultipleTargetsSubjectMetadata)(e,{...f,...o,...p}))),v=(0,a.useSelector)(u.getSnapsMetadata),_=(0,c.getSnapName)(v),w={...e,connection_permission:o??{}},x={...t,connection_permission:p??{}},k={...n,connection_permission:f??{}};return r.default.createElement(l.Box,null,(0,i.getWeightedPermissions)({t:h,permissions:k,subjectName:y,getSubjectName:_}).map(((e,t)=>r.default.createElement(d.default,{snapId:g,connectionSubjectMetadata:b[e.connection],permission:e,index:t,key:`permissionCellDisplay_${g}_${t}`}))),(0,i.getWeightedPermissions)({t:h,permissions:x,subjectName:y,getSubjectName:_}).map(((e,t)=>r.default.createElement(d.default,{snapId:g,connectionSubjectMetadata:b[e.connection],permission:e,index:t,key:`permissionCellDisplay_${g}_${t}`,revoked:!0}))),(0,i.getWeightedPermissions)({t:h,permissions:w,subjectName:y,getSubjectName:_}).map(((e,t)=>r.default.createElement(d.default,{snapId:g,connectionSubjectMetadata:b[e.connection],permission:e,index:t,key:`permissionCellDisplay_${g}_${t}`,approved:!0}))))}f.propTypes={approvedPermissions:o.default.object.isRequired,revokedPermissions:o.default.object.isRequired,newPermissions:o.default.object.isRequired,approvedConnections:o.default.object.isRequired,revokedConnections:o.default.object.isRequired,newConnections:o.default.object.isRequired,targetSubjectMetadata:o.default.object.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/update-snap-permission-list/update-snap-permission-list.js"}],[5322,{"./srp-input":5324},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./srp-input"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/srp-input/index.js"}],[5323,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseSecretRecoveryPhrase=void 0;n.parseSecretRecoveryPhrase=e=>{var t;return(null===(t=(e||"").trim().toLowerCase().match(/\w+/gu))||void 0===t?void 0:t.join(" "))||""}}}},{package:"$root$",file:"ui/components/app/srp-input/parse-secret-recovery-phrase.js"}],[5324,{"../../../helpers/constants/design-system":5858,"../../../helpers/utils/util":5906,"../../../hooks/useI18nContext":5935,"../../component-library":5440,"../../ui/dropdown":5719,"../../ui/show-hide-toggle":5789,"../../ui/text-field":5801,"./parse-secret-recovery-phrase":5323,"@ethersproject/hdnode":517,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var r=e("@ethersproject/hdnode"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=m(e("prop-types")),i=e("../../../hooks/useI18nContext"),s=m(e("../../ui/text-field")),l=e("../../../helpers/utils/util"),u=e("../../component-library"),c=m(e("../../ui/dropdown")),d=m(e("../../ui/show-hide-toggle")),p=e("../../../helpers/constants/design-system"),f=e("./parse-secret-recovery-phrase");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=12,y=e=>e!==e.toLowerCase();function b({onChange:e,srpText:t}){const[n,o]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[b,v]=(0,a.useState)(new Array(g).fill("")),[_,w]=(0,a.useState)(new Array(g).fill(!1)),[x,k]=(0,a.useState)(g),T=(0,i.useI18nContext)(),C=(0,a.useCallback)((t=>{let n="";const a=t.join(" ").trim();t.some((e=>""!==e))&&(t.some((e=>""===e))?n=T("seedPhraseReq"):y(a)?n=T("invalidSeedPhraseCaseSensitive"):(0,r.isValidMnemonic)(a)||(n=T("invalidSeedPhrase"))),v(t),o(n),e(n?"":a)}),[v,o,T,e]),E=(0,a.useCallback)((e=>{w((t=>{const n=t.slice();return n[e]?n[e]=!1:(n.fill(!1),n[e]=!0),n}))}),[]),M=(0,a.useCallback)(((e,t)=>{m&&h(!1);const n=b.slice();n[e]=t.trim(),C(n)}),[b,C,m]),O=(0,a.useCallback)((e=>{let t=(0,f.parseSecretRecoveryPhrase)(e).split(" ");if(t.length>24)return void h(!0);m&&h(!1);let n=x;t.length!==x&&(n=t.length<12?12:t.length%3==0?t.length:t.length+(3-t.length%3),k(n)),t.length<n&&(t=t.concat(new Array(n-t.length).fill(""))),w(new Array(n).fill(!1)),C(t),(0,l.clearClipboard)()}),[x,C,m,h]),S=[];for(let e=12;e<=24;e+=3)S.push({name:T("srpInputNumberOfWords",[`${e}`]),value:`${e}`});return a.default.createElement("div",{className:"import-srp__container"},a.default.createElement("label",{className:"import-srp__srp-label"},a.default.createElement(u.Text,{align:p.TextAlign.Left,variant:p.TextVariant.headingSm,as:"h4"},t)),a.default.createElement(u.BannerAlert,{className:"import-srp__paste-tip",severity:p.Severity.Info,description:T("srpPasteTip"),descriptionProps:{className:"import-srp__banner-alert-text"}}),a.default.createElement(c.default,{className:"import-srp__number-of-words-dropdown",onChange:e=>{const t=parseInt(e,10);if(Number.isNaN(t))throw new Error("Unable to parse option as integer");let n=b.slice(0,t);n.length<t&&(n=n.concat(new Array(t-n.length).fill(""))),k(t),w(new Array(t).fill(!1)),C(n)},options:S,selectedOption:`${x}`}),a.default.createElement("div",{className:"import-srp__srp"},[...Array(x).keys()].map((e=>{const t=`import-srp__srp-word-${e}`;return a.default.createElement("div",{key:e,className:"import-srp__srp-word"},a.default.createElement("label",{htmlFor:t,className:"import-srp__srp-word-label"},a.default.createElement(u.Text,null,`${e+1}.`)),a.default.createElement(s.default,{id:t,"data-testid":t,type:_[e]?"text":"password",onChange:t=>{t.preventDefault(),M(e,t.target.value)},value:b[e],autoComplete:"off",onPaste:e=>{const t=e.clipboardData.getData("text");t.trim().match(/\s/u)&&(e.preventDefault(),O(t))}}),a.default.createElement(d.default,{id:`${t}-checkbox`,ariaLabelHidden:T("srpWordHidden"),ariaLabelShown:T("srpWordShown"),shown:_[e],"data-testid":`${t}-checkbox`,onChange:()=>E(e),title:T("srpToggleShow")}))}))),n?a.default.createElement(u.BannerAlert,{className:"import-srp__srp-error",severity:p.Severity.Danger,description:n,descriptionProps:{className:"import-srp__banner-alert-text"}}):null,m?a.default.createElement(u.BannerAlert,{className:"import-srp__srp-too-many-words-error",severity:p.Severity.Danger,actionButtonLabel:T("dismiss"),actionButtonOnClick:()=>h(!1),description:T("srpPasteFailedTooManyWords"),descriptionProps:{className:"import-srp__banner-alert-text"}}):null)}b.propTypes={onChange:o.default.func.isRequired,srpText:o.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/srp-input/srp-input.js"}],[5325,{"../../../../helpers/constants/design-system":5858,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({icon:e,image:t,content:n,moreContent:r,buttons:l}){const u=(0,i.useI18nContext)();return a.default.createElement(a.default.Fragment,null,e&&a.default.createElement(s.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Row,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.center},e),t&&a.default.createElement(s.Box,{display:o.Display.Flex,margin:"auto",textAlign:o.TextAlign.Center},a.default.createElement("img",{src:t,alt:u("srpSecurityQuizImgAlt"),width:"300",style:{maxWidth:"100%"}})),a.default.createElement(s.Text,{variant:o.TextVariant.bodyLgMedium,textAlign:o.TextAlign.Center,color:null==e?void 0:e.props.color},n),r&&a.default.createElement(s.Text,{variant:o.TextVariant.bodyMd,textAlign:o.TextAlign.Center},r),l.map(((e,t)=>a.default.createElement(s.Button,{key:t,size:e.size,onClick:e.onClick,variant:e.variant,width:o.BlockSize.Full,"data-testid":e["data-testid"]},e.label))))};var r,a=(r=e("react"))&&r.__esModule?r:{default:r},o=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext"),s=e("../../../component-library")}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/QuizContent/QuizContent.tsx"}],[5326,{"./QuizContent":5325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./QuizContent"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/QuizContent/index.ts"}],[5327,{"../../../../../shared/constants/metametrics":4973,"../../../../contexts/metametrics":5826,"../../../../helpers/constants/design-system":5858,"../../../../helpers/constants/routes":5864,"../../../../helpers/constants/zendesk-url":5871,"../../../../hooks/useI18nContext":5935,"../../../component-library":5440,"../../../component-library/modal-content/deprecated":5448,"../../../component-library/modal-header/deprecated":5457,"../QuizContent":5326,"../types":5329,react:4719,"react-router-dom":4704},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const[t,n]=(0,r.useState)(h.QuizStage.introduction),u=(0,r.useContext)(i.MetaMetricsContext),g=(0,a.useHistory)(),y=(0,c.useI18nContext)();let w="";const x={};x[h.QuizStage.introduction]=()=>(w=y("srpSecurityQuizTitle"),r.default.createElement(m.default,{image:"images/reveal-srp.png",content:y("srpSecurityQuizIntroduction"),buttons:[{label:y("srpSecurityQuizGetStarted"),onClick:()=>n(h.QuizStage.questionOne),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-get-started"},{label:y("learnMoreUpperCase"),onClick:_,variant:d.ButtonVariant.Link,"data-testid":"srp-quiz-learn-more"}]})),x[h.QuizStage.questionOne]=()=>(w=`1 ${y("ofTextNofM")} 2`,r.default.createElement(m.default,{content:y("srpSecurityQuizQuestionOneQuestion"),buttons:[{label:y("srpSecurityQuizQuestionOneWrongAnswer"),onClick:()=>n(h.QuizStage.wrongAnswerQuestionOne),variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-wrong-answer"},{label:y("srpSecurityQuizQuestionOneRightAnswer"),onClick:()=>n(h.QuizStage.rightAnswerQuestionOne),variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-right-answer"},{label:y("learnMoreUpperCase"),onClick:_,variant:d.ButtonVariant.Link}]})),x[h.QuizStage.rightAnswerQuestionOne]=()=>(w=`1 ${y("ofTextNofM")} 2`,r.default.createElement(m.default,{icon:v,content:y("srpSecurityQuizQuestionOneRightAnswerTitle"),moreContent:y("srpSecurityQuizQuestionOneRightAnswerDescription"),buttons:[{label:y("continue"),onClick:()=>n(h.QuizStage.questionTwo),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-continue"},{label:y("learnMoreUpperCase"),onClick:_,variant:d.ButtonVariant.Link}]})),x[h.QuizStage.wrongAnswerQuestionOne]=()=>(w=`1 ${y("ofTextNofM")} 2`,r.default.createElement(m.default,{icon:b,content:y("srpSecurityQuizQuestionOneWrongAnswerTitle"),moreContent:y("srpSecurityQuizQuestionOneWrongAnswerDescription"),buttons:[{label:y("tryAgain"),onClick:()=>n(h.QuizStage.questionOne),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-try-again"},{label:y("learnMoreUpperCase"),onClick:_,variant:d.ButtonVariant.Link}]})),x[h.QuizStage.questionTwo]=()=>(w=`2 ${y("ofTextNofM")} 2`,r.default.createElement(m.default,{content:y("srpSecurityQuizQuestionTwoQuestion"),buttons:[{label:y("srpSecurityQuizQuestionTwoRightAnswer"),onClick:()=>n(h.QuizStage.rightAnswerQuestionTwo),variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-right-answer"},{label:y("srpSecurityQuizQuestionTwoWrongAnswer"),onClick:()=>n(h.QuizStage.wrongAnswerQuestionTwo),variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-wrong-answer"},{label:y("learnMoreUpperCase"),onClick:_,variant:d.ButtonVariant.Link}]})),x[h.QuizStage.rightAnswerQuestionTwo]=()=>(w=`2 ${y("ofTextNofM")} 2`,r.default.createElement(m.default,{icon:v,content:y("srpSecurityQuizQuestionTwoRightAnswerTitle"),moreContent:y("srpSecurityQuizQuestionTwoRightAnswerDescription"),buttons:[{label:y("continue"),onClick:()=>g.push(l.REVEAL_SEED_ROUTE),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-continue"},{label:y("learnMoreUpperCase"),onClick:_,variant:d.ButtonVariant.Link}]})),x[h.QuizStage.wrongAnswerQuestionTwo]=()=>(w=`2 ${y("ofTextNofM")} 2`,r.default.createElement(m.default,{icon:b,content:y("srpSecurityQuizQuestionTwoWrongAnswerTitle"),moreContent:y("srpSecurityQuizQuestionTwoWrongAnswerDescription"),buttons:[{label:y("tryAgain"),onClick:()=>n(h.QuizStage.questionTwo),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-try-again"},{label:y("learnMoreUpperCase"),onClick:_,variant:d.ButtonVariant.Link}]}));const k=(0,r.useCallback)((e=>{u({category:o.MetaMetricsEventCategory.Keys,event:o.MetaMetricsEventName.KeyExportSelected,properties:{key_type:o.MetaMetricsEventKeyType.Srp,location:e}},{})}),[]);(0,r.useEffect)((()=>{k(`stage_${t}`)}),[t]);const T=x[t]();return r.default.createElement(d.Modal,{isOpen:e.isOpen,onClose:e.onClose},r.default.createElement(d.ModalOverlay,null),r.default.createElement(p.ModalContent,{modalDialogProps:{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:4}},r.default.createElement(f.ModalHeader,{onClose:e.onClose,"data-testid":"srp-quiz-header"},w),r.default.createElement("span",{"data-testid":`srp_stage_${t}`}),T))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("react-router-dom"),o=e("../../../../../shared/constants/metametrics"),i=e("../../../../contexts/metametrics"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/constants/routes"),u=g(e("../../../../helpers/constants/zendesk-url")),c=e("../../../../hooks/useI18nContext"),d=e("../../../component-library"),p=e("../../../component-library/modal-content/deprecated"),f=e("../../../component-library/modal-header/deprecated"),m=g(e("../QuizContent")),h=e("../types");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const b=r.default.createElement(d.Icon,{size:d.IconSize.Xl,name:d.IconName.Warning,color:s.IconColor.errorDefault,textAlign:s.TextAlign.Center,width:s.BlockSize.OneTwelfth}),v=r.default.createElement(d.Icon,{size:d.IconSize.Xl,name:d.IconName.Confirmation,color:s.IconColor.successDefault,textAlign:s.TextAlign.Center,width:s.BlockSize.OneTwelfth}),_=()=>{global.platform.openTab({url:u.default.PASSWORD_AND_SRP_ARTICLE})}}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/SRPQuiz/SRPQuiz.tsx"}],[5328,{"./SRPQuiz":5327},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./SRPQuiz"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/SRPQuiz/index.ts"}],[5329,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuizStage=void 0;n.QuizStage=function(e){return e.introduction="introduction",e.questionOne="question_one",e.wrongAnswerQuestionOne="wrong_answer_question_one",e.rightAnswerQuestionOne="right_answer_question_one",e.questionTwo="question_two",e.wrongAnswerQuestionTwo="wrong_answer_question_two",e.rightAnswerQuestionTwo="right_answer_question_two",e}({})}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/types.ts"}],[5330,{"./step-progress-bar":5331},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ThreeStepProgressBar",{enumerable:!0,get:function(){return r.ThreeStepProgressBar}}),Object.defineProperty(n,"TwoStepProgressBar",{enumerable:!0,get:function(){return r.TwoStepProgressBar}}),Object.defineProperty(n,"threeStepStages",{enumerable:!0,get:function(){return r.threeStepStages}}),Object.defineProperty(n,"twoStepStages",{enumerable:!0,get:function(){return r.twoStepStages}});var r=e("./step-progress-bar")}}},{package:"$root$",file:"ui/components/app/step-progress-bar/index.js"}],[5331,{"../../../helpers/constants/design-system":5858,"../../../hooks/useI18nContext":5935,"../../ui/box":5695,classnames:3543,lodash:4322,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ThreeStepProgressBar=p,n.TwoStepProgressBar=f,n.twoStepStages=n.threeStepStages=void 0;var r=c(e("react")),a=c(e("classnames")),o=c(e("prop-types")),i=e("lodash"),s=e("../../../hooks/useI18nContext"),l=c(e("../../ui/box")),u=e("../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}n.threeStepStages={PASSWORD_CREATE:1,RECOVERY_PHRASE_VIDEO:2,RECOVERY_PHRASE_REVIEW:3,RECOVERY_PHRASE_CONFIRM:4,ONBOARDING_COMPLETE:5},n.twoStepStages={RECOVERY_PHRASE_CONFIRM:1,PASSWORD_CREATE:2};function p({stage:e,...t}){const n=(0,s.useI18nContext)();return r.default.createElement(l.default,t,r.default.createElement("ul",{className:"progressbar"},r.default.createElement("li",{className:(0,a.default)({active:e>=1,complete:e>1})},(0,i.capitalize)(n("createPassword"))),r.default.createElement("li",{className:(0,a.default)({active:e>=2,complete:e>3})},(0,i.capitalize)(n("secureWallet"))),r.default.createElement("li",{className:(0,a.default)({active:e>=4,complete:e>5})},(0,i.capitalize)(n("confirmRecoveryPhrase")))))}function f({stage:e,...t}){const n=(0,s.useI18nContext)();return r.default.createElement(l.default,d({width:u.BLOCK_SIZES.FULL},t),r.default.createElement("ul",{className:"progressbar two-steps"},r.default.createElement("li",{className:(0,a.default)({active:e>=1,complete:e>1})},(0,i.capitalize)(n("confirmRecoveryPhrase"))),r.default.createElement("li",{className:(0,a.default)("two-steps",{active:e>=2,complete:e>2})},(0,i.capitalize)(n("createPassword")))))}p.propTypes={stage:o.default.number,...l.default.propTypes},f.propTypes={stage:o.default.number,...l.default.propTypes}}}},{package:"$root$",file:"ui/components/app/step-progress-bar/step-progress-bar.js"}],[5332,{"./tab-bar":5333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./tab-bar"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/tab-bar/index.js"}],[5333,{"../../../helpers/constants/design-system":5858,"../../component-library":5440,classnames:3543,"prop-types":4469,react:4719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=l(e("classnames")),i=e("../../component-library"),s=e("../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}const u=e=>{const{tabs:t=[],onSelect:n,isActive:a}=e;return r.default.createElement("div",{className:"tab-bar"},t.map((({key:e,content:t,icon:l})=>r.default.createElement(i.Box,{as:"button",key:e,paddingTop:5,paddingBottom:5,paddingLeft:4,paddingRight:4,className:(0,o.default)("tab-bar__tab pointer",{"tab-bar__tab--active":a(e,t)}),onClick:()=>n(e)},a(e,t)&&r.default.createElement(i.Box,{className:"tab-bar__tab__selected-indicator",borderRadius:s.BorderRadius.pill,backgroundColor:s.Color.primaryDefault,display:[s.Display.None,s.Display.Block]}),r.default.createElement("div",{className:"tab-bar__tab__content"},r.default.createElement("div",{className:"tab-bar__tab__content__icon"},l),r.default.createElement("div",{className:"tab-bar__tab__content__title"},t)),r.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Sm,className:"tab-bar__tab__caret"})))))};u.propTypes={isActive:a.default.func.isRequired,tabs:a.default.array,onSelect:a.default.func};n.default=u}}},{package:"$root$",file:"ui/components/app/tab-bar/tab-bar.js"}],[5334,{"./terms-of-use-popup":5335},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./terms-of-use-popup"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/terms-of-use-popup/index.js"}]],[],{});