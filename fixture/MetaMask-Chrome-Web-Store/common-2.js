LavaPack.loadBundle([[2527,{"@metamask/utils":2562,"fast-xml-parser":3852},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils"),s=e("fast-xml-parser");function i(e){try{const t=e.trim();n.assert.call(void 0,t.length>0);const r=new(0,s.XMLParser)({ignoreAttributes:!1,parseAttributeValue:!0}).parse(t,!0);return n.assert.call(void 0,n.hasProperty.call(void 0,r,"svg")),n.isObject.call(void 0,r.svg)?r.svg:{}}catch{throw new Error("Snap icon must be a valid SVG.")}}r.parseSvg=i,r.isSvg=function(e){try{return i(e),!0}catch{return!1}}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/dist/chunk-QGCNQRIQ.js"}],[2528,{"./chunk-AMW2VJ3N.js":2507,"./chunk-PZNIU23I.js":2526,"@metamask/superstruct":2618,"@metamask/utils":2562,"@scure/base":2797,"fast-json-stable-stringify":3849,"validate-npm-package-name":4908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var s=e("./chunk-PZNIU23I.js"),i=e("./chunk-AMW2VJ3N.js"),a=e("@metamask/superstruct"),o=e("@metamask/utils"),c=e("@scure/base"),l=n(e("fast-json-stable-stringify")),u=n(e("validate-npm-package-name")),d=(e=>(e.Installing="installing",e.Updating="updating",e.Running="running",e.Stopped="stopped",e.Crashed="crashed",e))(d||{}),h=(e=>(e.Start="START",e.Stop="STOP",e.Crash="CRASH",e.Update="UPDATE",e))(h||{}),f=class extends Error{constructor(e,t){super(e),this.reason=t}};function p(e){const t=e.clone();return delete t.result.source.shasum,t.value=l.default.call(void 0,t.result),t}async function m(e){const{manifest:t,sourceCode:r,svgIcon:n,auxiliaryFiles:s,localizationFiles:a}=e,o=[p(t),r,n,...s,...a].filter((e=>void 0!==e));return c.base64.encode(await i.checksumFiles.call(void 0,o))}var g=["localhost","127.0.0.1","[::1]"],v=a.pattern.call(void 0,a.string.call(void 0),/^[\x21-\x7E]*$/u),y=s.uri.call(void 0,{protocol:a.enums.call(void 0,["http:","https:"]),hostname:a.enums.call(void 0,g),hash:a.empty.call(void 0,a.string.call(void 0)),search:a.empty.call(void 0,a.string.call(void 0))}),b=a.refine.call(void 0,v,"local Snap Id",(e=>{if(!e.startsWith("local:"))return`Expected local snap ID, got "${e}".`;const[t]=a.validate.call(void 0,e.slice(6),y);return t??!0})),w=a.intersection.call(void 0,[v,s.uri.call(void 0,{protocol:a.literal.call(void 0,"npm:"),pathname:a.refine.call(void 0,a.string.call(void 0),"package name",(function*(e){const t=e.startsWith("/")?e.slice(1):e,{errors:r,validForNewPackages:n,warnings:s}=u.default.call(void 0,t);return n||(void 0===r?(o.assert.call(void 0,void 0!==s),yield*s):yield*r),!0})),search:a.empty.call(void 0,a.string.call(void 0)),hash:a.empty.call(void 0,a.string.call(void 0))})]),S=a.intersection.call(void 0,[v,s.uri.call(void 0,{protocol:a.enums.call(void 0,["http:","https:"]),search:a.empty.call(void 0,a.string.call(void 0)),hash:a.empty.call(void 0,a.string.call(void 0))})]),_=a.union.call(void 0,[w,b]);function E(e){const t=Object.values(s.SnapIdPrefixes).find((t=>e.startsWith(t)));if(void 0!==t)return t;throw new Error(`Invalid or no prefix found for "${e}"`)}r.PROPOSED_NAME_REGEX=/^(?:[A-Za-z0-9-_]+( [A-Za-z0-9-_]+)*)|(?:(?:@[A-Za-z0-9-*~][A-Za-z0-9-*._~]*\/)?[A-Za-z0-9-~][A-Za-z0-9-._~]*)$/u,r.SnapStatus=d,r.SnapStatusEvents=h,r.ProgrammaticallyFixableSnapError=f,r.getSnapChecksum=m,r.validateSnapShasum=async function(e,t="Invalid Snap manifest: manifest shasum does not match computed shasum."){if(e.manifest.result.source.shasum!==await m(e))throw new f(t,'"shasum" field mismatch')},r.LOCALHOST_HOSTNAMES=g,r.BaseSnapIdStruct=v,r.LocalSnapIdStruct=b,r.NpmSnapIdStruct=w,r.HttpSnapIdStruct=S,r.SnapIdStruct=_,r.getSnapPrefix=E,r.stripSnapPrefix=function(e){return e.replace(E(e),"")},r.assertIsValidSnapId=function(e){o.assertStruct.call(void 0,e,_,"Invalid snap ID")},r.isCaipChainId=function(e){return"string"==typeof e&&/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-a-zA-Z0-9]{1,32})$/u.test(e)},r.isSnapPermitted=function(e,t){return Boolean((e?.wallet_snap?.caveats?.find((e=>"snapIds"===e.type))??{}).value?.[t])},r.verifyRequestedSnapPermissions=function(e){o.assert.call(void 0,o.isObject.call(void 0,e),"Requested permissions must be an object.");const{wallet_snap:t}=e;o.assert.call(void 0,o.isObject.call(void 0,t),"wallet_snap is missing from the requested permissions.");const{caveats:r}=t;o.assert.call(void 0,Array.isArray(r)&&1===r.length,"wallet_snap must have a caveat property with a single-item array value.");const[n]=r;o.assert.call(void 0,o.isObject.call(void 0,n)&&"snapIds"===n.type&&o.isObject.call(void 0,n.value),"The requested permissions do not have a valid snapIds caveat.")}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/dist/chunk-RD6BN2TQ.js"}],[2529,{"./chunk-5I5WPAVD.js":2503,"./chunk-B5GNTDE2.js":2510,"./chunk-RD6BN2TQ.js":2528,"./chunk-W7KRIAIX.js":2535},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-5I5WPAVD.js"),s=e("./chunk-RD6BN2TQ.js"),i=e("./chunk-B5GNTDE2.js"),a=e("./chunk-W7KRIAIX.js");r.validateFetchedSnap=async function(e){n.assertIsSnapManifest.call(void 0,e.manifest.result),await s.validateSnapShasum.call(void 0,e),i.validateSnapManifestLocalizations.call(void 0,e.manifest.result,e.localizationFiles.map((e=>e.result))),e.svgIcon&&a.assertIsSnapIcon.call(void 0,e.svgIcon)}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/dist/chunk-SB43G2RI.js"}],[2530,{"@metamask/permission-controller":2551,"@metamask/superstruct":2618,"@metamask/utils":2562},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/permission-controller"),s=e("@metamask/superstruct"),i=e("@metamask/utils"),a=s.array.call(void 0,s.refine.call(void 0,s.string.call(void 0),"Allowed origin",(e=>!(e.split("*").length-1>2)||'No more than two wildcards ("*") are allowed in an origin specifier.'))),o=s.refine.call(void 0,s.object.call(void 0,{dapps:s.optional.call(void 0,s.boolean.call(void 0)),snaps:s.optional.call(void 0,s.boolean.call(void 0)),allowedOrigins:s.optional.call(void 0,a)}),"RPC origins",(e=>!!Boolean(!0===e.snaps||!0===e.dapps||e.allowedOrigins&&e.allowedOrigins.length>0)||"Must specify at least one JSON-RPC origin."));var c=s.object.call(void 0,{allowedOrigins:s.optional.call(void 0,a)});function l(e,t){if("*"===e||e===t)return!0;const r=function(e){const t=e.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*");return RegExp(`${t}$`,"u")}(e);return r.test(t)}r.RpcOriginsStruct=o,r.assertIsRpcOrigins=function(e,t){i.assertStruct.call(void 0,e,o,"Invalid JSON-RPC origins",t)},r.KeyringOriginsStruct=c,r.assertIsKeyringOrigins=function(e,t){i.assertStruct.call(void 0,e,c,"Invalid keyring origins",t)},r.isOriginAllowed=function(e,t,r){return"metamask"===r||(!!e.allowedOrigins?.some((e=>l(e,r)))||(!(t!==n.SubjectType.Website||!e.dapps)||Boolean(t===n.SubjectType.Snap&&e.snaps)))},r.assertIsJsonRpcSuccess=function(e){if(!i.isJsonRpcSuccess.call(void 0,e)){if(i.isJsonRpcFailure.call(void 0,e))throw new Error(`JSON-RPC request failed: ${e.error.message}`);throw new Error("Invalid JSON-RPC response.")}}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/dist/chunk-T2VA4YJE.js"}],[2531,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/dist/chunk-T3VM5YXY.js"}],[2532,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isEqual=function(e,t){return e.length===t.length&&e.every(((e,r)=>e===t[r]))}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/dist/chunk-T3YY4JIJ.js"}],[2533,{"./chunk-DEQUNIME.js":2511,"@metamask/utils":2562},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-DEQUNIME.js"),s=e("@metamask/utils");r.getBytes=function(e){const t=e instanceof n.VirtualFile?e.value:e;return"string"==typeof t?s.stringToBytes.call(void 0,t):t}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/dist/chunk-UAINMOUU.js"}],[2534,{"./chunk-IJX3CXOY.js":2516,"@metamask/snaps-sdk":2575,"@metamask/superstruct":2618,"@metamask/utils":2562,chalk:3535},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-IJX3CXOY.js"),s=e("@metamask/snaps-sdk"),i=e("@metamask/superstruct"),a=e("@metamask/utils"),o=e("chalk");function c(e,t,r){return r?t(e):e}var l=class extends i.StructError{constructor(e,t,r,n,s,i=!0){super(n,s),this.name="SnapsStructError",this.message=`${t}.\n\n${g(e,[...s()],i)}${r?`\n\n${r}`:""}`}};function*u(e){for(const t of e)yield t}function d({struct:e,prefix:t,suffix:r="",error:n,colorize:s}){return new l(e,t,r,n,(()=>u(n.failures())),s)}function h(e,t){return t.reduce(((t,r)=>a.isObject.call(void 0,e.schema)&&e.schema[r]?e.schema[r]:t),e)}function f(e,t=!0){return Array.isArray(e.schema)?e.schema.map((({type:e})=>c(e,o.green,t))):null}function p(e,t=!0){return"never"===e.type||0===e.path.length?"":`At path: ${c(e.path.join("."),o.bold,t)} — `}function m(e,t,r=!0){const n=c(JSON.stringify(t.value),o.red,r),s=p(t,r);if("union"===t.type){const i=f(h(e,t.path),r);return i?`${s}Expected the value to be one of: ${i.join(", ")}, but received: ${n}.`:`${s}${t.message}.`}if("literal"===t.type){return`${s}${t.message.replace(/the literal `(.+)`,/u,`the value to be \`${c("$1",o.green,r)}\`,`).replace(/, but received: (.+)/u,`, but received: ${c("$1",o.red,r)}`)}.`}if("never"===t.type)return`Unknown key: ${c(t.path.join("."),o.bold,r)}, received: ${n}.`;if("size"===t.refinement){return`${s}${t.message.replace(/length between `(\d+)` and `(\d+)`/u,`length between ${c("$1",o.green,r)} and ${c("$2",o.green,r)},`).replace(/length of `(\d+)`/u,`length of ${c("$1",o.red,r)}`).replace(/a array/u,"an array")}.`}return`${s}Expected a value of type ${c(t.type,o.green,r)}, but received: ${n}.`}function g(e,t,r=!0){return t.map((t=>n.indent.call(void 0,`• ${m(e,t,r)}`))).join("\n")}function v(e,t,r,n=!1){a.assert.call(void 0,t.schema,"Expected a struct with a schema. Make sure to use `union` from `@metamask/snaps-sdk`."),a.assert.call(void 0,t.schema.length>0,"Expected a non-empty array of structs.");const o=t.schema.map((e=>e.schema[r])),c=i.type.call(void 0,{[r]:s.union.call(void 0,o)}),[l]=i.validate.call(void 0,e,c,{coerce:n});if(l)throw new Error(m(c,l.failures()[0],!1));const u=e,d=t.schema.filter((e=>i.is.call(void 0,u[r],e.schema[r])));a.assert.call(void 0,d.length>0,"Expected a struct to match the value.");const h=d.map((e=>i.validate.call(void 0,u,e,{coerce:n}))),f=h.find((([e])=>!e));if(f)return f[1];a.assert.call(void 0,h[0][0],"Expected at least one error.");const p=h.reduce(((e,[t])=>(a.assert.call(void 0,t,"Expected an error."),t.failures().length<e.failures().length?t:e)),h[0][0]);throw new Error(m(t,p.failures()[0],!1))}r.named=function(e,t){return new(0,i.Struct)({...t,type:e})},r.SnapsStructError=l,r.arrayToGenerator=u,r.getError=d,r.createFromStruct=function(e,t,r,n=""){try{return i.create.call(void 0,e,t)}catch(e){if(e instanceof i.StructError)throw d({struct:t,prefix:r,suffix:n,error:e});throw e}},r.getStructFromPath=h,r.getUnionStructNames=f,r.getStructErrorPrefix=p,r.getStructFailureMessage=m,r.getStructErrorMessage=g,r.validateUnion=v,r.createUnion=function(e,t,r){return v(e,t,r,!0)},r.mergeStructs=function(...e){const t=i.assign.call(void 0,...e);return new(0,i.Struct)({...t,*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/dist/chunk-VOPTAKVG.js"}],[2535,{"./chunk-QGCNQRIQ.js":2527,"@metamask/utils":2562},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-QGCNQRIQ.js"),s=e("@metamask/utils"),i=1e5,a=`${Math.floor(100)}kb`;r.SVG_MAX_BYTE_SIZE=i,r.SVG_MAX_BYTE_SIZE_TEXT=a,r.assertIsSnapIcon=function(e){s.assert.call(void 0,e.path.endsWith(".svg"),'Expected snap icon to end in ".svg".');const t="string"==typeof e.value?s.stringToBytes.call(void 0,e.value).byteLength:e.value.byteLength;s.assert.call(void 0,t<=i,`The specified SVG icon exceeds the maximum size of ${a}.`),s.assert.call(void 0,n.isSvg.call(void 0,e.toString()),"Snap icon must be a valid SVG.")},r.getSvgDimensions=function(e){try{const t=n.parseSvg.call(void 0,e),r=t["@_height"],i=t["@_width"];if(r&&i)return{height:r,width:i};const a=t["@_viewBox"];if(a){const[e,t,r,n]=a.split(" ");if(r&&n){const e=parseInt(r,10),t=parseInt(n,10);return s.assert.call(void 0,Number.isInteger(e)&&e>0),s.assert.call(void 0,Number.isInteger(t)&&t>0),{width:e,height:t}}}}catch{throw new Error("Snap icon must be a valid SVG.")}return null}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/dist/chunk-W7KRIAIX.js"}],[2536,{"@metamask/snaps-sdk":2575,"@metamask/superstruct":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/snaps-sdk"),s=e("@metamask/superstruct"),i={onRpcRequest:{type:"onRpcRequest",required:!0,validator:e=>"function"==typeof e},onTransaction:{type:"onTransaction",required:!0,validator:e=>"function"==typeof e},onCronjob:{type:"onCronjob",required:!0,validator:e=>"function"==typeof e},onNameLookup:{type:"onNameLookup",required:!0,validator:e=>"function"==typeof e},onInstall:{type:"onInstall",required:!1,validator:e=>"function"==typeof e},onUpdate:{type:"onUpdate",required:!1,validator:e=>"function"==typeof e},onKeyringRequest:{type:"onKeyringRequest",required:!0,validator:e=>"function"==typeof e},onHomePage:{type:"onHomePage",required:!0,validator:e=>"function"==typeof e},onSignature:{type:"onSignature",required:!0,validator:e=>"function"==typeof e},onUserInput:{type:"onUserInput",required:!1,validator:e=>"function"==typeof e}},a=s.object.call(void 0,{severity:s.optional.call(void 0,s.literal.call(void 0,n.SeverityLevel.Critical))}),o=s.assign.call(void 0,a,s.object.call(void 0,{id:s.string.call(void 0)})),c=s.assign.call(void 0,a,s.object.call(void 0,{content:n.ComponentOrElementStruct})),l=s.nullable.call(void 0,s.union.call(void 0,[c,o])),u=l,d=s.object.call(void 0,{content:n.ComponentOrElementStruct}),h=s.object.call(void 0,{id:s.string.call(void 0)}),f=s.union.call(void 0,[d,h]),p=s.object.call(void 0,{protocol:s.string.call(void 0),resolvedDomain:s.string.call(void 0)}),m=s.object.call(void 0,{protocol:s.string.call(void 0),resolvedAddress:s.string.call(void 0),domainName:s.string.call(void 0)}),g=s.object.call(void 0,{resolvedDomains:s.size.call(void 0,s.array.call(void 0,p),1,Infinity)}),v=s.object.call(void 0,{resolvedAddresses:s.size.call(void 0,s.array.call(void 0,m),1,Infinity)}),y=s.nullable.call(void 0,s.union.call(void 0,[g,v]));r.SNAP_EXPORTS=i,r.OnTransactionSeverityResponseStruct=a,r.OnTransactionResponseWithIdStruct=o,r.OnTransactionResponseWithContentStruct=c,r.OnTransactionResponseStruct=l,r.OnSignatureResponseStruct=u,r.OnHomePageResponseWithContentStruct=d,r.OnHomePageResponseWithIdStruct=h,r.OnHomePageResponseStruct=f,r.AddressResolutionStruct=p,r.DomainResolutionStruct=m,r.AddressResolutionResponseStruct=g,r.DomainResolutionResponseStruct=v,r.OnNameLookupResponseStruct=y}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/dist/chunk-X2GGUOMY.js"}],[2537,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});r.SIP_6_MAGIC_VALUE="1399742832'",r.STATE_ENCRYPTION_MAGIC_VALUE="572232532'"}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/dist/chunk-ZT3KKTS2.js"}],[2538,{"./chunk-4CMD46B2.js":2501,"./chunk-4ZJOU3LR.js":2502,"./chunk-5I5WPAVD.js":2503,"./chunk-5WKQI22S.js":2504,"./chunk-6ATNGN44.js":2505,"./chunk-7VJ2BOVU.js":2506,"./chunk-AMW2VJ3N.js":2507,"./chunk-AOGVLPQZ.js":2508,"./chunk-ASZWZ7JT.js":2509,"./chunk-B5GNTDE2.js":2510,"./chunk-DEQUNIME.js":2511,"./chunk-E3BDBG6T.js":2512,"./chunk-F6G67XQ4.js":2513,"./chunk-FBZ5SU7X.js":2514,"./chunk-I2SWLZ34.js":2515,"./chunk-IJX3CXOY.js":2516,"./chunk-K6BCBPXF.js":2517,"./chunk-LEKZPKS2.js":2518,"./chunk-LOJA2ZS4.js":2519,"./chunk-N722KRZW.js":2520,"./chunk-NUCLSR2G.js":2521,"./chunk-OBN2WDFU.js":2522,"./chunk-PHUTP7NB.js":2523,"./chunk-PLBSSUVY.js":2524,"./chunk-PLNIERDY.js":2525,"./chunk-PZNIU23I.js":2526,"./chunk-QGCNQRIQ.js":2527,"./chunk-RD6BN2TQ.js":2528,"./chunk-SB43G2RI.js":2529,"./chunk-T2VA4YJE.js":2530,"./chunk-T3VM5YXY.js":2531,"./chunk-T3YY4JIJ.js":2532,"./chunk-UAINMOUU.js":2533,"./chunk-VOPTAKVG.js":2534,"./chunk-W7KRIAIX.js":2535,"./chunk-X2GGUOMY.js":2536,"./chunk-ZT3KKTS2.js":2537},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),e("./chunk-F6G67XQ4.js");var n=e("./chunk-6ATNGN44.js"),s=e("./chunk-SB43G2RI.js"),i=e("./chunk-I2SWLZ34.js");e("./chunk-4CMD46B2.js");var a=e("./chunk-5I5WPAVD.js"),o=e("./chunk-RD6BN2TQ.js"),c=e("./chunk-VOPTAKVG.js"),l=e("./chunk-IJX3CXOY.js"),u=e("./chunk-B5GNTDE2.js"),d=e("./chunk-AOGVLPQZ.js");e("./chunk-W7KRIAIX.js"),e("./chunk-QGCNQRIQ.js");var h=e("./chunk-E3BDBG6T.js"),f=e("./chunk-PZNIU23I.js"),p=e("./chunk-LOJA2ZS4.js"),m=e("./chunk-X2GGUOMY.js"),g=e("./chunk-PLBSSUVY.js"),v=e("./chunk-T2VA4YJE.js"),y=e("./chunk-FBZ5SU7X.js"),b=e("./chunk-ZT3KKTS2.js"),w=e("./chunk-K6BCBPXF.js"),S=e("./chunk-LEKZPKS2.js"),_=e("./chunk-N722KRZW.js");e("./chunk-T3VM5YXY.js");var E=e("./chunk-7VJ2BOVU.js"),k=e("./chunk-T3YY4JIJ.js"),T=e("./chunk-PLNIERDY.js"),I=e("./chunk-OBN2WDFU.js"),j=e("./chunk-ASZWZ7JT.js"),x=e("./chunk-AMW2VJ3N.js"),P=e("./chunk-UAINMOUU.js"),A=e("./chunk-DEQUNIME.js"),C=e("./chunk-NUCLSR2G.js"),R=e("./chunk-5WKQI22S.js"),O=e("./chunk-4ZJOU3LR.js");e("./chunk-PHUTP7NB.js"),r.ACCOUNT_ADDRESS_REGEX=p.ACCOUNT_ADDRESS_REGEX,r.ACCOUNT_ID_REGEX=p.ACCOUNT_ID_REGEX,r.AccountAddressStruct=p.AccountAddressStruct,r.AccountIdArrayStruct=p.AccountIdArrayStruct,r.AccountIdStruct=p.AccountIdStruct,r.AddressResolutionResponseStruct=m.AddressResolutionResponseStruct,r.AddressResolutionStruct=m.AddressResolutionStruct,r.BaseSnapIdStruct=o.BaseSnapIdStruct,r.Bip32EntropyStruct=a.Bip32EntropyStruct,r.Bip32PathStruct=a.Bip32PathStruct,r.CHAIN_ID_REGEX=p.CHAIN_ID_REGEX,r.ChainIdStringStruct=p.ChainIdStringStruct,r.ChainIdStruct=p.ChainIdStruct,r.ChainIdsStruct=a.ChainIdsStruct,r.ChainStruct=p.ChainStruct,r.CronExpressionStruct=O.CronExpressionStruct,r.CronjobRpcRequestStruct=O.CronjobRpcRequestStruct,r.CronjobSpecificationArrayStruct=O.CronjobSpecificationArrayStruct,r.CronjobSpecificationStruct=O.CronjobSpecificationStruct,r.CurveStruct=a.CurveStruct,r.DEFAULT_ENDOWMENTS=_.DEFAULT_ENDOWMENTS,r.DEFAULT_REQUESTED_SNAP_VERSION=i.DEFAULT_REQUESTED_SNAP_VERSION,r.DomainResolutionResponseStruct=m.DomainResolutionResponseStruct,r.DomainResolutionStruct=m.DomainResolutionStruct,r.EmptyObjectStruct=a.EmptyObjectStruct,r.FORBIDDEN_COIN_TYPES=a.FORBIDDEN_COIN_TYPES,r.HandlerCaveatsStruct=a.HandlerCaveatsStruct,r.HandlerType=S.HandlerType,r.HttpSnapIdStruct=o.HttpSnapIdStruct,r.InitialConnectionsStruct=a.InitialConnectionsStruct,r.KeyringOriginsStruct=v.KeyringOriginsStruct,r.LOCALHOST_HOSTNAMES=o.LOCALHOST_HOSTNAMES,r.LOCALIZABLE_FIELDS=u.LOCALIZABLE_FIELDS,r.LimitedString=p.LimitedString,r.LocalSnapIdStruct=o.LocalSnapIdStruct,r.LocalizationFileStruct=u.LocalizationFileStruct,r.LookupMatchersStruct=a.LookupMatchersStruct,r.MAXIMUM_REQUEST_TIMEOUT=a.MAXIMUM_REQUEST_TIMEOUT,r.MAX_FILE_SIZE=R.MAX_FILE_SIZE,r.MINIMUM_REQUEST_TIMEOUT=a.MINIMUM_REQUEST_TIMEOUT,r.MaxRequestTimeStruct=a.MaxRequestTimeStruct,r.NameStruct=f.NameStruct,r.NamespaceIdStruct=p.NamespaceIdStruct,r.NamespaceStruct=p.NamespaceStruct,r.NpmSnapFileNames=f.NpmSnapFileNames,r.NpmSnapIdStruct=o.NpmSnapIdStruct,r.NpmSnapPackageJsonStruct=f.NpmSnapPackageJsonStruct,r.OnHomePageResponseStruct=m.OnHomePageResponseStruct,r.OnHomePageResponseWithContentStruct=m.OnHomePageResponseWithContentStruct,r.OnHomePageResponseWithIdStruct=m.OnHomePageResponseWithIdStruct,r.OnNameLookupResponseStruct=m.OnNameLookupResponseStruct,r.OnSignatureResponseStruct=m.OnSignatureResponseStruct,r.OnTransactionResponseStruct=m.OnTransactionResponseStruct,r.OnTransactionResponseWithContentStruct=m.OnTransactionResponseWithContentStruct,r.OnTransactionResponseWithIdStruct=m.OnTransactionResponseWithIdStruct,r.OnTransactionSeverityResponseStruct=m.OnTransactionSeverityResponseStruct,r.PROPOSED_NAME_REGEX=o.PROPOSED_NAME_REGEX,r.PermissionsStruct=a.PermissionsStruct,r.ProgrammaticallyFixableSnapError=o.ProgrammaticallyFixableSnapError,r.RpcOriginsStruct=v.RpcOriginsStruct,r.SIP_6_MAGIC_VALUE=b.SIP_6_MAGIC_VALUE,r.SNAPS_DERIVATION_PATHS=y.SNAPS_DERIVATION_PATHS,r.SNAP_ERROR_WRAPPER_CODE=w.SNAP_ERROR_WRAPPER_CODE,r.SNAP_ERROR_WRAPPER_MESSAGE=w.SNAP_ERROR_WRAPPER_MESSAGE,r.SNAP_EXPORTS=m.SNAP_EXPORTS,r.SNAP_EXPORT_NAMES=S.SNAP_EXPORT_NAMES,r.SNAP_STREAM_NAMES=f.SNAP_STREAM_NAMES,r.STATE_ENCRYPTION_MAGIC_VALUE=b.STATE_ENCRYPTION_MAGIC_VALUE,r.SemVerRangeStruct=a.SemVerRangeStruct,r.SnapAuxilaryFilesStruct=a.SnapAuxilaryFilesStruct,r.SnapCaveatType=j.SnapCaveatType,r.SnapGetBip32EntropyPermissionsStruct=a.SnapGetBip32EntropyPermissionsStruct,r.SnapIdPrefixes=f.SnapIdPrefixes,r.SnapIdStruct=o.SnapIdStruct,r.SnapIdsStruct=a.SnapIdsStruct,r.SnapManifestStruct=a.SnapManifestStruct,r.SnapStatus=o.SnapStatus,r.SnapStatusEvents=o.SnapStatusEvents,r.SnapValidationFailureReason=f.SnapValidationFailureReason,r.SnapsStructError=c.SnapsStructError,r.TRANSLATION_REGEX=u.TRANSLATION_REGEX,r.VirtualFile=A.VirtualFile,r.WALLET_SNAP_PERMISSION_KEY=f.WALLET_SNAP_PERMISSION_KEY,r.WrappedSnapError=w.WrappedSnapError,r.arrayToGenerator=c.arrayToGenerator,r.assertIsJsonRpcSuccess=v.assertIsJsonRpcSuccess,r.assertIsKeyringOrigins=v.assertIsKeyringOrigins,r.assertIsNpmSnapPackageJson=f.assertIsNpmSnapPackageJson,r.assertIsRpcOrigins=v.assertIsRpcOrigins,r.assertIsSnapManifest=a.assertIsSnapManifest,r.assertIsValidSnapId=o.assertIsValidSnapId,r.bip32entropy=a.bip32entropy,r.checksum=x.checksum,r.checksumFiles=x.checksumFiles,r.createFromStruct=c.createFromStruct,r.createSnapManifest=a.createSnapManifest,r.createUnion=c.createUnion,r.createWindow=g.createWindow,r.decodeBase64=I.decodeBase64,r.deepClone=C.deepClone,r.encodeAuxiliaryFile=T.encodeAuxiliaryFile,r.encodeBase64=I.encodeBase64,r.getBytes=P.getBytes,r.getError=c.getError,r.getJsonSizeUnsafe=E.getJsonSizeUnsafe,r.getJsxChildren=n.getJsxChildren,r.getJsxElementFromComponent=n.getJsxElementFromComponent,r.getLocalizationFile=u.getLocalizationFile,r.getLocalizedSnapManifest=u.getLocalizedSnapManifest,r.getSlip44ProtocolName=y.getSlip44ProtocolName,r.getSnapChecksum=o.getSnapChecksum,r.getSnapDerivationPathName=y.getSnapDerivationPathName,r.getSnapPrefix=o.getSnapPrefix,r.getStructErrorMessage=c.getStructErrorMessage,r.getStructErrorPrefix=c.getStructErrorPrefix,r.getStructFailureMessage=c.getStructFailureMessage,r.getStructFromPath=c.getStructFromPath,r.getTargetVersion=i.getTargetVersion,r.getTextChildren=n.getTextChildren,r.getTotalTextLength=n.getTotalTextLength,r.getUnionStructNames=c.getUnionStructNames,r.getValidatedLocalizationFiles=u.getValidatedLocalizationFiles,r.hasChildren=n.hasChildren,r.indent=l.indent,r.isAccountId=p.isAccountId,r.isAccountIdArray=p.isAccountIdArray,r.isCaipChainId=o.isCaipChainId,r.isChainId=p.isChainId,r.isCronjobSpecification=O.isCronjobSpecification,r.isCronjobSpecificationArray=O.isCronjobSpecificationArray,r.isEqual=k.isEqual,r.isNamespace=p.isNamespace,r.isNamespaceId=p.isNamespaceId,r.isNpmSnapPackageJson=f.isNpmSnapPackageJson,r.isOriginAllowed=v.isOriginAllowed,r.isSerializedSnapError=w.isSerializedSnapError,r.isSnapError=w.isSnapError,r.isSnapManifest=a.isSnapManifest,r.isSnapPermitted=o.isSnapPermitted,r.isValidUrl=f.isValidUrl,r.isWrappedSnapError=w.isWrappedSnapError,r.logError=h.logError,r.logInfo=h.logInfo,r.logWarning=h.logWarning,r.mergeStructs=c.mergeStructs,r.named=c.named,r.normalizeRelative=d.normalizeRelative,r.parseAccountId=p.parseAccountId,r.parseChainId=p.parseChainId,r.parseCronExpression=O.parseCronExpression,r.parseJson=E.parseJson,r.resolveVersionRange=i.resolveVersionRange,r.serialiseJsx=n.serialiseJsx,r.snapsLogger=h.snapsLogger,r.stripSnapPrefix=o.stripSnapPrefix,r.translate=u.translate,r.unwrapError=w.unwrapError,r.uri=f.uri,r.validateAuxiliaryFiles=T.validateAuxiliaryFiles,r.validateFetchedSnap=s.validateFetchedSnap,r.validateJsxLinks=n.validateJsxLinks,r.validateSnapManifestLocalizations=u.validateSnapManifestLocalizations,r.validateSnapShasum=o.validateSnapShasum,r.validateTextLinks=n.validateTextLinks,r.validateUnion=c.validateUnion,r.verifyRequestedSnapPermissions=o.verifyRequestedSnapPermissions,r.walkJsx=n.walkJsx}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/dist/index.js"}],[2539,{"./chunk-FYADAA2G.js":2544,"@metamask/utils":2562},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-FYADAA2G.js"),s=e("@metamask/utils");function i(e){return s.hasProperty.call(void 0,e,"decorator")}r.isRestrictedMethodCaveatSpecification=i,r.decorateWithCaveats=function(e,t,r){const{caveats:s}=t;if(!s)return e;let a=async t=>e(t);for(const e of s){const t=r[e.type];if(!t)throw new(0,n.UnrecognizedCaveatTypeError)(e.type);if(!i(t))throw new(0,n.CaveatSpecificationMismatchError)(t,"RestrictedMethod");a=t.decorator(a,e)}return a}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/permission-controller/dist/chunk-3YOPLPVY.js"}],[2540,{"./chunk-7A3VYLCK.js":2541,"./chunk-VBIZGGQL.js":2545,"./chunk-X4ZAW4QR.js":2548,"./chunk-Z2XKIXLS.js":2549},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-VBIZGGQL.js"),s=e("./chunk-7A3VYLCK.js"),i=e("./chunk-X4ZAW4QR.js"),a={};e("./chunk-Z2XKIXLS.js").__export.call(void 0,a,{handlers:()=>o});var o=[s.requestPermissionsHandler,n.getPermissionsHandler,i.revokePermissionsHandler];r.handlers=o,r.rpc_methods_exports=a}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/permission-controller/dist/chunk-6PXDVUYM.js"}],[2541,{"./chunk-FYADAA2G.js":2544,"@metamask/controller-utils":2479},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-FYADAA2G.js"),s=e("@metamask/controller-utils"),i={methodNames:["wallet_requestPermissions"],implementation:async function(e,t,r,i,{requestPermissionsForOrigin:a}){const{params:o}=e;if(!Array.isArray(o)||!s.isPlainObject.call(void 0,o[0]))return i(n.invalidParams.call(void 0,{data:{request:e}}));const[c]=o,[l]=await a(c);return t.result=Object.values(l),i()},hookNames:{requestPermissionsForOrigin:!0}};r.requestPermissionsHandler=i}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/permission-controller/dist/chunk-7A3VYLCK.js"}],[2542,{"./chunk-3YOPLPVY.js":2539,"./chunk-F5TBMVWC.js":2543,"./chunk-FYADAA2G.js":2544,"./chunk-VQPP5PWS.js":2546,"./chunk-Z2XKIXLS.js":2549,"./chunk-ZH4MLSXX.js":2550,"@metamask/base-controller":2473,"@metamask/controller-utils":2479,"@metamask/rpc-errors":1884,"@metamask/utils":2562,"deep-freeze-strict":3667,immer:4126,nanoid:2573},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s=e("./chunk-3YOPLPVY.js"),i=e("./chunk-ZH4MLSXX.js"),a=e("./chunk-F5TBMVWC.js"),o=e("./chunk-FYADAA2G.js"),c=e("./chunk-VQPP5PWS.js"),l=e("./chunk-Z2XKIXLS.js"),u=e("@metamask/base-controller"),d=e("@metamask/controller-utils"),h=e("@metamask/rpc-errors"),f=e("@metamask/utils"),p=e("deep-freeze-strict"),m=(n=p)&&n.__esModule?n:{default:n},g=e("immer"),v=e("nanoid"),y="PermissionController";var b,w,S,_,E,k,T,I,j,x,P,A,C=(e=>(e[e.Noop=0]="Noop",e[e.UpdateValue=1]="UpdateValue",e[e.DeleteCaveat=2]="DeleteCaveat",e[e.RevokePermission=3]="RevokePermission",e))(C||{}),R=class extends u.BaseController{constructor(e){const{caveatSpecifications:t,permissionSpecifications:r,unrestrictedMethods:n,messenger:s,state:i={}}=e;super({name:y,metadata:{subjects:{anonymous:!0,persist:!0}},messenger:s,state:{subjects:{},...i}}),l.__privateAdd.call(void 0,this,b),l.__privateAdd.call(void 0,this,S),l.__privateAdd.call(void 0,this,E),l.__privateAdd.call(void 0,this,T),l.__privateAdd.call(void 0,this,j),l.__privateAdd.call(void 0,this,P),this._unrestrictedMethods=new Set(n),this._caveatSpecifications=m.default.call(void 0,{...t}),this.validatePermissionSpecifications(r,this._caveatSpecifications),this._permissionSpecifications=m.default.call(void 0,{...r}),this.registerMessageHandlers(),this.createPermissionMiddleware=a.getPermissionMiddlewareFactory.call(void 0,{executeRestrictedMethod:this._executeRestrictedMethod.bind(this),getRestrictedMethod:this.getRestrictedMethod.bind(this),isUnrestrictedMethod:this.unrestrictedMethods.has.bind(this.unrestrictedMethods)})}get unrestrictedMethods(){return this._unrestrictedMethods}getPermissionSpecification(e){return this._permissionSpecifications[e]}getCaveatSpecification(e){return this._caveatSpecifications[e]}validatePermissionSpecifications(e,t){Object.entries(e).forEach((([e,{permissionType:r,targetName:n,allowedCaveats:a}])=>{if(!r||!f.hasProperty.call(void 0,i.PermissionType,r))throw new Error(`Invalid permission type: "${r}"`);if(!e)throw new Error(`Invalid permission target name: "${e}"`);if(e!==n)throw new Error(`Invalid permission specification: target name "${e}" must match specification.targetName value "${n}".`);a&&a.forEach((e=>{if(!f.hasProperty.call(void 0,t,e))throw new(0,o.UnrecognizedCaveatTypeError)(e);const n=t[e],i=s.isRestrictedMethodCaveatSpecification.call(void 0,n);if("RestrictedMethod"===r&&!i||"Endowment"===r&&i)throw new(0,o.CaveatSpecificationMismatchError)(n,r)}))}))}registerMessageHandlers(){this.messagingSystem.registerActionHandler(`${y}:clearPermissions`,(()=>this.clearState())),this.messagingSystem.registerActionHandler(`${y}:getEndowments`,((e,t,r)=>this.getEndowments(e,t,r))),this.messagingSystem.registerActionHandler(`${y}:getSubjectNames`,(()=>this.getSubjectNames())),this.messagingSystem.registerActionHandler(`${y}:getPermissions`,(e=>this.getPermissions(e))),this.messagingSystem.registerActionHandler(`${y}:hasPermission`,((e,t)=>this.hasPermission(e,t))),this.messagingSystem.registerActionHandler(`${y}:hasPermissions`,(e=>this.hasPermissions(e))),this.messagingSystem.registerActionHandler(`${y}:grantPermissions`,this.grantPermissions.bind(this)),this.messagingSystem.registerActionHandler(`${y}:grantPermissionsIncremental`,this.grantPermissionsIncremental.bind(this)),this.messagingSystem.registerActionHandler(`${y}:requestPermissions`,((e,t)=>this.requestPermissions(e,t))),this.messagingSystem.registerActionHandler(`${y}:requestPermissionsIncremental`,((e,t)=>this.requestPermissionsIncremental(e,t))),this.messagingSystem.registerActionHandler(`${y}:revokeAllPermissions`,(e=>this.revokeAllPermissions(e))),this.messagingSystem.registerActionHandler(`${y}:revokePermissionForAllSubjects`,(e=>this.revokePermissionForAllSubjects(e))),this.messagingSystem.registerActionHandler(`${y}:revokePermissions`,this.revokePermissions.bind(this)),this.messagingSystem.registerActionHandler(`${y}:updateCaveat`,((e,t,r,n)=>{this.updateCaveat(e,t,r,n)}))}clearState(){this.update((e=>({subjects:{}})))}getTypedPermissionSpecification(e,t,r){const n="RestrictedMethod"===e?o.methodNotFound.call(void 0,t,r?{origin:r}:void 0):new(0,o.EndowmentPermissionDoesNotExistError)(t,r);if(!this.targetExists(t))throw n;const s=this.getPermissionSpecification(t);if(!i.hasSpecificationType.call(void 0,s,e))throw n;return s}getRestrictedMethod(e,t){return this.getTypedPermissionSpecification("RestrictedMethod",e,t).methodImplementation}getSubjectNames(){return Object.keys(this.state.subjects)}getPermission(e,t){return this.state.subjects[e]?.permissions[t]}getPermissions(e){return this.state.subjects[e]?.permissions}hasPermission(e,t){return Boolean(this.getPermission(e,t))}hasPermissions(e){return Boolean(this.state.subjects[e])}revokeAllPermissions(e){this.update((t=>{if(!t.subjects[e])throw new(0,o.UnrecognizedSubjectError)(e);delete t.subjects[e]}))}revokePermission(e,t){this.revokePermissions({[e]:[t]})}revokePermissions(e){this.update((t=>{Object.keys(e).forEach((r=>{if(!f.hasProperty.call(void 0,t.subjects,r))throw new(0,o.UnrecognizedSubjectError)(r);e[r].forEach((e=>{const{permissions:n}=t.subjects[r];if(!f.hasProperty.call(void 0,n,e))throw new(0,o.PermissionDoesNotExistError)(r,e);this.deletePermission(t.subjects,r,e)}))}))}))}revokePermissionForAllSubjects(e){0!==this.getSubjectNames().length&&this.update((t=>{Object.entries(t.subjects).forEach((([r,n])=>{const{permissions:s}=n;f.hasProperty.call(void 0,s,e)&&this.deletePermission(t.subjects,r,e)}))}))}deletePermission(e,t,r){const{permissions:n}=e[t];Object.keys(n).length>1?delete n[r]:delete e[t]}hasCaveat(e,t,r){return Boolean(this.getCaveat(e,t,r))}getCaveat(e,t,r){const n=this.getPermission(e,t);if(!n)throw new(0,o.PermissionDoesNotExistError)(e,t);return i.findCaveat.call(void 0,n,r)}addCaveat(e,t,r,n){if(this.hasCaveat(e,t,r))throw new(0,o.CaveatAlreadyExistsError)(e,t,r);this.setCaveat(e,t,r,n)}updateCaveat(e,t,r,n){if(!this.hasCaveat(e,t,r))throw new(0,o.CaveatDoesNotExistError)(e,t,r);this.setCaveat(e,t,r,n)}setCaveat(e,t,r,n){this.update((s=>{const i=s.subjects[e];if(!i)throw new(0,o.UnrecognizedSubjectError)(e);const a=i.permissions[t];if(!a)throw new(0,o.PermissionDoesNotExistError)(e,t);const c={type:r,value:n};if(this.validateCaveat(c,e,t),a.caveats){const e=a.caveats.findIndex((e=>e.type===c.type));-1===e?a.caveats.push(c):a.caveats.splice(e,1,c)}else a.caveats=[c];this.validateModifiedPermission(a,e)}))}updatePermissionsByCaveat(e,t){0!==Object.keys(this.state.subjects).length&&this.update((r=>{Object.values(r.subjects).forEach((n=>{Object.values(n.permissions).forEach((s=>{const{caveats:i}=s,a=i?.find((({type:t})=>t===e));if(!a)return;const o=t(a.value),{operation:c}=o;switch(c){case 0:break;case 1:a.value=o.value,this.validateCaveat(a,n.origin,s.parentCapability);break;case 2:this.deleteCaveat(s,e,n.origin);break;case 3:this.deletePermission(r.subjects,n.origin,s.parentCapability);break;default:throw new Error(`Unrecognized mutation result: "${c}"`)}}))}))}))}removeCaveat(e,t,r){this.update((n=>{const s=n.subjects[e]?.permissions[t];if(!s)throw new(0,o.PermissionDoesNotExistError)(e,t);if(!s.caveats)throw new(0,o.CaveatDoesNotExistError)(e,t,r);this.deleteCaveat(s,r,e)}))}deleteCaveat(e,t,r){if(!e.caveats)throw new(0,o.CaveatDoesNotExistError)(r,e.parentCapability,t);const n=e.caveats.findIndex((e=>e.type===t));if(-1===n)throw new(0,o.CaveatDoesNotExistError)(r,e.parentCapability,t);1===e.caveats.length?e.caveats=null:e.caveats.splice(n,1),this.validateModifiedPermission(e,r)}validateModifiedPermission(e,t){if(!this.targetExists(e.parentCapability))throw new Error(`Fatal: Existing permission target "${e.parentCapability}" has no specification.`);this.validatePermission(this.getPermissionSpecification(e.parentCapability),e,t)}targetExists(e){return f.hasProperty.call(void 0,this._permissionSpecifications,e)}grantPermissions({approvedPermissions:e,requestData:t,preserveExistingPermissions:r=!0,subject:n}){return l.__privateMethod.call(void 0,this,S,_).call(this,{approvedPermissions:e,subject:n,mergePermissions:!1,preserveExistingPermissions:r,requestData:t})}grantPermissionsIncremental({approvedPermissions:e,requestData:t,subject:r}){return l.__privateMethod.call(void 0,this,S,_).call(this,{approvedPermissions:e,subject:r,mergePermissions:!0,preserveExistingPermissions:!0,requestData:t})}validatePermission(e,t,r,{invokePermissionValidator:n,performCaveatValidation:s}={invokePermissionValidator:!0,performCaveatValidation:!0}){const{allowedCaveats:i,validator:a,targetName:c}=e;if(e.subjectTypes?.length&&e.subjectTypes.length>0){const t=this.messagingSystem.call("SubjectMetadataController:getSubjectMetadata",r);if(!t||null===t.subjectType||!e.subjectTypes.includes(t.subjectType))throw"RestrictedMethod"===e.permissionType?o.methodNotFound.call(void 0,c,{origin:r}):new(0,o.EndowmentPermissionDoesNotExistError)(c,r)}if(f.hasProperty.call(void 0,t,"caveats")){const{caveats:e}=t;if(null!==e&&!(Array.isArray(e)&&e.length>0))throw new(0,o.InvalidCaveatsPropertyError)(r,c,e);const n=new Set;e?.forEach((e=>{if(s&&this.validateCaveat(e,r,c),!i?.includes(e.type))throw new(0,o.ForbiddenCaveatError)(e.type,r,c);if(n.has(e.type))throw new(0,o.DuplicateCaveatError)(e.type,r,c);n.add(e.type)}))}n&&a&&a(t,r,c)}setValidatedPermissions(e,t){this.update((r=>{r.subjects[e]||(r.subjects[e]={origin:e,permissions:{}}),r.subjects[e].permissions=g.castDraft.call(void 0,t)}))}constructCaveats(e,t,r){const n=r?.map((r=>{this.validateCaveat(r,e,t);const{type:n,value:s}=r;return{type:n,value:s}}));return n&&d.isNonEmptyArray.call(void 0,n)?n:void 0}validateCaveat(e,t,r){if(!d.isPlainObject.call(void 0,e))throw new(0,o.InvalidCaveatError)(e,t,r);if(2!==Object.keys(e).length)throw new(0,o.InvalidCaveatFieldsError)(e,t,r);if("string"!=typeof e.type)throw new(0,o.InvalidCaveatTypeError)(e,t,r);const n=this.getCaveatSpecification(e.type);if(!n)throw new(0,o.UnrecognizedCaveatTypeError)(e.type,t,r);if(!f.hasProperty.call(void 0,e,"value")||void 0===e.value)throw new(0,o.CaveatMissingValueError)(e,t,r);if(!d.isValidJson.call(void 0,e.value))throw new(0,o.CaveatInvalidJsonError)(e,t,r);n.validator?.(e,t,r)}async requestPermissions(e,t,r={}){const{origin:n}=e,{id:s=v.nanoid.call(void 0),preserveExistingPermissions:i=!0}=r;this.validateRequestedPermissions(n,t);const a={...r.metadata,id:s,origin:n},o={metadata:a,permissions:t},c=await this.requestUserApproval(o);return await l.__privateMethod.call(void 0,this,P,A).call(this,{subject:e,metadata:a,preserveExistingPermissions:i,approvedRequest:c})}async requestPermissionsIncremental(e,t,r={}){const{origin:n}=e,{id:s=v.nanoid.call(void 0)}=r;this.validateRequestedPermissions(n,t);const i=this.getPermissions(n)??{},[a,c]=l.__privateMethod.call(void 0,this,E,k).call(this,i,t);if(void 0===a||void 0===c)return[];try{this.validateRequestedPermissions(n,a)}catch(e){if(e instanceof Error)throw new(0,o.InvalidMergedPermissionsError)(n,e,c);throw o.internalError.call(void 0,"Unrecognized error type",{error:e})}const u={...r.metadata,id:s,origin:n},d={metadata:u,permissions:a,diff:{currentPermissions:i,permissionDiffMap:c}},h=await this.requestUserApproval(d);return await l.__privateMethod.call(void 0,this,P,A).call(this,{subject:e,metadata:u,preserveExistingPermissions:!1,approvedRequest:h})}validateRequestedPermissions(e,t){if(!d.isPlainObject.call(void 0,t))throw o.invalidParams.call(void 0,{message:`Requested permissions for origin "${e}" is not a plain object.`,data:{origin:e,requestedPermissions:t}});if(0===Object.keys(t).length)throw o.invalidParams.call(void 0,{message:`Permissions request for origin "${e}" contains no permissions.`,data:{requestedPermissions:t}});for(const r of Object.keys(t)){const n=t[r];if(!this.targetExists(r))throw o.methodNotFound.call(void 0,r,{origin:e,requestedPermissions:t});if(!d.isPlainObject.call(void 0,n)||void 0!==n.parentCapability&&r!==n.parentCapability)throw o.invalidParams.call(void 0,{message:`Permissions request for origin "${e}" contains invalid requested permission(s).`,data:{origin:e,requestedPermissions:t}});this.validatePermission(this.getPermissionSpecification(r),n,e,{invokePermissionValidator:!1,performCaveatValidation:!0})}}async requestUserApproval(e){const{origin:t,id:r}=e.metadata,n=await this.messagingSystem.call("ApprovalController:addRequest",{id:r,origin:t,requestData:e,type:"wallet_requestPermissions"},!0);return this.validateApprovedPermissions(n,{id:r,origin:t}),n}getSideEffects(e){return Object.keys(e).reduce(((e,t)=>{if(this.targetExists(t)){const r=this.getPermissionSpecification(t);r.sideEffect&&(e.permittedHandlers[t]=r.sideEffect.onPermitted,r.sideEffect.onFailure&&(e.failureHandlers[t]=r.sideEffect.onFailure))}return e}),{permittedHandlers:{},failureHandlers:{}})}async executeSideEffects(e,t){const{permittedHandlers:r,failureHandlers:n}=e,s={requestData:t,messagingSystem:this.messagingSystem},i=await Promise.allSettled(Object.values(r).map((e=>e(s)))),a=i.filter((e=>"rejected"===e.status));if(a.length>0){const e=Object.values(n);if(e.length>0)try{await Promise.all(e.map((e=>e(s))))}catch(e){throw o.internalError.call(void 0,"Unexpected error in side-effects",{error:e})}const t=a.map((e=>e.reason));throw t.forEach((e=>{console.error(e)})),t.length>1?o.internalError.call(void 0,"Multiple errors occurred during side-effects execution",{errors:t}):t[0]}return i.map((({value:e})=>e))}validateApprovedPermissions(e,t){const{id:r,origin:n}=t;if(!d.isPlainObject.call(void 0,e)||!d.isPlainObject.call(void 0,e.metadata))throw o.internalError.call(void 0,`Approved permissions request for subject "${n}" is invalid.`,{data:{approvedRequest:e}});const{metadata:{id:s,origin:i},permissions:a}=e;if(s!==r)throw o.internalError.call(void 0,`Approved permissions request for subject "${n}" mutated its id.`,{originalId:r,mutatedId:s});if(i!==n)throw o.internalError.call(void 0,`Approved permissions request for subject "${n}" mutated its origin.`,{originalOrigin:n,mutatedOrigin:i});try{this.validateRequestedPermissions(n,a)}catch(e){if(e instanceof Error)throw o.internalError.call(void 0,`Invalid approved permissions request: ${e.message}`,e instanceof h.JsonRpcError?e.data:void 0);throw o.internalError.call(void 0,"Unrecognized error type",{error:e})}}async acceptPermissionsRequest(e){const{id:t}=e.metadata;if(!this.hasApprovalRequest({id:t}))throw new(0,o.PermissionsRequestNotFoundError)(t);if(0!==Object.keys(e.permissions).length)try{await this.messagingSystem.call("ApprovalController:acceptRequest",t,e)}catch(e){throw this._rejectPermissionsRequest(t,e),e}else this._rejectPermissionsRequest(t,o.invalidParams.call(void 0,{message:"Must request at least one permission."}))}async rejectPermissionsRequest(e){if(!this.hasApprovalRequest({id:e}))throw new(0,o.PermissionsRequestNotFoundError)(e);this._rejectPermissionsRequest(e,o.userRejectedRequest.call(void 0))}hasApprovalRequest(e){return this.messagingSystem.call("ApprovalController:hasRequest",e)}_rejectPermissionsRequest(e,t){return this.messagingSystem.call("ApprovalController:rejectRequest",e,t)}async getEndowments(e,t,r){if(!this.hasPermission(e,t))throw o.unauthorized.call(void 0,{data:{origin:e,targetName:t}});return this.getTypedPermissionSpecification("Endowment",t,e).endowmentGetter({origin:e,requestData:r})}async executeRestrictedMethod(e,t,r){const n=this.getRestrictedMethod(t,e),s=await this._executeRestrictedMethod(n,{origin:e},t,r);if(void 0===s)throw new Error(`Internal request for method "${t}" as origin "${e}" returned no result.`);return s}_executeRestrictedMethod(e,t,r,n=[]){const{origin:i}=t,a=this.getPermission(i,r);if(!a)throw o.unauthorized.call(void 0,{data:{origin:i,method:r}});return s.decorateWithCaveats.call(void 0,e,a,this._caveatSpecifications)({method:r,params:n,context:{origin:i}})}};b=new WeakSet,w=function(e){const{merger:t}=this.getCaveatSpecification(e);if(void 0===t)throw new(0,o.CaveatMergerDoesNotExistError)(e);return t},S=new WeakSet,_=function({approvedPermissions:e,subject:t,mergePermissions:r,preserveExistingPermissions:n,requestData:s}){const{origin:a}=t;if(!a||"string"!=typeof a)throw new(0,o.InvalidSubjectIdentifierError)(a);const c=n?{...this.getPermissions(a)}:{};for(const[t,n]of Object.entries(e)){if(!this.targetExists(t))throw o.methodNotFound.call(void 0,t);if(void 0!==n.parentCapability&&t!==n.parentCapability)throw new(0,o.InvalidApprovedPermissionError)(a,t,n);const e=t,u=this.getPermissionSpecification(e),d={caveats:this.constructCaveats(a,e,n.caveats),invoker:a,target:e};let h,f=!0;u.factory?h=u.factory(d,s):(h=i.constructPermission.call(void 0,d),f=!1),r&&(h=l.__privateMethod.call(void 0,this,T,I).call(this,c[e],h)[0]),this.validatePermission(u,h,a,{invokePermissionValidator:!0,performCaveatValidation:f}),c[e]=h}return this.setValidatedPermissions(a,c),c},E=new WeakSet,k=function(e,t){const r={},n=g.produce.call(void 0,e,(e=>{const n=e;Object.entries(t).forEach((([e,t])=>{const s=n[e],[i,a]=l.__privateMethod.call(void 0,this,T,I).call(this,s??{},t);(void 0===s||Object.keys(a).length>0)&&(n[e]=i,r[e]=a)}))}));return 0===Object.keys(r).length?[]:[n,r]},T=new WeakSet,I=function(e,t){const{caveatPairs:r,leftUniqueCaveats:n,rightUniqueCaveats:s}=c.collectUniqueAndPairedCaveats.call(void 0,e,t),[i,a]=r.reduce((([e,t],[r,n])=>{const[s,i]=l.__privateMethod.call(void 0,this,j,x).call(this,r,n);return void 0!==s&&void 0!==i?(e.push(s),t[s.type]=i):e.push(r),[e,t]}),[[],{}]),o=[...i,...n,...s.map((e=>{const[t,r]=l.__privateMethod.call(void 0,this,j,x).call(this,void 0,e);return a[t.type]=r,t}))];return[{...e,...t,...o.length>0?{caveats:o}:{}},a]},j=new WeakSet,x=function(e,t){if(void 0!==e&&e.type!==t.type)throw new(0,o.CaveatMergeTypeMismatchError)(e.type,t.type);const r=l.__privateMethod.call(void 0,this,b,w).call(this,t.type);if(void 0===e)return[{...t},t.value];const[n,s]=r(e.value,t.value);return void 0!==n&&void 0!==s?[{type:t.type,value:n},s]:[]},P=new WeakSet,A=async function({subject:e,metadata:t,preserveExistingPermissions:r,approvedRequest:n}){const{permissions:s,...i}=n,a={...t},o=this.getSideEffects(s);if(Object.values(o.permittedHandlers).length>0){const e=await this.executeSideEffects(o,n);a.data=Object.keys(o.permittedHandlers).reduce(((t,r,n)=>({[r]:e[n],...t})),{})}return[this.grantPermissions({subject:e,approvedPermissions:s,preserveExistingPermissions:r,requestData:i}),a]},r.CaveatMutatorOperation=C,r.PermissionController=R}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/permission-controller/dist/chunk-B6PDRQ7N.js"}],[2543,{"./chunk-FYADAA2G.js":2544,"@metamask/json-rpc-engine":1484},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-FYADAA2G.js"),s=e("@metamask/json-rpc-engine");r.getPermissionMiddlewareFactory=function({executeRestrictedMethod:e,getRestrictedMethod:t,isUnrestrictedMethod:r}){return function(i){const{origin:a}=i;if("string"!=typeof a||!a)throw new Error('The subject "origin" must be a non-empty string.');return s.createAsyncMiddleware.call(void 0,(async(s,o,c)=>{const{method:l,params:u}=s;if(r(l))return c();const d=t(l,a),h=await e(d,i,l,u);void 0!==h?o.result=h:o.error=n.internalError.call(void 0,`Request for method "${s.method}" returned undefined result.`,{request:s})}))}}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/permission-controller/dist/chunk-F5TBMVWC.js"}],[2544,{"@metamask/rpc-errors":1884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/rpc-errors");var s=class extends Error{constructor(e){super(`Invalid subject identifier: "${"string"==typeof e?e:typeof e}"`)}},i=class extends Error{constructor(e){super(`Unrecognized subject: "${e}" has no permissions.`)}},a=class extends Error{constructor(e){super(`Caveat value merger does not exist for type: "${e}"`)}},o=class extends Error{constructor(e,t,r){super(`Invalid merged permissions for subject "${e}":\n${t.message}`),this.cause=t,this.data={diff:r}}},c=class extends Error{constructor(e,t,r){super(`Invalid approved permission for origin "${e}" and target "${t}".`),this.data={origin:e,target:t,approvedPermission:r}}},l=class extends Error{constructor(e,t){super(`Subject "${e}" has no permission for "${t}".`)}},u=class extends Error{constructor(e,t){super(`${t?`Subject "${t}"`:"Unknown subject"} has no permission for "${e}".`),t&&(this.data={origin:t})}},d=class extends Error{constructor(e,t,r){super(`Unrecognized caveat type: "${e}"`),this.data={caveatType:e},void 0!==t&&(this.data.origin=t),void 0!==r&&(this.data.target=r)}},h=class extends Error{constructor(e,t,r){super(`The "caveats" property of permission for "${t}" of subject "${e}" is invalid. It must be a non-empty array if specified.`),this.data={origin:e,target:t,caveatsProperty:r}}},f=class extends Error{constructor(e,t,r){super(`Permission for "${t}" of subject "${e}" has no caveat of type "${r}".`)}},p=class extends Error{constructor(e,t,r){super(`Permission for "${t}" of subject "${e}" already has a caveat of type "${r}".`)}},m=class extends n.JsonRpcError{constructor(e,t,r){super(n.errorCodes.rpc.invalidParams,"Invalid caveat. Caveats must be plain objects.",{receivedCaveat:e}),this.data={origin:t,target:r}}},g=class extends Error{constructor(e,t,r){super(`Caveat types must be strings. Received: "${typeof e.type}"`),this.data={caveat:e,origin:t,target:r}}},v=class extends Error{constructor(e,t,r){super('Caveat is missing "value" field.'),this.data={caveat:e,origin:t,target:r}}},y=class extends Error{constructor(e,t,r){super('Caveat "value" is invalid JSON.'),this.data={caveat:e,origin:t,target:r}}},b=class extends Error{constructor(e,t,r){super(`Caveat has unexpected number of fields: "${Object.keys(e).length}"`),this.data={caveat:e,origin:t,target:r}}},w=class extends Error{constructor(e,t,r){super(`Permissions for target "${r}" may not have caveats of type "${e}".`),this.data={caveatType:e,origin:t,target:r}}},S=class extends Error{constructor(e,t,r){super(`Permissions for target "${r}" contains multiple caveats of type "${e}".`),this.data={caveatType:e,origin:t,target:r}}},_=class extends Error{constructor(e,t){super(`Cannot merge caveats of different types: "${e}" and "${t}".`),this.data={leftCaveatType:e,rightCaveatType:t}}},E=class extends Error{constructor(e,t){super(`Caveat specification uses a mismatched type. Expected caveats for ${t}`),this.data={caveatSpec:e,permissionType:t}}},k=class extends Error{constructor(e){super(`Permissions request with id "${e}" not found.`)}};r.unauthorized=function(e){return n.providerErrors.unauthorized({message:"Unauthorized to perform action. Try requesting the required permission(s) first. For more information, see: https://docs.metamask.io/guide/rpc-api.html#permissions",data:e.data})},r.methodNotFound=function(e,t){const r={message:`The method "${e}" does not exist / is not available.`};return void 0!==t&&(r.data=t),n.rpcErrors.methodNotFound(r)},r.invalidParams=function(e){return n.rpcErrors.invalidParams({data:e.data,message:e.message})},r.userRejectedRequest=function(e){return n.providerErrors.userRejectedRequest({data:e})},r.internalError=function(e,t){return n.rpcErrors.internal({message:e,data:t})},r.InvalidSubjectIdentifierError=s,r.UnrecognizedSubjectError=i,r.CaveatMergerDoesNotExistError=a,r.InvalidMergedPermissionsError=o,r.InvalidApprovedPermissionError=c,r.PermissionDoesNotExistError=l,r.EndowmentPermissionDoesNotExistError=u,r.UnrecognizedCaveatTypeError=d,r.InvalidCaveatsPropertyError=h,r.CaveatDoesNotExistError=f,r.CaveatAlreadyExistsError=p,r.InvalidCaveatError=m,r.InvalidCaveatTypeError=g,r.CaveatMissingValueError=v,r.CaveatInvalidJsonError=y,r.InvalidCaveatFieldsError=b,r.ForbiddenCaveatError=w,r.DuplicateCaveatError=S,r.CaveatMergeTypeMismatchError=_,r.CaveatSpecificationMismatchError=E,r.PermissionsRequestNotFoundError=k}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/permission-controller/dist/chunk-FYADAA2G.js"}],[2545,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n={methodNames:["wallet_getPermissions"],implementation:async function(e,t,r,n,{getPermissionsForOrigin:s}){return t.result=Object.values(s()||{}),n()},hookNames:{getPermissionsForOrigin:!0}};r.getPermissionsHandler=n}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/permission-controller/dist/chunk-VBIZGGQL.js"}],[2546,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e=>(e.RequestPermissions="wallet_requestPermissions",e.GetPermissions="wallet_getPermissions",e.RevokePermissions="wallet_revokePermissions",e))(n||{});r.MethodNames=n,r.collectUniqueAndPairedCaveats=function(e,t){const r=e?.caveats?.slice()??[],n=t.caveats?.slice()??[],s=[],i=[];return r.forEach((e=>{const t=n.findIndex((t=>t.type===e.type));-1===t?s.push(e):(i.push([e,n[t]]),n.splice(t,1))})),{caveatPairs:i,leftUniqueCaveats:s,rightUniqueCaveats:[...n]}}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/permission-controller/dist/chunk-VQPP5PWS.js"}],[2547,{"@metamask/base-controller":2473},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/base-controller"),s=(e=>(e.Extension="extension",e.Internal="internal",e.Unknown="unknown",e.Website="website",e.Snap="snap",e))(s||{}),i={subjectMetadata:{persist:!0,anonymous:!1}},a={subjectMetadata:{}},o=class e extends n.BaseController{constructor({messenger:t,subjectCacheLimit:r,state:n={}}){if(!Number.isInteger(r)||r<1)throw new Error(`subjectCacheLimit must be a positive integer. Received: "${r}"`);const s=e=>t.call("PermissionController:hasPermissions",e);super({name:"SubjectMetadataController",metadata:i,messenger:t,state:{...e.getTrimmedState(n,s)}}),this.subjectHasPermissions=s,this.subjectCacheLimit=r,this.subjectsWithoutPermissionsEncounteredSinceStartup=new Set,this.messagingSystem.registerActionHandler(`${this.name}:getSubjectMetadata`,this.getSubjectMetadata.bind(this)),this.messagingSystem.registerActionHandler(`${this.name}:addSubjectMetadata`,this.addSubjectMetadata.bind(this))}clearState(){this.subjectsWithoutPermissionsEncounteredSinceStartup.clear(),this.update((e=>({...a})))}addSubjectMetadata(e){const{origin:t}=e,r={...e,extensionId:e.extensionId||null,iconUrl:e.iconUrl||null,name:e.name||null,subjectType:e.subjectType||null};let n=null;if(this.subjectsWithoutPermissionsEncounteredSinceStartup.size>=this.subjectCacheLimit){const e=this.subjectsWithoutPermissionsEncounteredSinceStartup.values().next().value;this.subjectsWithoutPermissionsEncounteredSinceStartup.delete(e),this.subjectHasPermissions(e)||(n=e)}this.subjectsWithoutPermissionsEncounteredSinceStartup.add(t),this.update((e=>{e.subjectMetadata[t]=r,"string"==typeof n&&delete e.subjectMetadata[n]}))}getSubjectMetadata(e){return this.state.subjectMetadata[e]}trimMetadataState(){this.update((t=>e.getTrimmedState(t,this.subjectHasPermissions)))}static getTrimmedState(e,t){const{subjectMetadata:r={}}=e;return{subjectMetadata:Object.keys(r).reduce(((e,n)=>(t(n)&&(e[n]=r[n]),e)),{})}}};r.SubjectType=s,r.SubjectMetadataController=o}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/permission-controller/dist/chunk-VSDHL2GQ.js"}],[2548,{"./chunk-FYADAA2G.js":2544,"@metamask/utils":2562},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-FYADAA2G.js"),s=e("@metamask/utils"),i={methodNames:["wallet_revokePermissions"],implementation:async function(e,t,r,i,{revokePermissionsForOrigin:a}){const{params:o}=e,c=o?.[0];if(!c)return i(n.invalidParams.call(void 0,{data:{request:e}}));const l=Object.keys(c);if(!s.isNonEmptyArray.call(void 0,l))return i(n.invalidParams.call(void 0,{data:{request:e}}));return a(l),t.result=null,i()},hookNames:{revokePermissionsForOrigin:!0}};r.revokePermissionsHandler=i}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/permission-controller/dist/chunk-X4ZAW4QR.js"}],[2549,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=Object.defineProperty;r.__export=(e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})},r.__privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},r.__privateMethod=(e,t,r)=>(((e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)})(e,t,"access private method"),r)}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/permission-controller/dist/chunk-Z2XKIXLS.js"}],[2550,{nanoid:2573},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("nanoid");var s=(e=>(e.RestrictedMethod="RestrictedMethod",e.Endowment="Endowment",e))(s||{});r.constructPermission=function(e){const{caveats:t=null,invoker:r,target:s}=e;return{id:n.nanoid.call(void 0),parentCapability:s,invoker:r,caveats:t,date:(new Date).getTime()}},r.findCaveat=function(e,t){return e.caveats?.find((e=>e.type===t))},r.PermissionType=s,r.hasSpecificationType=function(e,t){return e.permissionType===t}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/permission-controller/dist/chunk-ZH4MLSXX.js"}],[2551,{"./chunk-3YOPLPVY.js":2539,"./chunk-6PXDVUYM.js":2540,"./chunk-7A3VYLCK.js":2541,"./chunk-B6PDRQ7N.js":2542,"./chunk-F5TBMVWC.js":2543,"./chunk-FYADAA2G.js":2544,"./chunk-VBIZGGQL.js":2545,"./chunk-VQPP5PWS.js":2546,"./chunk-VSDHL2GQ.js":2547,"./chunk-X4ZAW4QR.js":2548,"./chunk-Z2XKIXLS.js":2549,"./chunk-ZH4MLSXX.js":2550},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-6PXDVUYM.js");e("./chunk-VBIZGGQL.js"),e("./chunk-7A3VYLCK.js"),e("./chunk-X4ZAW4QR.js");var s=e("./chunk-B6PDRQ7N.js"),i=e("./chunk-3YOPLPVY.js"),a=e("./chunk-ZH4MLSXX.js"),o=e("./chunk-VSDHL2GQ.js");e("./chunk-F5TBMVWC.js");var c=e("./chunk-FYADAA2G.js"),l=e("./chunk-VQPP5PWS.js");e("./chunk-Z2XKIXLS.js"),r.CaveatAlreadyExistsError=c.CaveatAlreadyExistsError,r.CaveatDoesNotExistError=c.CaveatDoesNotExistError,r.CaveatInvalidJsonError=c.CaveatInvalidJsonError,r.CaveatMergeTypeMismatchError=c.CaveatMergeTypeMismatchError,r.CaveatMergerDoesNotExistError=c.CaveatMergerDoesNotExistError,r.CaveatMissingValueError=c.CaveatMissingValueError,r.CaveatMutatorOperation=s.CaveatMutatorOperation,r.CaveatSpecificationMismatchError=c.CaveatSpecificationMismatchError,r.DuplicateCaveatError=c.DuplicateCaveatError,r.EndowmentPermissionDoesNotExistError=c.EndowmentPermissionDoesNotExistError,r.ForbiddenCaveatError=c.ForbiddenCaveatError,r.InvalidApprovedPermissionError=c.InvalidApprovedPermissionError,r.InvalidCaveatError=c.InvalidCaveatError,r.InvalidCaveatFieldsError=c.InvalidCaveatFieldsError,r.InvalidCaveatTypeError=c.InvalidCaveatTypeError,r.InvalidCaveatsPropertyError=c.InvalidCaveatsPropertyError,r.InvalidMergedPermissionsError=c.InvalidMergedPermissionsError,r.InvalidSubjectIdentifierError=c.InvalidSubjectIdentifierError,r.MethodNames=l.MethodNames,r.PermissionController=s.PermissionController,r.PermissionDoesNotExistError=c.PermissionDoesNotExistError,r.PermissionType=a.PermissionType,r.PermissionsRequestNotFoundError=c.PermissionsRequestNotFoundError,r.SubjectMetadataController=o.SubjectMetadataController,r.SubjectType=o.SubjectType,r.UnrecognizedCaveatTypeError=c.UnrecognizedCaveatTypeError,r.UnrecognizedSubjectError=c.UnrecognizedSubjectError,r.constructPermission=a.constructPermission,r.decorateWithCaveats=i.decorateWithCaveats,r.findCaveat=a.findCaveat,r.hasSpecificationType=a.hasSpecificationType,r.internalError=c.internalError,r.invalidParams=c.invalidParams,r.isRestrictedMethodCaveatSpecification=i.isRestrictedMethodCaveatSpecification,r.methodNotFound=c.methodNotFound,r.permissionRpcMethods=n.rpc_methods_exports,r.unauthorized=c.unauthorized,r.userRejectedRequest=c.userRejectedRequest}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/permission-controller/dist/index.js"}],[2552,{"./errors.cjs":2560,"@metamask/superstruct":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.assertExhaustive=r.assertStruct=r.assert=r.AssertionError=void 0;const n=e("@metamask/superstruct"),s=e("./errors.cjs");function i(e,t){return r=e,Boolean("string"==typeof r?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var r}class a extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}r.AssertionError=a,r.assert=function(e,t="Assertion failed.",r=a){if(!e){if(t instanceof Error)throw t;throw i(r,t)}},r.assertStruct=function(e,t,r="Assertion failed",o=a){try{(0,n.assert)(e,t)}catch(e){throw i(o,`${r}: ${function(e){return(0,s.getErrorMessage)(e).replace(/\.$/u,"")}(e)}.`)}},r.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/assert.cjs"}],[2553,{"./assert.cjs":2552,"@metamask/superstruct":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.base64=void 0;const n=e("@metamask/superstruct"),s=e("./assert.cjs");r.base64=(e,t={})=>{const r=t.paddingRequired??!1,i=t.characterSet??"base64";let a,o;return"base64"===i?a=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===i),a=String.raw`[-_A-Za-z0-9]`),o=r?new RegExp(`^(?:${a}{4})*(?:${a}{3}=|${a}{2}==)?$`,"u"):new RegExp(`^(?:${a}{4})*(?:${a}{2,3}|${a}{3}=|${a}{2}==)?$`,"u"),(0,n.pattern)(e,o)}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/base64.cjs"}],[2554,{"./assert.cjs":2552,"./hex.cjs":2561,"@scure/base":2797,buffer:3520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.createDataView=r.concatBytes=r.valueToBytes=r.base64ToBytes=r.stringToBytes=r.numberToBytes=r.signedBigIntToBytes=r.bigIntToBytes=r.hexToBytes=r.bytesToBase64=r.bytesToString=r.bytesToNumber=r.bytesToSignedBigInt=r.bytesToBigInt=r.bytesToHex=r.assertIsBytes=r.isBytes=void 0;const n=e("@scure/base"),s=e("./assert.cjs"),i=e("./hex.cjs"),a=48,o=58,c=87;const l=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function d(e){(0,s.assert)(u(e),"Value must be a Uint8Array.")}function h(e){if(d(e),0===e.length)return"0x";const t=l(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,i.add0x)(r.join(""))}function f(e){d(e);const t=h(e);return BigInt(t)}function p(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,i.assertIsHexString)(e);const t=(0,i.remove0x)(e).toLowerCase(),r=t.length%2==0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=r.charCodeAt(2*e),s=r.charCodeAt(2*e+1),i=t-(t<o?a:c),l=s-(s<o?a:c);n[e]=16*i+l}return n}function m(e){(0,s.assert)("bigint"==typeof e,"Value must be a bigint."),(0,s.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return p(e.toString(16))}function g(e){(0,s.assert)("number"==typeof e,"Value must be a number."),(0,s.assert)(e>=0,"Value must be a non-negative number."),(0,s.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return p(e.toString(16))}function v(e){return(0,s.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function y(e){if("bigint"==typeof e)return m(e);if("number"==typeof e)return g(e);if("string"==typeof e)return e.startsWith("0x")?p(e):v(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}r.isBytes=u,r.assertIsBytes=d,r.bytesToHex=h,r.bytesToBigInt=f,r.bytesToSignedBigInt=function(e){d(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)},r.bytesToNumber=function(e){d(e);const t=f(e);return(0,s.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},r.bytesToString=function(e){return d(e),(new TextDecoder).decode(e)},r.bytesToBase64=function(e){return d(e),n.base64.encode(e)},r.hexToBytes=p,r.bigIntToBytes=m,r.signedBigIntToBytes=function(e,t){(0,s.assert)("bigint"==typeof e,"Value must be a bigint."),(0,s.assert)("number"==typeof t,"Byte length must be a number."),(0,s.assert)(t>0,"Byte length must be greater than 0."),(0,s.assert)(function(e,t){(0,s.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let e=0;e<n.length;e++)n[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()},r.numberToBytes=g,r.stringToBytes=v,r.base64ToBytes=function(e){return(0,s.assert)("string"==typeof e,"Value must be a string."),n.base64.decode(e)},r.valueToBytes=y,r.concatBytes=function(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const s=y(e[n]);t[n]=s,r+=s.length}const n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n},r.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/bytes.cjs"}],[2555,{"@metamask/superstruct":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toCaipChainId=r.parseCaipAccountId=r.parseCaipChainId=r.isCaipAccountAddress=r.isCaipAccountId=r.isCaipReference=r.isCaipNamespace=r.isCaipChainId=r.KnownCaipNamespace=r.CaipAccountAddressStruct=r.CaipAccountIdStruct=r.CaipReferenceStruct=r.CaipNamespaceStruct=r.CaipChainIdStruct=r.CAIP_ACCOUNT_ADDRESS_REGEX=r.CAIP_ACCOUNT_ID_REGEX=r.CAIP_REFERENCE_REGEX=r.CAIP_NAMESPACE_REGEX=r.CAIP_CHAIN_ID_REGEX=void 0;const n=e("@metamask/superstruct");function s(e){return(0,n.is)(e,r.CaipNamespaceStruct)}function i(e){return(0,n.is)(e,r.CaipReferenceStruct)}r.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,r.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,r.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,r.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,r.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,r.CaipChainIdStruct=(0,n.pattern)((0,n.string)(),r.CAIP_CHAIN_ID_REGEX),r.CaipNamespaceStruct=(0,n.pattern)((0,n.string)(),r.CAIP_NAMESPACE_REGEX),r.CaipReferenceStruct=(0,n.pattern)((0,n.string)(),r.CAIP_REFERENCE_REGEX),r.CaipAccountIdStruct=(0,n.pattern)((0,n.string)(),r.CAIP_ACCOUNT_ID_REGEX),r.CaipAccountAddressStruct=(0,n.pattern)((0,n.string)(),r.CAIP_ACCOUNT_ADDRESS_REGEX),function(e){e.Eip155="eip155",e.Wallet="wallet"}(r.KnownCaipNamespace||(r.KnownCaipNamespace={})),r.isCaipChainId=function(e){return(0,n.is)(e,r.CaipChainIdStruct)},r.isCaipNamespace=s,r.isCaipReference=i,r.isCaipAccountId=function(e){return(0,n.is)(e,r.CaipAccountIdStruct)},r.isCaipAccountAddress=function(e){return(0,n.is)(e,r.CaipAccountAddressStruct)},r.parseCaipChainId=function(e){const t=r.CAIP_CHAIN_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}},r.parseCaipAccountId=function(e){const t=r.CAIP_ACCOUNT_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},r.toCaipChainId=function(e,t){if(!s(e))throw new Error(`Invalid "namespace", must match: ${r.CAIP_NAMESPACE_REGEX.toString()}`);if(!i(t))throw new Error(`Invalid "reference", must match: ${r.CAIP_REFERENCE_REGEX.toString()}`);return`${e}:${t}`}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/caip-types.cjs"}],[2556,{"./base64.cjs":2553,"@metamask/superstruct":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ChecksumStruct=void 0;const n=e("@metamask/superstruct"),s=e("./base64.cjs");r.ChecksumStruct=(0,n.size)((0,s.base64)((0,n.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/checksum.cjs"}],[2557,{"./assert.cjs":2552,"./bytes.cjs":2554,"./hex.cjs":2561,"@metamask/superstruct":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHex=r.createBytes=r.createBigInt=r.createNumber=void 0;const n=e("@metamask/superstruct"),s=e("./assert.cjs"),i=e("./bytes.cjs"),a=e("./hex.cjs"),o=(0,n.union)([(0,n.number)(),(0,n.bigint)(),(0,n.string)(),a.StrictHexStruct]),c=(0,n.coerce)((0,n.number)(),o,Number),l=(0,n.coerce)((0,n.bigint)(),o,BigInt),u=((0,n.union)([a.StrictHexStruct,(0,n.instance)(Uint8Array)]),(0,n.coerce)((0,n.instance)(Uint8Array),(0,n.union)([a.StrictHexStruct]),i.hexToBytes)),d=(0,n.coerce)(a.StrictHexStruct,(0,n.instance)(Uint8Array),i.bytesToHex);r.createNumber=function(e){try{const t=(0,n.create)(e,c);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof n.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},r.createBigInt=function(e){try{return(0,n.create)(e,l)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},r.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,n.create)(e,u)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},r.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,n.create)(e,d)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/coercers.cjs"}],[2558,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,s,i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},a=this&&this.__classPrivateFieldSet||function(e,t,r,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,r):s?s.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.FrozenSet=r.FrozenMap=void 0;class o{get size(){return i(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return i(this,n,"f")[Symbol.iterator]()}constructor(e){n.set(this,void 0),a(this,n,new Map(e),"f"),Object.freeze(this)}entries(){return i(this,n,"f").entries()}forEach(e,t){return i(this,n,"f").forEach(((r,n,s)=>e.call(t,r,n,this)))}get(e){return i(this,n,"f").get(e)}has(e){return i(this,n,"f").has(e)}keys(){return i(this,n,"f").keys()}values(){return i(this,n,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}r.FrozenMap=o;class c{get size(){return i(this,s,"f").size}[(s=new WeakMap,Symbol.iterator)](){return i(this,s,"f")[Symbol.iterator]()}constructor(e){s.set(this,void 0),a(this,s,new Set(e),"f"),Object.freeze(this)}entries(){return i(this,s,"f").entries()}forEach(e,t){return i(this,s,"f").forEach(((r,n,s)=>e.call(t,r,n,this)))}has(e){return i(this,s,"f").has(e)}keys(){return i(this,s,"f").keys()}values(){return i(this,s,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}r.FrozenSet=c,Object.freeze(o),Object.freeze(o.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/collections.cjs"}],[2559,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/encryption-types.cjs"}],[2560,{"./misc.cjs":2566,"pony-cause":4459},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.wrapError=r.getErrorMessage=r.isErrorWithStack=r.isErrorWithMessage=r.isErrorWithCode=void 0;const n=e("pony-cause"),s=e("./misc.cjs");function i(e){return"object"==typeof e&&null!==e&&"code"in e}function a(e){return"object"==typeof e&&null!==e&&"message"in e}r.isErrorWithCode=i,r.isErrorWithMessage=a,r.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},r.getErrorMessage=function(e){return a(e)&&"string"==typeof e.message?e.message:(0,s.isNullOrUndefined)(e)?"":String(e)},r.wrapError=function(e,t){if((r=e)instanceof Error||(0,s.isObject)(r)&&"Error"===r.constructor.name){let r;return r=2===Error.length?new Error(t,{cause:e}):new n.ErrorWithCause(t,{cause:e}),i(e)&&(r.code=e.code),r}var r;return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/errors.cjs"}],[2561,{"./assert.cjs":2552,"./bytes.cjs":2554,"@metamask/superstruct":2618,"@noble/hashes/sha3":2779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.remove0x=r.add0x=r.isValidChecksumAddress=r.getChecksumAddress=r.isValidHexAddress=r.assertIsStrictHexString=r.assertIsHexString=r.isStrictHexString=r.isHexString=r.HexChecksumAddressStruct=r.HexAddressStruct=r.StrictHexStruct=r.HexStruct=void 0;const n=e("@metamask/superstruct"),s=e("@noble/hashes/sha3"),i=e("./assert.cjs"),a=e("./bytes.cjs");function o(e){return(0,n.is)(e,r.HexStruct)}function c(e){return(0,n.is)(e,r.StrictHexStruct)}function l(e){(0,i.assert)((0,n.is)(e,r.HexChecksumAddressStruct),"Invalid hex address.");const t=d(e.toLowerCase()),o=d((0,a.bytesToHex)((0,s.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const r=o[t];return(0,i.assert)((0,n.is)(r,(0,n.string)()),"Hash shorter than address."),parseInt(r,16)>7?e.toUpperCase():e})).join("")}`}function u(e){return!!(0,n.is)(e,r.HexChecksumAddressStruct)&&l(e)===e}function d(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}r.HexStruct=(0,n.pattern)((0,n.string)(),/^(?:0x)?[0-9a-f]+$/iu),r.StrictHexStruct=(0,n.pattern)((0,n.string)(),/^0x[0-9a-f]+$/iu),r.HexAddressStruct=(0,n.pattern)((0,n.string)(),/^0x[0-9a-f]{40}$/u),r.HexChecksumAddressStruct=(0,n.pattern)((0,n.string)(),/^0x[0-9a-fA-F]{40}$/u),r.isHexString=o,r.isStrictHexString=c,r.assertIsHexString=function(e){(0,i.assert)(o(e),"Value must be a hexadecimal string.")},r.assertIsStrictHexString=function(e){(0,i.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},r.isValidHexAddress=function(e){return(0,n.is)(e,r.HexAddressStruct)||u(e)},r.getChecksumAddress=l,r.isValidChecksumAddress=u,r.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},r.remove0x=d}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/hex.cjs"}],[2562,{"./assert.cjs":2552,"./base64.cjs":2553,"./bytes.cjs":2554,"./caip-types.cjs":2555,"./checksum.cjs":2556,"./coercers.cjs":2557,"./collections.cjs":2558,"./encryption-types.cjs":2559,"./errors.cjs":2560,"./hex.cjs":2561,"./json.cjs":2563,"./keyring.cjs":2564,"./logging.cjs":2565,"./misc.cjs":2566,"./number.cjs":2567,"./opaque.cjs":2568,"./promise.cjs":2569,"./time.cjs":2570,"./transaction-types.cjs":2571,"./versions.cjs":2572},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),s(e("./assert.cjs"),r),s(e("./base64.cjs"),r),s(e("./bytes.cjs"),r),s(e("./caip-types.cjs"),r),s(e("./checksum.cjs"),r),s(e("./coercers.cjs"),r),s(e("./collections.cjs"),r),s(e("./encryption-types.cjs"),r),s(e("./errors.cjs"),r),s(e("./hex.cjs"),r),s(e("./json.cjs"),r),s(e("./keyring.cjs"),r),s(e("./logging.cjs"),r),s(e("./misc.cjs"),r),s(e("./number.cjs"),r),s(e("./opaque.cjs"),r),s(e("./promise.cjs"),r),s(e("./time.cjs"),r),s(e("./transaction-types.cjs"),r),s(e("./versions.cjs"),r)}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/index.cjs"}],[2563,{"./assert.cjs":2552,"./misc.cjs":2566,"@metamask/superstruct":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getJsonRpcIdValidator=r.assertIsJsonRpcError=r.isJsonRpcError=r.assertIsJsonRpcFailure=r.isJsonRpcFailure=r.assertIsJsonRpcSuccess=r.isJsonRpcSuccess=r.assertIsJsonRpcResponse=r.isJsonRpcResponse=r.assertIsPendingJsonRpcResponse=r.isPendingJsonRpcResponse=r.JsonRpcResponseStruct=r.JsonRpcFailureStruct=r.JsonRpcSuccessStruct=r.PendingJsonRpcResponseStruct=r.assertIsJsonRpcRequest=r.isJsonRpcRequest=r.assertIsJsonRpcNotification=r.isJsonRpcNotification=r.JsonRpcNotificationStruct=r.JsonRpcRequestStruct=r.JsonRpcParamsStruct=r.JsonRpcErrorStruct=r.JsonRpcIdStruct=r.JsonRpcVersionStruct=r.jsonrpc2=r.getJsonSize=r.getSafeJson=r.isValidJson=r.JsonStruct=r.UnsafeJsonStruct=r.exactOptional=r.object=void 0;const n=e("@metamask/superstruct"),s=e("./assert.cjs"),i=e("./misc.cjs");function a({path:e,branch:t}){const r=e[e.length-1];return(0,i.hasProperty)(t[t.length-2],r)}function o(e){return new n.Struct({...e,type:`optional ${e.type}`,validator:(t,r)=>!a(r)||e.validator(t,r),refiner:(t,r)=>!a(r)||e.refiner(t,r)})}r.object=e=>(0,n.object)(e),r.exactOptional=o;function c(e){return(0,n.create)(e,r.JsonStruct)}r.UnsafeJsonStruct=(0,n.union)([(0,n.literal)(null),(0,n.boolean)(),(0,n.define)("finite number",(e=>(0,n.is)(e,(0,n.number)())&&Number.isFinite(e))),(0,n.string)(),(0,n.array)((0,n.lazy)((()=>r.UnsafeJsonStruct))),(0,n.record)((0,n.string)(),(0,n.lazy)((()=>r.UnsafeJsonStruct)))]),r.JsonStruct=(0,n.coerce)(r.UnsafeJsonStruct,(0,n.any)(),(e=>((0,s.assertStruct)(e,r.UnsafeJsonStruct),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t)))))),r.isValidJson=function(e){try{return c(e),!0}catch{return!1}},r.getSafeJson=c,r.getJsonSize=function(e){(0,s.assertStruct)(e,r.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},r.jsonrpc2="2.0",r.JsonRpcVersionStruct=(0,n.literal)(r.jsonrpc2),r.JsonRpcIdStruct=(0,n.nullable)((0,n.union)([(0,n.number)(),(0,n.string)()])),r.JsonRpcErrorStruct=(0,r.object)({code:(0,n.integer)(),message:(0,n.string)(),data:o(r.JsonStruct),stack:o((0,n.string)())}),r.JsonRpcParamsStruct=(0,n.union)([(0,n.record)((0,n.string)(),r.JsonStruct),(0,n.array)(r.JsonStruct)]),r.JsonRpcRequestStruct=(0,r.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,method:(0,n.string)(),params:o(r.JsonRpcParamsStruct)}),r.JsonRpcNotificationStruct=(0,r.object)({jsonrpc:r.JsonRpcVersionStruct,method:(0,n.string)(),params:o(r.JsonRpcParamsStruct)}),r.isJsonRpcNotification=function(e){return(0,n.is)(e,r.JsonRpcNotificationStruct)},r.assertIsJsonRpcNotification=function(e,t){(0,s.assertStruct)(e,r.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},r.isJsonRpcRequest=function(e){return(0,n.is)(e,r.JsonRpcRequestStruct)},r.assertIsJsonRpcRequest=function(e,t){(0,s.assertStruct)(e,r.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},r.PendingJsonRpcResponseStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:(0,n.optional)((0,n.unknown)()),error:(0,n.optional)(r.JsonRpcErrorStruct)}),r.JsonRpcSuccessStruct=(0,r.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:r.JsonStruct}),r.JsonRpcFailureStruct=(0,r.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,error:r.JsonRpcErrorStruct}),r.JsonRpcResponseStruct=(0,n.union)([r.JsonRpcSuccessStruct,r.JsonRpcFailureStruct]),r.isPendingJsonRpcResponse=function(e){return(0,n.is)(e,r.PendingJsonRpcResponseStruct)},r.assertIsPendingJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,r.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},r.isJsonRpcResponse=function(e){return(0,n.is)(e,r.JsonRpcResponseStruct)},r.assertIsJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,r.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},r.isJsonRpcSuccess=function(e){return(0,n.is)(e,r.JsonRpcSuccessStruct)},r.assertIsJsonRpcSuccess=function(e,t){(0,s.assertStruct)(e,r.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},r.isJsonRpcFailure=function(e){return(0,n.is)(e,r.JsonRpcFailureStruct)},r.assertIsJsonRpcFailure=function(e,t){(0,s.assertStruct)(e,r.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},r.isJsonRpcError=function(e){return(0,n.is)(e,r.JsonRpcErrorStruct)},r.assertIsJsonRpcError=function(e,t){(0,s.assertStruct)(e,r.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},r.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/json.cjs"}],[2564,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/keyring.cjs"}],[2565,{debug:3665},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.createProjectLogger=void 0;const s=(0,n(e("debug")).default)("metamask");r.createProjectLogger=function(e){return s.extend(e)},r.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/logging.cjs"}],[2566,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateNumberSize=r.calculateStringSize=r.isASCII=r.isPlainObject=r.ESCAPE_CHARACTERS_REGEXP=r.JsonSize=r.getKnownPropertyNames=r.hasProperty=r.isObject=r.isNullOrUndefined=r.isNonEmptyArray=void 0,r.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},r.isNullOrUndefined=function(e){return null===e||e===undefined},r.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function n(e){return e.charCodeAt(0)<=127}r.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),r.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(r.JsonSize||(r.JsonSize={})),r.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,r.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},r.isASCII=n,r.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>n(t)?e+1:e+2),0)+(e.match(r.ESCAPE_CHARACTERS_REGEXP)??[]).length},r.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/misc.cjs"}],[2567,{"./assert.cjs":2552,"./hex.cjs":2561},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hexToBigInt=r.hexToNumber=r.bigIntToHex=r.numberToHex=void 0;const n=e("./assert.cjs"),s=e("./hex.cjs");r.numberToHex=e=>((0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16)));r.bigIntToHex=e=>((0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16)));r.hexToNumber=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,n.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};r.hexToBigInt=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/number.cjs"}],[2568,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/opaque.cjs"}],[2569,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeferredPromise=void 0,r.createDeferredPromise=function({suppressUnhandledRejection:e=!1}={}){let t,r;const n=new Promise(((e,n)=>{t=e,r=n}));return e&&n.catch((e=>{})),{promise:n,resolve:t,reject:r}}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/promise.cjs"}],[2570,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timeSince=r.inMilliseconds=r.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(r.Duration||(r.Duration={}));const n=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};r.inMilliseconds=function(e,t){return n(e,"count"),e*t},r.timeSince=function(e){return n(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/time.cjs"}],[2571,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/transaction-types.cjs"}],[2572,{"./assert.cjs":2552,"@metamask/superstruct":2618,semver:4785},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.satisfiesVersionRange=r.gtRange=r.gtVersion=r.assertIsSemVerRange=r.assertIsSemVerVersion=r.isValidSemVerRange=r.isValidSemVerVersion=r.VersionRangeStruct=r.VersionStruct=void 0;const n=e("@metamask/superstruct"),s=e("semver"),i=e("./assert.cjs");r.VersionStruct=(0,n.refine)((0,n.string)(),"Version",(e=>null!==(0,s.valid)(e)||`Expected SemVer version, got "${e}"`)),r.VersionRangeStruct=(0,n.refine)((0,n.string)(),"Version range",(e=>null!==(0,s.validRange)(e)||`Expected SemVer range, got "${e}"`)),r.isValidSemVerVersion=function(e){return(0,n.is)(e,r.VersionStruct)},r.isValidSemVerRange=function(e){return(0,n.is)(e,r.VersionRangeStruct)},r.assertIsSemVerVersion=function(e){(0,i.assertStruct)(e,r.VersionStruct)},r.assertIsSemVerRange=function(e){(0,i.assertStruct)(e,r.VersionRangeStruct)},r.gtVersion=function(e,t){return(0,s.gt)(e,t)},r.gtRange=function(e,t){return(0,s.gtr)(e,t)},r.satisfiesVersionRange=function(e,t){return(0,s.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/utils",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/@metamask/snaps-utils/node_modules/@metamask/utils/dist/versions.cjs"}],[2573,{"./url-alphabet/index.cjs":2574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let{urlAlphabet:n}=e("./url-alphabet/index.cjs"),s=e=>crypto.getRandomValues(new Uint8Array(e)),i=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,s=-~(1.6*n*t/e.length);return(i=t)=>{let a="";for(;;){let t=r(s),o=s;for(;o--;)if(a+=e[t[o]&n]||"",a.length===i)return a}}};t.exports={nanoid:(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""),customAlphabet:(e,t=21)=>i(e,t,s),customRandom:i,urlAlphabet:n,random:s}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller>nanoid",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/nanoid/index.browser.cjs"}],[2574,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}}}},{package:"@metamask/snaps-rpc-methods>@metamask/snaps-utils>@metamask/permission-controller>nanoid",file:"node_modules/@metamask/snaps-rpc-methods/node_modules/nanoid/url-alphabet/index.cjs"}],[2575,{"@metamask/rpc-errors":1884,"@metamask/utils":2739,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,s,i,a,o,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,h=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},f=(e,t,r)=>(h(e,t,"read from private field"),r?r.call(e):t.get(e)),p=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},m=(e,t,r,n)=>(h(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),g={};((e,t)=>{for(var r in t)c(e,r,{get:t[r],enumerable:!0})})(g,{AddressStruct:()=>ie,AuxiliaryFileEncoding:()=>dt,ButtonClickEventStruct:()=>st,ButtonStruct:()=>Ee,ButtonType:()=>_e,ButtonVariant:()=>Se,ChainDisconnectedError:()=>W,ComponentOrElementStruct:()=>Zt,ComponentStruct:()=>qe,CopyableStruct:()=>ce,DialogType:()=>ut,DisconnectedError:()=>J,DividerStruct:()=>de,FileStruct:()=>it,FileUploadEventStruct:()=>ct,FormComponentStruct:()=>Ae,FormStateStruct:()=>Yt,FormStruct:()=>Ce,FormSubmitEventStruct:()=>at,GenericEventStruct:()=>nt,HeadingStruct:()=>pe,ImageStruct:()=>ve,InputChangeEventStruct:()=>ot,InputStruct:()=>xe,InputType:()=>je,InterfaceContextStruct:()=>Qt,InterfaceStateStruct:()=>Xt,InternalError:()=>N,InvalidInputError:()=>B,InvalidParamsError:()=>M,InvalidRequestError:()=>L,LimitExceededError:()=>F,ManageStateOperation:()=>ht,MethodNotFoundError:()=>D,MethodNotSupportedError:()=>H,NodeType:()=>re,NotificationType:()=>ft,PanelStruct:()=>We,ParseError:()=>G,ResourceNotFoundError:()=>U,ResourceUnavailableError:()=>V,RowStruct:()=>De,RowVariant:()=>Le,SNAP_ERROR_CODE:()=>w,SNAP_ERROR_MESSAGE:()=>S,SeverityLevel:()=>et,SnapError:()=>v,SpinnerStruct:()=>Ue,StateStruct:()=>Kt,TextStruct:()=>Be,TransactionRejected:()=>$,UnauthorizedError:()=>q,UnsupportedMethodError:()=>z,UserInputEventStruct:()=>lt,UserInputEventType:()=>rt,UserRejectedRequestError:()=>K,address:()=>ae,assert:()=>R.assert,assertIsComponent:()=>Xe,button:()=>ke,copyable:()=>le,divider:()=>he,enumValue:()=>x,form:()=>Re,getErrorData:()=>k,getErrorMessage:()=>_,getErrorStack:()=>E,getImageComponent:()=>Qe,getImageData:()=>Ze,heading:()=>me,image:()=>ye,input:()=>Pe,isComponent:()=>Ye,literal:()=>I,panel:()=>Je,row:()=>He,spinner:()=>Ve,text:()=>Me,union:()=>j}),t.exports=(n=g,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of u(t))d.call(e,s)||s===r||c(e,s,{get:()=>t[s],enumerable:!(n=l(t,s))||n.enumerable});return e})(c({},"__esModule",{value:!0}),n));var v=class extends Error{constructor(e,t={}){const r=_(e);super(r),p(this,s,void 0),p(this,i,void 0),p(this,a,void 0),p(this,o,void 0),m(this,i,r),m(this,s,function(e){if((0,b.isObject)(e)&&(0,b.hasProperty)(e,"code")&&"number"==typeof e.code&&Number.isInteger(e.code))return e.code;return-32603}(e));const n={...k(e),...t};Object.keys(n).length>0&&m(this,a,n),m(this,o,super.stack)}get name(){return"SnapError"}get code(){return f(this,s)}get message(){return f(this,i)}get data(){return f(this,a)}get stack(){return f(this,o)}toJSON(){return{code:w,message:S,data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}};function y(e){return class extends v{constructor(t,r){if("object"==typeof t){const r=e();return void super({code:r.code,message:r.message,data:t})}const n=e(t);super({code:n.code,message:n.message,data:r})}}}s=new WeakMap,i=new WeakMap,a=new WeakMap,o=new WeakMap;var b=e("@metamask/utils"),w=-31002,S="Snap Error";function _(e){return(0,b.isObject)(e)&&(0,b.hasProperty)(e,"message")&&"string"==typeof e.message?e.message:String(e)}function E(e){if((0,b.isObject)(e)&&(0,b.hasProperty)(e,"stack")&&"string"==typeof e.stack)return e.stack}function k(e){return(0,b.isObject)(e)&&(0,b.hasProperty)(e,"data")&&"object"==typeof e.data&&null!==e.data&&(0,b.isValidJson)(e.data)&&!Array.isArray(e.data)?e.data:{}}var T=e("superstruct");function I(e){return(0,T.define)(JSON.stringify(e),(0,T.literal)(e).validator)}function j([e,...t]){const r=(0,T.union)([e,...t]);return new T.Struct({...r,schema:[e,...t]})}function x(e){return I(e)}function P(e){return j(e)}var A=e("superstruct");function C(){return(0,A.refine)((0,A.string)(),"SVG",(e=>!!e.includes("<svg")||"Value is not a valid SVG."))}var R=e("@metamask/utils"),O=e("@metamask/rpc-errors"),N=y(O.rpcErrors.internal),B=y(O.rpcErrors.invalidInput),M=y(O.rpcErrors.invalidParams),L=y(O.rpcErrors.invalidRequest),F=y(O.rpcErrors.limitExceeded),D=y(O.rpcErrors.methodNotFound),H=y(O.rpcErrors.methodNotSupported),G=y(O.rpcErrors.parse),U=y(O.rpcErrors.resourceNotFound),V=y(O.rpcErrors.resourceUnavailable),$=y(O.rpcErrors.transactionRejected),W=y(O.providerErrors.chainDisconnected),J=y(O.providerErrors.disconnected),q=y(O.providerErrors.unauthorized),z=y(O.providerErrors.unsupportedMethod),K=y(O.providerErrors.userRejectedRequest),Y=e("@metamask/utils"),X=e("@metamask/utils"),Z=e("superstruct"),Q=e("@metamask/utils");function ee(e,t,r=[]){return(...n)=>{if(1===n.length&&(0,Q.isPlainObject)(n[0])){const r={...n[0],type:e};return(0,Q.assertStruct)(r,t,`Invalid ${e} component`),r}const s=r.reduce(((e,t,r)=>void 0!==n[r]?{...e,[t]:n[r]}:e),{type:e});return(0,Q.assertStruct)(s,t,`Invalid ${e} component`),s}}var te=e("superstruct"),re=(e=>(e.Copyable="copyable",e.Divider="divider",e.Heading="heading",e.Panel="panel",e.Spinner="spinner",e.Text="text",e.Image="image",e.Row="row",e.Address="address",e.Button="button",e.Input="input",e.Form="form",e))(re||{}),ne=(0,te.object)({type:(0,te.string)()}),se=(0,te.assign)(ne,(0,te.object)({value:(0,te.unknown)()})),ie=(0,Z.assign)(se,(0,Z.object)({type:(0,Z.literal)("address"),value:X.HexChecksumAddressStruct})),ae=ee("address",ie,["value"]),oe=e("superstruct"),ce=(0,oe.assign)(se,(0,oe.object)({type:(0,oe.literal)("copyable"),value:(0,oe.string)(),sensitive:(0,oe.optional)((0,oe.boolean)())})),le=ee("copyable",ce,["value","sensitive"]),ue=e("superstruct"),de=(0,ue.assign)(ne,(0,ue.object)({type:(0,ue.literal)("divider")})),he=ee("divider",de),fe=e("superstruct"),pe=(0,fe.assign)(se,(0,fe.object)({type:(0,fe.literal)("heading"),value:(0,fe.string)()})),me=ee("heading",pe,["value"]),ge=e("superstruct"),ve=(0,ge.assign)(ne,(0,ge.object)({type:(0,ge.literal)("image"),value:C()})),ye=ee("image",ve,["value"]),be=e("superstruct"),we=e("superstruct"),Se=(e=>(e.Primary="primary",e.Secondary="secondary",e))(Se||{}),_e=(e=>(e.Button="button",e.Submit="submit",e))(_e||{}),Ee=(0,we.assign)(se,(0,we.object)({type:(0,we.literal)("button"),value:(0,we.string)(),variant:(0,we.optional)((0,we.union)([x("primary"),x("secondary")])),buttonType:(0,we.optional)((0,we.union)([x("button"),x("submit")])),name:(0,we.optional)((0,we.string)())})),ke=ee("button",Ee,["value","buttonType","name","variant"]),Te=e("superstruct"),Ie=e("superstruct"),je=(e=>(e.Text="text",e.Number="number",e.Password="password",e))(je||{}),xe=(0,Ie.assign)(se,(0,Ie.object)({type:(0,Ie.literal)("input"),value:(0,Ie.optional)((0,Ie.string)()),name:(0,Ie.string)(),inputType:(0,Ie.optional)((0,Ie.union)([x("text"),x("password"),x("number")])),placeholder:(0,Ie.optional)((0,Ie.string)()),label:(0,Ie.optional)((0,Ie.string)()),error:(0,Ie.optional)((0,Ie.string)())})),Pe=ee("input",xe,["name","inputType","placeholder","value","label"]),Ae=(0,Te.union)([xe,Ee]),Ce=(0,Te.assign)(ne,(0,Te.object)({type:(0,Te.literal)("form"),children:(0,Te.array)(Ae),name:(0,Te.string)()})),Re=ee("form",Ce,["name","children"]),Oe=e("superstruct"),Ne=e("superstruct"),Be=(0,Ne.assign)(se,(0,Ne.object)({type:(0,Ne.literal)("text"),value:(0,Ne.string)(),markdown:(0,Ne.optional)((0,Ne.boolean)())})),Me=ee("text",Be,["value","markdown"]),Le=(e=>(e.Default="default",e.Critical="critical",e.Warning="warning",e))(Le||{}),Fe=(0,Oe.union)([ve,Be,ie]),De=(0,Oe.assign)(se,(0,Oe.object)({type:(0,Oe.literal)("row"),variant:(0,Oe.optional)((0,Oe.union)([x("default"),x("critical"),x("warning")])),label:(0,Oe.string)(),value:Fe})),He=ee("row",De,["label","value","variant"]),Ge=e("superstruct"),Ue=(0,Ge.assign)(ne,(0,Ge.object)({type:(0,Ge.literal)("spinner")})),Ve=ee("spinner",Ue),$e=(0,be.assign)(ne,(0,be.object)({children:(0,be.array)((0,be.lazy)((()=>qe)))})),We=(0,be.assign)($e,(0,be.object)({type:(0,be.literal)("panel")})),Je=ee("panel",We,["children"]),qe=(0,be.union)([ce,de,pe,ve,We,Ue,Be,De,ie,xe,Ce,Ee]),ze=e("@metamask/utils"),Ke=e("superstruct");function Ye(e){return(0,Ke.is)(e,qe)}function Xe(e){(0,ze.assertStruct)(e,qe,"Invalid component")}async function Ze(e,t){const r=await async function(e,t){if("function"!=typeof fetch)throw new Error(`Failed to fetch image data from "${e}": Using this function requires the "endowment:network-access" permission.`);return fetch(e,t).then((async t=>{if(!t.ok)throw new Error(`Failed to fetch image data from "${e}": ${t.status} ${t.statusText}`);const r=await t.blob();return(0,Y.assert)("image/jpeg"===r.type||"image/png"===r.type,"Expected image data to be a JPEG or PNG image."),r}))}(e,t),n=new Uint8Array(await r.arrayBuffer());return`data:${r.type};base64,${(0,Y.bytesToBase64)(n)}`}async function Qe(e,{width:t,height:r=t,request:n}){(0,Y.assert)("number"==typeof t&&t>0,"Expected width to be a number greater than 0."),(0,Y.assert)("number"==typeof r&&r>0,"Expected height to be a number greater than 0.");const s=await Ze(e,n),i=`width="${t}" height="${r}"`;return ye(`<svg ${i.trim()} xmlns="http://www.w3.org/2000/svg"><image ${i.trim()} href="${s}" /></svg>`)}var et=(e=>(e.Critical="critical",e))(et||{}),tt=e("superstruct"),rt=(e=>(e.ButtonClickEvent="ButtonClickEvent",e.FormSubmitEvent="FormSubmitEvent",e.InputChangeEvent="InputChangeEvent",e.FileUploadEvent="FileUploadEvent",e))(rt||{}),nt=(0,tt.object)({type:(0,tt.string)(),name:(0,tt.optional)((0,tt.string)())}),st=(0,tt.assign)(nt,(0,tt.object)({type:(0,tt.literal)("ButtonClickEvent"),name:(0,tt.optional)((0,tt.string)())})),it=(0,tt.object)({name:(0,tt.string)(),size:(0,tt.number)(),contentType:(0,tt.string)(),contents:(0,tt.string)()}),at=(0,tt.assign)(nt,(0,tt.object)({type:(0,tt.literal)("FormSubmitEvent"),value:(0,tt.record)((0,tt.string)(),(0,tt.nullable)((0,tt.union)([(0,tt.string)(),it,(0,tt.boolean)()]))),name:(0,tt.string)()})),ot=(0,tt.assign)(nt,(0,tt.object)({type:(0,tt.literal)("InputChangeEvent"),name:(0,tt.string)(),value:(0,tt.union)([(0,tt.string)(),(0,tt.boolean)()])})),ct=(0,tt.assign)(nt,(0,tt.object)({type:(0,tt.literal)("FileUploadEvent"),name:(0,tt.string)(),file:(0,tt.nullable)(it)})),lt=(0,tt.union)([st,at,ot,ct]),ut=(e=>(e.Alert="alert",e.Confirmation="confirmation",e.Prompt="prompt",e))(ut||{}),dt=(e=>(e.Base64="base64",e.Hex="hex",e.Utf8="utf8",e))(dt||{}),ht=(e=>(e.ClearState="clear",e.GetState="get",e.UpdateState="update",e))(ht||{}),ft=(e=>(e.InApp="inApp",e.Native="native",e))(ft||{}),pt=e("@metamask/utils"),mt=e("superstruct"),gt=e("@metamask/utils"),vt=e("superstruct"),yt=P([(0,vt.string)(),(0,vt.number)()]),bt=wt([(0,vt.string)()]);(0,vt.object)({type:(0,vt.string)(),props:(0,vt.record)((0,vt.string)(),gt.JsonStruct),key:(0,vt.nullable)(yt)});function wt(e){return function(e){const t=P([e,(0,vt.array)((0,vt.lazy)((()=>t)))]);return t}((0,vt.nullable)(P([...e,(0,vt.boolean)()])))}function St(e,t={}){return(0,vt.object)({type:I(e),props:(0,vt.object)(t),key:(0,vt.nullable)(yt)})}var _t=St("Button",{children:bt,name:(0,vt.optional)((0,vt.string)()),type:(0,vt.optional)(P([I("button"),I("submit")])),variant:(0,vt.optional)(P([I("primary"),I("destructive")])),disabled:(0,vt.optional)((0,vt.boolean)())}),Et=St("Checkbox",{name:(0,vt.string)(),checked:(0,vt.optional)((0,vt.boolean)()),label:(0,vt.optional)((0,vt.string)()),variant:(0,vt.optional)(P([I("default"),I("toggle")]))}),kt=St("Input",{name:(0,vt.string)(),type:(0,vt.optional)(P([I("text"),I("password"),I("number")])),value:(0,vt.optional)((0,vt.string)()),placeholder:(0,vt.optional)((0,vt.string)())}),Tt=St("Option",{value:(0,vt.string)(),children:(0,vt.string)()}),It=St("Dropdown",{name:(0,vt.string)(),value:(0,vt.optional)((0,vt.string)()),children:wt([Tt])}),jt=St("FileInput",{name:(0,vt.string)(),accept:P([(0,vt.optional)((0,vt.array)((0,vt.string)()))]),compact:(0,vt.optional)((0,vt.boolean)())}),xt=St("Field",{label:(0,vt.optional)((0,vt.string)()),error:(0,vt.optional)((0,vt.string)()),children:P([(0,vt.tuple)([kt,_t]),It,jt,kt,Et])}),Pt=St("Form",{children:wt([xt,(0,vt.lazy)((()=>qt))]),name:(0,vt.string)()}),At=St("Bold",{children:wt([(0,vt.string)(),(0,vt.lazy)((()=>Ct))])}),Ct=St("Italic",{children:wt([(0,vt.string)(),(0,vt.lazy)((()=>At))])}),Rt=P([At,Ct]),Ot=St("Address",{address:gt.HexChecksumAddressStruct}),Nt=St("Box",{children:wt([(0,vt.lazy)((()=>qt))]),direction:(0,vt.optional)(P([I("horizontal"),I("vertical")])),alignment:(0,vt.optional)(P([I("start"),I("center"),I("end"),I("space-between"),I("space-around")]))}),Bt=St("Copyable",{value:(0,vt.string)(),sensitive:(0,vt.optional)((0,vt.boolean)())}),Mt=St("Divider"),Lt=St("Value",{value:(0,vt.string)(),extra:(0,vt.string)()}),Ft=St("Heading",{children:bt}),Dt=St("Image",{src:C(),alt:(0,vt.optional)((0,vt.string)())}),Ht=St("Link",{href:(0,vt.string)(),children:wt([Rt,(0,vt.string)()])}),Gt=St("Text",{children:wt([(0,vt.string)(),At,Ct,Ht]),alignment:(0,vt.optional)(P([I("start"),I("center"),I("end")]))}),Ut=P([Gt,At,Ct,Ht,Dt,(0,vt.boolean)()]),Vt=P([Gt,At,Ct,Ht,(0,vt.string)()]),$t=St("Tooltip",{children:(0,vt.nullable)(Ut),content:Vt}),Wt=St("Row",{label:(0,vt.string)(),children:P([Ot,Dt,Gt,Lt]),variant:(0,vt.optional)(P([I("default"),I("warning"),I("critical")])),tooltip:(0,vt.optional)((0,vt.string)())}),Jt=St("Spinner"),qt=P([Ot,At,Nt,_t,Bt,Mt,It,jt,Pt,Ft,kt,Dt,Ct,Ht,Wt,Jt,Gt,$t,Et]),zt=qt,Kt=(P([_t,kt,jt,xt,Pt,At,Ct,Ot,Nt,Bt,Mt,Ft,Dt,Ht,Wt,Jt,Gt,It,Tt,Lt,$t,Et]),(0,mt.union)([it,(0,mt.string)(),(0,mt.boolean)()])),Yt=(0,mt.record)((0,mt.string)(),(0,mt.nullable)(Kt)),Xt=(0,mt.record)((0,mt.string)(),(0,mt.union)([Yt,(0,mt.nullable)(Kt)])),Zt=(0,mt.union)([qe,zt]),Qt=(0,mt.record)((0,mt.string)(),pt.JsonStruct)}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/index.js"}],[2576,{"@metamask/utils":2739,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,c={};function l(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function u(e){return t=>{const{key:r=null,...n}=t;return{type:e,props:l(n),key:r}}}((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(c,{Address:()=>S,Bold:()=>b,Box:()=>_,Button:()=>d,Checkbox:()=>h,Copyable:()=>E,Divider:()=>k,Dropdown:()=>f,Field:()=>m,FileInput:()=>g,Form:()=>v,Heading:()=>I,Image:()=>j,Input:()=>y,Italic:()=>w,JSXElementStruct:()=>ye,Link:()=>x,Option:()=>p,RootJSXElementStruct:()=>ve,Row:()=>P,Spinner:()=>A,Text:()=>C,Tooltip:()=>R,Value:()=>T,assertJSXElement:()=>Se,createSnapComponent:()=>u,isJSXElement:()=>be,isJSXElementUnsafe:()=>we,jsx:()=>O,jsxDEV:()=>_e,jsxs:()=>N}),t.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of a(t))o.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=i(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var d=u("Button"),h=u("Checkbox"),f=u("Dropdown"),p=u("Option"),m=u("Field"),g=u("FileInput"),v=u("Form"),y=u("Input"),b=u("Bold"),w=u("Italic"),S=u("Address"),_=u("Box"),E=u("Copyable"),k=u("Divider"),T=u("Value"),I=u("Heading"),j=u("Image"),x=u("Link"),P=u("Row"),A=u("Spinner"),C=u("Text"),R=u("Tooltip");function O(e,t,r){if("string"==typeof e)throw new Error(`An HTML element ("${String(e)}") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error("A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.");return e({...t,key:r})}function N(e,t,r){return O(e,t,r)}var B=e("@metamask/utils"),M=e("superstruct"),L=e("superstruct");function F(e){return(0,L.define)(JSON.stringify(e),(0,L.literal)(e).validator)}function D(e){return function([e,...t]){const r=(0,L.union)([e,...t]);return new L.Struct({...r,schema:[e,...t]})}(e)}var H=e("superstruct");var G=D([(0,M.string)(),(0,M.number)()]),U=V([(0,M.string)()]);(0,M.object)({type:(0,M.string)(),props:(0,M.record)((0,M.string)(),B.JsonStruct),key:(0,M.nullable)(G)});function V(e){return function(e){const t=D([e,(0,M.array)((0,M.lazy)((()=>t)))]);return t}((0,M.nullable)(D([...e,(0,M.boolean)()])))}function $(e,t={}){return(0,M.object)({type:F(e),props:(0,M.object)(t),key:(0,M.nullable)(G)})}var W=$("Button",{children:U,name:(0,M.optional)((0,M.string)()),type:(0,M.optional)(D([F("button"),F("submit")])),variant:(0,M.optional)(D([F("primary"),F("destructive")])),disabled:(0,M.optional)((0,M.boolean)())}),J=$("Checkbox",{name:(0,M.string)(),checked:(0,M.optional)((0,M.boolean)()),label:(0,M.optional)((0,M.string)()),variant:(0,M.optional)(D([F("default"),F("toggle")]))}),q=$("Input",{name:(0,M.string)(),type:(0,M.optional)(D([F("text"),F("password"),F("number")])),value:(0,M.optional)((0,M.string)()),placeholder:(0,M.optional)((0,M.string)())}),z=$("Option",{value:(0,M.string)(),children:(0,M.string)()}),K=$("Dropdown",{name:(0,M.string)(),value:(0,M.optional)((0,M.string)()),children:V([z])}),Y=$("FileInput",{name:(0,M.string)(),accept:D([(0,M.optional)((0,M.array)((0,M.string)()))]),compact:(0,M.optional)((0,M.boolean)())}),X=$("Field",{label:(0,M.optional)((0,M.string)()),error:(0,M.optional)((0,M.string)()),children:D([(0,M.tuple)([q,W]),K,Y,q,J])}),Z=$("Form",{children:V([X,(0,M.lazy)((()=>ge))]),name:(0,M.string)()}),Q=$("Bold",{children:V([(0,M.string)(),(0,M.lazy)((()=>ee))])}),ee=$("Italic",{children:V([(0,M.string)(),(0,M.lazy)((()=>Q))])}),te=D([Q,ee]),re=$("Address",{address:B.HexChecksumAddressStruct}),ne=$("Box",{children:V([(0,M.lazy)((()=>ge))]),direction:(0,M.optional)(D([F("horizontal"),F("vertical")])),alignment:(0,M.optional)(D([F("start"),F("center"),F("end"),F("space-between"),F("space-around")]))}),se=$("Copyable",{value:(0,M.string)(),sensitive:(0,M.optional)((0,M.boolean)())}),ie=$("Divider"),ae=$("Value",{value:(0,M.string)(),extra:(0,M.string)()}),oe=$("Heading",{children:U}),ce=$("Image",{src:(0,H.refine)((0,H.string)(),"SVG",(e=>!!e.includes("<svg")||"Value is not a valid SVG.")),alt:(0,M.optional)((0,M.string)())}),le=$("Link",{href:(0,M.string)(),children:V([te,(0,M.string)()])}),ue=$("Text",{children:V([(0,M.string)(),Q,ee,le]),alignment:(0,M.optional)(D([F("start"),F("center"),F("end")]))}),de=D([ue,Q,ee,le,ce,(0,M.boolean)()]),he=D([ue,Q,ee,le,(0,M.string)()]),fe=$("Tooltip",{children:(0,M.nullable)(de),content:he}),pe=$("Row",{label:(0,M.string)(),children:D([re,ce,ue,ae]),variant:(0,M.optional)(D([F("default"),F("warning"),F("critical")])),tooltip:(0,M.optional)((0,M.string)())}),me=$("Spinner"),ge=D([re,Q,ne,W,se,ie,K,Y,Z,oe,q,ce,ee,le,pe,me,ue,fe,J]),ve=ge,ye=D([W,q,Y,X,Z,Q,ee,re,ne,se,ie,oe,ce,le,pe,me,ue,K,z,ae,fe,J]);function be(e){return(0,M.is)(e,ye)}function we(e){return(0,B.isPlainObject)(e)&&(0,B.hasProperty)(e,"type")&&(0,B.hasProperty)(e,"props")&&(0,B.hasProperty)(e,"key")}function Se(e){if(!be(e))throw new Error(`Expected a JSX element, but received ${JSON.stringify(e)}. Please refer to the documentation for the supported JSX elements and their props.`)}function _e(e,t,r){const n=O(e,t,r);return Se(n),n}}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/index.js"}],[2577,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,c={};function l(e,t,r){if("string"==typeof e)throw new Error(`An HTML element ("${String(e)}") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error("A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.");return e({...t,key:r})}function u(e,t,r){return l(e,t,r)}((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(c,{jsx:()=>l,jsxs:()=>u}),t.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of a(t))o.call(e,c)||c===r||s(e,c,{get:()=>t[c],enumerable:!(n=i(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n))}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/dist/jsx/jsx-runtime.js"}],[2578,{"./dist/jsx/jsx-runtime":2577},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./dist/jsx/jsx-runtime")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/jsx-runtime.js"}],[2579,{"./dist/jsx/index":2576},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./dist/jsx/index")}}},{package:"@metamask/snaps-sdk",file:"node_modules/@metamask/snaps-sdk/jsx.js"}],[2580,{"@metamask/utils":2739,"cron-parser":3618,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils"),s=e("cron-parser"),i=e("superstruct"),a=i.object.call(void 0,{jsonrpc:i.optional.call(void 0,n.JsonRpcVersionStruct),id:i.optional.call(void 0,n.JsonRpcIdStruct),method:i.string.call(void 0),params:i.optional.call(void 0,n.JsonRpcParamsStruct)}),o=i.refine.call(void 0,i.string.call(void 0),"CronExpression",(e=>{try{return s.parseExpression.call(void 0,e),!0}catch{return!1}}));var c=i.object.call(void 0,{expression:o,request:a});var l=i.array.call(void 0,c);r.CronjobRpcRequestStruct=a,r.CronExpressionStruct=o,r.parseCronExpression=function(e){const t=i.create.call(void 0,e,o);return s.parseExpression.call(void 0,t)},r.CronjobSpecificationStruct=c,r.isCronjobSpecification=function(e){try{return i.create.call(void 0,e,c),!0}catch{return!1}},r.CronjobSpecificationArrayStruct=l,r.isCronjobSpecificationArray=function(e){try{return i.create.call(void 0,e,l),!0}catch{return!1}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-2LBN5T56.js"}],[2581,{"@metamask/permission-controller":1796,"@metamask/utils":2739,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/permission-controller"),s=e("@metamask/utils"),i=e("superstruct"),a=i.array.call(void 0,i.refine.call(void 0,i.string.call(void 0),"Allowed origin",(e=>!(e.split("*").length-1>2)||'No more than two wildcards ("*") are allowed in an origin specifier.'))),o=i.refine.call(void 0,i.object.call(void 0,{dapps:i.optional.call(void 0,i.boolean.call(void 0)),snaps:i.optional.call(void 0,i.boolean.call(void 0)),allowedOrigins:i.optional.call(void 0,a)}),"RPC origins",(e=>!!Boolean(!0===e.snaps||!0===e.dapps||e.allowedOrigins&&e.allowedOrigins.length>0)||"Must specify at least one JSON-RPC origin."));var c=i.object.call(void 0,{allowedOrigins:i.optional.call(void 0,a)});function l(e,t){if("*"===e||e===t)return!0;const r=function(e){const t=e.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*");return RegExp(`${t}$`,"u")}(e);return r.test(t)}r.RpcOriginsStruct=o,r.assertIsRpcOrigins=function(e,t){s.assertStruct.call(void 0,e,o,"Invalid JSON-RPC origins",t)},r.KeyringOriginsStruct=c,r.assertIsKeyringOrigins=function(e,t){s.assertStruct.call(void 0,e,c,"Invalid keyring origins",t)},r.isOriginAllowed=function(e,t,r){return"metamask"===r||(!!e.allowedOrigins?.some((e=>l(e,r)))||(!(t!==n.SubjectType.Website||!e.dapps)||Boolean(t===n.SubjectType.Snap&&e.snaps)))},r.assertIsJsonRpcSuccess=function(e){if(!s.isJsonRpcSuccess.call(void 0,e)){if(s.isJsonRpcFailure.call(void 0,e))throw new Error(`JSON-RPC request failed: ${e.error.message}`);throw new Error("Invalid JSON-RPC response.")}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-37VHIRUJ.js"}],[2582,{"./chunk-HJYRGKCX.js":2593,"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-HJYRGKCX.js"),s=e("@metamask/utils");r.getBytes=function(e){const t=e instanceof n.VirtualFile?e.value:e;return"string"==typeof t?s.stringToBytes.call(void 0,t):t}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-473MIETW.js"}],[2583,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-4CMD46B2.js"}],[2584,{superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("superstruct"),s=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-a-zA-Z0-9]{1,32})$/u,i=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-a-zA-Z0-9]{1,32})):(?<accountAddress>[a-zA-Z0-9]{1,64})$/u,a=/^(?<accountAddress>[a-zA-Z0-9]{1,64})$/u;var o=n.size.call(void 0,n.string.call(void 0),1,40),c=n.define.call(void 0,"Chain ID",n.string.call(void 0).validator),l=n.pattern.call(void 0,c,s),u=n.pattern.call(void 0,n.string.call(void 0),i),d=n.array.call(void 0,u),h=n.pattern.call(void 0,n.string.call(void 0),a),f=n.object.call(void 0,{id:l,name:o}),p=n.object.call(void 0,{chains:n.array.call(void 0,f),methods:n.optional.call(void 0,n.array.call(void 0,o)),events:n.optional.call(void 0,n.array.call(void 0,o))}),m=n.pattern.call(void 0,n.string.call(void 0),/^[-a-z0-9]{3,8}$/u);r.CHAIN_ID_REGEX=s,r.ACCOUNT_ID_REGEX=i,r.ACCOUNT_ADDRESS_REGEX=a,r.parseChainId=function(e){const t=s.exec(e);if(!t?.groups)throw new Error("Invalid chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}},r.parseAccountId=function(e){const t=i.exec(e);if(!t?.groups)throw new Error("Invalid account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},r.LimitedString=o,r.ChainIdStringStruct=c,r.ChainIdStruct=l,r.AccountIdStruct=u,r.AccountIdArrayStruct=d,r.AccountAddressStruct=h,r.ChainStruct=f,r.NamespaceStruct=p,r.NamespaceIdStruct=m,r.isNamespaceId=function(e){return n.is.call(void 0,e,m)},r.isChainId=function(e){return n.is.call(void 0,e,l)},r.isAccountId=function(e){return n.is.call(void 0,e,u)},r.isAccountIdArray=function(e){return n.is.call(void 0,e,d)},r.isNamespace=function(e){return n.is.call(void 0,e,p)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-6LOYTBS3.js"}],[2585,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-7LOABHVW.js"}],[2586,{"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils");r.parseJson=function(e){return n.getSafeJson.call(void 0,JSON.parse(e))},r.getJsonSizeUnsafe=function(e){const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-7VJ2BOVU.js"}],[2587,{"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils");r.normalizeRelative=function(e){return n.assert.call(void 0,!e.startsWith("/")),n.assert.call(void 0,-1===e.search(/:|\/\//u),`Path "${e}" potentially an URI instead of local relative`),e.startsWith("./")?e.slice(2):e}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-AOGVLPQZ.js"}],[2588,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e=>(e.PermittedDerivationPaths="permittedDerivationPaths",e.PermittedCoinTypes="permittedCoinTypes",e.SnapCronjob="snapCronjob",e.TransactionOrigin="transactionOrigin",e.SignatureOrigin="signatureOrigin",e.RpcOrigin="rpcOrigin",e.KeyringOrigin="keyringOrigin",e.SnapIds="snapIds",e.ChainIds="chainIds",e.LookupMatchers="lookupMatchers",e.MaxRequestTime="maxRequestTime",e))(n||{});r.SnapCaveatType=n}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-ASZWZ7JT.js"}],[2589,{"@metamask/utils":2739,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils"),s=e("superstruct"),i=(e=>(e.PackageJson="package.json",e.Manifest="snap.manifest.json",e))(i||{}),a=s.size.call(void 0,s.pattern.call(void 0,s.string.call(void 0),/^(?:@[a-z0-9-*~][a-z0-9-*._~]*\/)?[a-z0-9-~][a-z0-9-._~]*$/u),1,214),o=s.type.call(void 0,{version:n.VersionStruct,name:a,main:s.optional.call(void 0,s.size.call(void 0,s.string.call(void 0),1,Infinity)),repository:s.optional.call(void 0,s.object.call(void 0,{type:s.size.call(void 0,s.string.call(void 0),1,Infinity),url:s.size.call(void 0,s.string.call(void 0),1,Infinity)}))});var c=(e=>(e.npm="npm:",e.local="local:",e))(c||{}),l=(e=>(e.NameMismatch='"name" field mismatch',e.VersionMismatch='"version" field mismatch',e.RepositoryMismatch='"repository" field mismatch',e.ShasumMismatch='"shasum" field mismatch',e))(l||{}),u=(e=>(e.JSON_RPC="jsonRpc",e.COMMAND="command",e))(u||{}),d=(e={})=>s.refine.call(void 0,s.union.call(void 0,[s.string.call(void 0),s.instance.call(void 0,URL)]),"uri",(t=>{try{const r=new URL(t),n=s.type.call(void 0,e);return s.assert.call(void 0,r,n),!0}catch{return`Expected URL, got "${t.toString()}".`}}));r.NpmSnapFileNames=i,r.NameStruct=a,r.NpmSnapPackageJsonStruct=o,r.isNpmSnapPackageJson=function(e){return s.is.call(void 0,e,o)},r.assertIsNpmSnapPackageJson=function(e){n.assertStruct.call(void 0,e,o,'"package.json" is invalid')},r.SnapIdPrefixes=c,r.SnapValidationFailureReason=l,r.SNAP_STREAM_NAMES=u,r.uri=d,r.isValidUrl=function(e,t={}){return s.is.call(void 0,e,d(t))},r.WALLET_SNAP_PERMISSION_KEY="wallet_snap"}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-CMOSYNZR.js"}],[2590,{"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils").createProjectLogger.call(void 0,"snaps");r.snapsLogger=n,r.logInfo=function(e,...t){console.log(e,...t)},r.logError=function(e,...t){console.error(e,...t)},r.logWarning=function(e,...t){console.warn(e,...t)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-E3BDBG6T.js"}],[2591,{"./chunk-K4B37F3L.js":2599,"./chunk-R5DO7T2D.js":2610,"./chunk-W7KRIAIX.js":2613,"./chunk-ZJKG5Q2C.js":2614},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-ZJKG5Q2C.js"),s=e("./chunk-K4B37F3L.js"),i=e("./chunk-W7KRIAIX.js"),a=e("./chunk-R5DO7T2D.js");r.validateFetchedSnap=async function(e){n.assertIsSnapManifest.call(void 0,e.manifest.result),await s.validateSnapShasum.call(void 0,e),a.validateSnapManifestLocalizations.call(void 0,e.manifest.result,e.localizationFiles.map((e=>e.result))),e.svgIcon&&i.assertIsSnapIcon.call(void 0,e.svgIcon)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-F72OSQD6.js"}],[2592,{"./chunk-IJX3CXOY.js":2595,"@metamask/snaps-sdk":2575,"@metamask/utils":2739,chalk:3535,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-IJX3CXOY.js"),s=e("@metamask/snaps-sdk"),i=e("@metamask/utils"),a=e("chalk"),o=e("superstruct");function c(e,t,r){return r?t(e):e}var l=class extends o.StructError{constructor(e,t,r,n,s,i=!0){super(n,s),this.name="SnapsStructError",this.message=`${t}.\n\n${g(e,[...s()],i)}${r?`\n\n${r}`:""}`}};function*u(e){for(const t of e)yield t}function d({struct:e,prefix:t,suffix:r="",error:n,colorize:s}){return new l(e,t,r,n,(()=>u(n.failures())),s)}function h(e,t){return t.reduce(((t,r)=>i.isObject.call(void 0,e.schema)&&e.schema[r]?e.schema[r]:t),e)}function f(e,t=!0){return Array.isArray(e.schema)?e.schema.map((({type:e})=>c(e,a.green,t))):null}function p(e,t=!0){return"never"===e.type||0===e.path.length?"":`At path: ${c(e.path.join("."),a.bold,t)} — `}function m(e,t,r=!0){const n=c(JSON.stringify(t.value),a.red,r),s=p(t,r);if("union"===t.type){const i=f(h(e,t.path),r);return i?`${s}Expected the value to be one of: ${i.join(", ")}, but received: ${n}.`:`${s}${t.message}.`}if("literal"===t.type){return`${s}${t.message.replace(/the literal `(.+)`,/u,`the value to be \`${c("$1",a.green,r)}\`,`).replace(/, but received: (.+)/u,`, but received: ${c("$1",a.red,r)}`)}.`}if("never"===t.type)return`Unknown key: ${c(t.path.join("."),a.bold,r)}, received: ${n}.`;if("size"===t.refinement){return`${s}${t.message.replace(/length between `(\d+)` and `(\d+)`/u,`length between ${c("$1",a.green,r)} and ${c("$2",a.green,r)},`).replace(/length of `(\d+)`/u,`length of ${c("$1",a.red,r)}`).replace(/a array/u,"an array")}.`}return`${s}Expected a value of type ${c(t.type,a.green,r)}, but received: ${n}.`}function g(e,t,r=!0){return t.map((t=>n.indent.call(void 0,`• ${m(e,t,r)}`))).join("\n")}function v(e,t,r,n=!1){i.assert.call(void 0,t.schema,"Expected a struct with a schema. Make sure to use `union` from `@metamask/snaps-sdk`."),i.assert.call(void 0,t.schema.length>0,"Expected a non-empty array of structs.");const a=t.schema.map((e=>e.schema[r])),c=o.type.call(void 0,{[r]:s.union.call(void 0,a)}),[l]=o.validate.call(void 0,e,c,{coerce:n});if(l)throw new Error(m(c,l.failures()[0],!1));const u=e,d=t.schema.filter((e=>o.is.call(void 0,u[r],e.schema[r])));i.assert.call(void 0,d.length>0,"Expected a struct to match the value.");const h=d.map((e=>o.validate.call(void 0,u,e,{coerce:n}))),f=h.find((([e])=>!e));if(f)return f[1];i.assert.call(void 0,h[0][0],"Expected at least one error.");const p=h.reduce(((e,[t])=>(i.assert.call(void 0,t,"Expected an error."),t.failures().length<e.failures().length?t:e)),h[0][0]);throw new Error(m(t,p.failures()[0],!1))}r.named=function(e,t){return new(0,o.Struct)({...t,type:e})},r.SnapsStructError=l,r.arrayToGenerator=u,r.getError=d,r.createFromStruct=function(e,t,r,n=""){try{return o.create.call(void 0,e,t)}catch(e){if(e instanceof o.StructError)throw d({struct:t,prefix:r,suffix:n,error:e});throw e}},r.getStructFromPath=h,r.getUnionStructNames=f,r.getStructErrorPrefix=p,r.getStructFailureMessage=m,r.getStructErrorMessage=g,r.validateUnion=v,r.createUnion=function(e,t,r){return v(e,t,r,!0)},r.mergeStructs=function(...e){const t=o.assign.call(void 0,...e);return new(0,o.Struct)({...t,*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-HEXZ4DFV.js"}],[2593,{"./chunk-NUCLSR2G.js":2605,"@metamask/utils":2739,"@scure/base":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-NUCLSR2G.js"),s=e("@metamask/utils"),i=e("@scure/base");r.VirtualFile=class e{constructor(e){let t;t="string"==typeof e||e instanceof Uint8Array?{value:e}:e,this.value=t?.value??"",this.result=t?.result??void 0,this.data=t?.data??{},this.path=t?.path??"/"}toString(e){if("string"==typeof this.value)return s.assert.call(void 0,void 0===e,"Tried to encode string."),this.value;if(this.value instanceof Uint8Array&&"hex"===e)return s.bytesToHex.call(void 0,this.value);if(this.value instanceof Uint8Array&&"base64"===e)return i.base64.encode(this.value);return new TextDecoder(e).decode(this.value)}clone(){const t=new e;return"string"==typeof this.value?t.value=this.value:t.value=this.value.slice(0),t.result=n.deepClone.call(void 0,this.result),t.data=n.deepClone.call(void 0,this.data),t.path=this.path,t}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-HJYRGKCX.js"}],[2594,{"./chunk-473MIETW.js":2582,"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-473MIETW.js"),s=e("@metamask/utils");r.encodeBase64=async function(e){const t=n.getBytes.call(void 0,e);return"FileReader"in globalThis?await new Promise(((e,r)=>{const n=Object.assign(new FileReader,{onload:()=>e(n.result.replace("data:application/octet-stream;base64,","")),onerror:()=>r(n.error)});n.readAsDataURL(new File([t],"",{type:"application/octet-stream"}))})):s.bytesToBase64.call(void 0,t)},r.decodeBase64=async function(e){const t=await fetch(`data:application/octet-stream;base64,${e}`);return new Uint8Array(await t.arrayBuffer())}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-IHQPAJ2B.js"}],[2595,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.indent=function(e,t=2){return e.replace(/^/gmu," ".repeat(t))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-IJX3CXOY.js"}],[2596,{"@metamask/utils":2739,semver:4785,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils"),s=e("semver"),i=e("superstruct");r.DEFAULT_REQUESTED_SNAP_VERSION="*",r.getTargetVersion=function(e,t){const r=s.maxSatisfying.call(void 0,e,t);return r||s.maxSatisfying.call(void 0,e,t,{includePrerelease:!0})},r.resolveVersionRange=function(e){return void 0===e||"latest"===e?[void 0,"*"]:i.validate.call(void 0,e,n.VersionRangeStruct)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-IPOE62V4.js"}],[2597,{"./chunk-IHQPAJ2B.js":2594,"@metamask/snaps-sdk":2575,"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-IHQPAJ2B.js"),s=e("@metamask/snaps-sdk"),i=e("@metamask/utils");r.encodeAuxiliaryFile=async function(e,t){if(t===s.AuxiliaryFileEncoding.Base64)return e;const r=await n.decodeBase64.call(void 0,e);return t===s.AuxiliaryFileEncoding.Utf8?i.bytesToString.call(void 0,r):i.bytesToHex.call(void 0,r)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-IXBJNVHK.js"}],[2598,{"@metamask/snaps-sdk":2575,"@metamask/snaps-sdk/jsx":2579,"@metamask/snaps-sdk/jsx-runtime":2578,"@metamask/utils":2739,marked:4330},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/snaps-sdk"),s=e("@metamask/snaps-sdk/jsx"),i=e("@metamask/utils"),a=e("marked"),o=e("@metamask/snaps-sdk/jsx-runtime"),c=5e4,l=["https:","mailto:"];function u(e){switch(e){case"primary":return"primary";case"secondary":return"destructive";default:return}}function d(e){return 1===e.length?e[0]:e}function h(e){return e.tokens&&e.tokens.length>0?d(e.tokens.flatMap(p)):e.href}function f(e){return d(e.flatMap(p))}function p(e){switch(e.type){case"link":return o.jsx.call(void 0,s.Link,{href:e.href,children:h(e)});case"text":return e.text;case"strong":return o.jsx.call(void 0,s.Bold,{children:f(e.tokens)});case"em":return o.jsx.call(void 0,s.Italic,{children:f(e.tokens)});default:return null}}function m(e){const t=a.lexer.call(void 0,e,{gfm:!1}),r=[];return a.walkTokens.call(void 0,t,(e=>{if("paragraph"===e.type){r.length>0&&r.push("\n\n");const{tokens:t}=e;r.push(...t.flatMap(p))}})),r.filter((e=>null!==e))}function g(e,t){try{const r=new URL(e);i.assert.call(void 0,l.includes(r.protocol),`Protocol must be one of: ${l.join(", ")}.`);const n="mailto:"===r.protocol?r.pathname.split("@")[1]:r.hostname;i.assert.call(void 0,!t(n),"The specified URL is not allowed.")}catch(e){throw new Error(`Invalid URL: ${e instanceof i.AssertionError?e.message:"Unable to parse URL."}`)}}function v(e){const{type:t}=e;switch(t){case n.NodeType.Panel:return e.children.reduce(((e,t)=>e+v(t)),0);case n.NodeType.Row:return v(e.value);case n.NodeType.Text:return e.value.length;default:return 0}}function y(e){return i.hasProperty.call(void 0,e.props,"children")}function b(e){return Boolean(e)&&!0!==e}function w(e){if(y(e)){if(Array.isArray(e.props.children))return e.props.children.filter(b).flat(Infinity);if(e.props.children)return[e.props.children]}return[]}function S(e,t,r=0){if(Array.isArray(e)){for(const n of e){const e=S(n,t,r);if(void 0!==e)return e}return}const n=t(e,r);if(void 0!==n)return n;if(i.hasProperty.call(void 0,e,"props")&&i.isPlainObject.call(void 0,e.props)&&i.hasProperty.call(void 0,e.props,"children")){const n=w(e);for(const e of n)if(i.isPlainObject.call(void 0,e)){const n=S(e,t,r+1);if(void 0!==n)return n}}}r.getTextChildren=m,r.getJsxElementFromComponent=function(e){return function(e){const t=v(e);i.assert.call(void 0,t<=c,`The text in a Snap UI may not be larger than ${c/1e3} kB.`)}(e),function e(t){switch(t.type){case n.NodeType.Address:return o.jsx.call(void 0,s.Address,{address:t.value});case n.NodeType.Button:return o.jsx.call(void 0,s.Button,{name:t.name,variant:u(t.variant),type:t.buttonType,children:t.value});case n.NodeType.Copyable:return o.jsx.call(void 0,s.Copyable,{value:t.value,sensitive:t.sensitive});case n.NodeType.Divider:return o.jsx.call(void 0,s.Divider,{});case n.NodeType.Form:return o.jsx.call(void 0,s.Form,{name:t.name,children:d(t.children.map(e))});case n.NodeType.Heading:return o.jsx.call(void 0,s.Heading,{children:t.value});case n.NodeType.Image:return o.jsx.call(void 0,s.Image,{src:t.value});case n.NodeType.Input:return o.jsx.call(void 0,s.Field,{label:t.label,error:t.error,children:o.jsx.call(void 0,s.Input,{name:t.name,type:t.inputType,value:t.value,placeholder:t.placeholder})});case n.NodeType.Panel:return o.jsx.call(void 0,s.Box,{children:d(t.children.map(e))});case n.NodeType.Row:return o.jsx.call(void 0,s.Row,{label:t.label,variant:t.variant,children:e(t.value)});case n.NodeType.Spinner:return o.jsx.call(void 0,s.Spinner,{});case n.NodeType.Text:return o.jsx.call(void 0,s.Text,{children:d(m(t.value))});default:return i.assertExhaustive.call(void 0,t)}}(e)},r.validateTextLinks=function(e,t){const r=function(e){const t=a.lexer.call(void 0,e,{gfm:!1}),r=[];return a.walkTokens.call(void 0,t,(e=>{"link"===e.type&&r.push(e)})),r}(e);for(const e of r)g(e.href,t)},r.validateJsxLinks=function(e,t){S(e,(e=>{"Link"===e.type&&g(e.props.href,t)}))},r.getTotalTextLength=v,r.hasChildren=y,r.getJsxChildren=w,r.walkJsx=S}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-J5B5YRG5.js"}],[2599,{"./chunk-CMOSYNZR.js":2589,"./chunk-MLOQHUOY.js":2603,"@metamask/utils":2739,"@scure/base":2797,"fast-json-stable-stringify":3849,superstruct:4828,"validate-npm-package-name":4908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var s=e("./chunk-CMOSYNZR.js"),i=e("./chunk-MLOQHUOY.js"),a=e("@metamask/utils"),o=e("@scure/base"),c=n(e("fast-json-stable-stringify")),l=e("superstruct"),u=n(e("validate-npm-package-name")),d=(e=>(e.Installing="installing",e.Updating="updating",e.Running="running",e.Stopped="stopped",e.Crashed="crashed",e))(d||{}),h=(e=>(e.Start="START",e.Stop="STOP",e.Crash="CRASH",e.Update="UPDATE",e))(h||{}),f=class extends Error{constructor(e,t){super(e),this.reason=t}};function p(e){const t=e.clone();return delete t.result.source.shasum,t.value=c.default.call(void 0,t.result),t}async function m(e){const{manifest:t,sourceCode:r,svgIcon:n,auxiliaryFiles:s,localizationFiles:a}=e,c=[p(t),r,n,...s,...a].filter((e=>void 0!==e));return o.base64.encode(await i.checksumFiles.call(void 0,c))}var g=["localhost","127.0.0.1","[::1]"],v=l.pattern.call(void 0,l.string.call(void 0),/^[\x21-\x7E]*$/u),y=s.uri.call(void 0,{protocol:l.enums.call(void 0,["http:","https:"]),hostname:l.enums.call(void 0,g),hash:l.empty.call(void 0,l.string.call(void 0)),search:l.empty.call(void 0,l.string.call(void 0))}),b=l.refine.call(void 0,v,"local Snap Id",(e=>{if(!e.startsWith("local:"))return`Expected local snap ID, got "${e}".`;const[t]=l.validate.call(void 0,e.slice(6),y);return t??!0})),w=l.intersection.call(void 0,[v,s.uri.call(void 0,{protocol:l.literal.call(void 0,"npm:"),pathname:l.refine.call(void 0,l.string.call(void 0),"package name",(function*(e){const t=e.startsWith("/")?e.slice(1):e,{errors:r,validForNewPackages:n,warnings:s}=u.default.call(void 0,t);return n||(void 0===r?(a.assert.call(void 0,void 0!==s),yield*s):yield*r),!0})),search:l.empty.call(void 0,l.string.call(void 0)),hash:l.empty.call(void 0,l.string.call(void 0))})]),S=l.intersection.call(void 0,[v,s.uri.call(void 0,{protocol:l.enums.call(void 0,["http:","https:"]),search:l.empty.call(void 0,l.string.call(void 0)),hash:l.empty.call(void 0,l.string.call(void 0))})]),_=l.union.call(void 0,[w,b]);function E(e){const t=Object.values(s.SnapIdPrefixes).find((t=>e.startsWith(t)));if(void 0!==t)return t;throw new Error(`Invalid or no prefix found for "${e}"`)}r.PROPOSED_NAME_REGEX=/^(?:[A-Za-z0-9-_]+( [A-Za-z0-9-_]+)*)|(?:(?:@[A-Za-z0-9-*~][A-Za-z0-9-*._~]*\/)?[A-Za-z0-9-~][A-Za-z0-9-._~]*)$/u,r.SnapStatus=d,r.SnapStatusEvents=h,r.ProgrammaticallyFixableSnapError=f,r.getSnapChecksum=m,r.validateSnapShasum=async function(e,t="Invalid Snap manifest: manifest shasum does not match computed shasum."){if(e.manifest.result.source.shasum!==await m(e))throw new f(t,'"shasum" field mismatch')},r.LOCALHOST_HOSTNAMES=g,r.BaseSnapIdStruct=v,r.LocalSnapIdStruct=b,r.NpmSnapIdStruct=w,r.HttpSnapIdStruct=S,r.SnapIdStruct=_,r.getSnapPrefix=E,r.stripSnapPrefix=function(e){return e.replace(E(e),"")},r.assertIsValidSnapId=function(e){a.assertStruct.call(void 0,e,_,"Invalid snap ID")},r.isCaipChainId=function(e){return"string"==typeof e&&/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-a-zA-Z0-9]{1,32})$/u.test(e)},r.isSnapPermitted=function(e,t){return Boolean((e?.wallet_snap?.caveats?.find((e=>"snapIds"===e.type))??{}).value?.[t])},r.verifyRequestedSnapPermissions=function(e){a.assert.call(void 0,a.isObject.call(void 0,e),"Requested permissions must be an object.");const{wallet_snap:t}=e;a.assert.call(void 0,a.isObject.call(void 0,t),"wallet_snap is missing from the requested permissions.");const{caveats:r}=t;a.assert.call(void 0,Array.isArray(r)&&1===r.length,"wallet_snap must have a caveat property with a single-item array value.");const[n]=r;a.assert.call(void 0,a.isObject.call(void 0,n)&&"snapIds"===n.type&&a.isObject.call(void 0,n.value),"The requested permissions do not have a valid snapIds caveat.")}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-K4B37F3L.js"}],[2600,{"./chunk-PHUTP7NB.js":2607,"@metamask/rpc-errors":1884,"@metamask/snaps-sdk":2575,"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s,i,a=e("./chunk-PHUTP7NB.js"),o=e("@metamask/rpc-errors"),c=e("@metamask/snaps-sdk"),l=e("@metamask/utils"),u=-31001,d="Wrapped Snap Error",h=class extends Error{constructor(e){const t=c.getErrorMessage.call(void 0,e);super(t),a.__privateAdd.call(void 0,this,n,void 0),a.__privateAdd.call(void 0,this,s,void 0),a.__privateAdd.call(void 0,this,i,void 0),a.__privateSet.call(void 0,this,n,e),a.__privateSet.call(void 0,this,s,t),a.__privateSet.call(void 0,this,i,c.getErrorStack.call(void 0,e))}get name(){return"WrappedSnapError"}get message(){return a.__privateGet.call(void 0,this,s)}get stack(){return a.__privateGet.call(void 0,this,i)}toJSON(){const e=f(a.__privateGet.call(void 0,this,n))?a.__privateGet.call(void 0,this,n).serialize():o.serializeCause.call(void 0,a.__privateGet.call(void 0,this,n));return{code:u,message:d,data:{cause:e}}}serialize(){return this.toJSON()}};function f(e){if(l.isObject.call(void 0,e)&&"serialize"in e&&"function"==typeof e.serialize){const t=e.serialize();return l.isJsonRpcError.call(void 0,t)&&p(t)}return!1}function p(e){return e.code===c.SNAP_ERROR_CODE&&e.message===c.SNAP_ERROR_MESSAGE}function m(e){return l.isJsonRpcError.call(void 0,e)&&e.code===u&&e.message===d}function g(e,t,r,n){const s=new(0,o.JsonRpcError)(e,t,n);return s.stack=r,s}n=new WeakMap,s=new WeakMap,i=new WeakMap,r.SNAP_ERROR_WRAPPER_CODE=u,r.SNAP_ERROR_WRAPPER_MESSAGE=d,r.WrappedSnapError=h,r.isSnapError=f,r.isSerializedSnapError=p,r.isWrappedSnapError=m,r.unwrapError=function(e){if(m(e)){if(l.isJsonRpcError.call(void 0,e.data.cause)){if(p(e.data.cause)){const{code:t,message:r,stack:n,data:s}=e.data.cause.data.cause;return[g(t,r,n,s),!0]}const{code:t,message:r,stack:n,data:s}=e.data.cause;return[g(t,r,n,s),!1]}return[g(o.errorCodes.rpc.internal,c.getErrorMessage.call(void 0,e.data.cause),c.getErrorStack.call(void 0,e.data.cause)),!1]}if(l.isJsonRpcError.call(void 0,e)){const{code:t,message:r,stack:n,data:s}=e;return[g(t,r,n,s),!1]}return[g(o.errorCodes.rpc.internal,c.getErrorMessage.call(void 0,e),c.getErrorStack.call(void 0,e)),!1]}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-K6BCBPXF.js"}],[2601,{"./chunk-T3YY4JIJ.js":2612,"@metamask/slip44":1943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s=e("./chunk-T3YY4JIJ.js"),i=e("@metamask/slip44"),a=(n=i)&&n.__esModule?n:{default:n},o=[{path:["m","44'","0'"],curve:"ed25519",name:"Test BIP-32 Path (ed25519)"},{path:["m","44'","1'"],curve:"secp256k1",name:"Testnet"},{path:["m","44'","0'"],curve:"secp256k1",name:"Bitcoin Legacy"},{path:["m","49'","0'"],curve:"secp256k1",name:"Bitcoin Nested SegWit"},{path:["m","49'","1'"],curve:"secp256k1",name:"Bitcoin Testnet Nested SegWit"},{path:["m","84'","0'"],curve:"secp256k1",name:"Bitcoin Native SegWit"},{path:["m","84'","1'"],curve:"secp256k1",name:"Bitcoin Testnet Native SegWit"},{path:["m","44'","501'"],curve:"ed25519",name:"Solana"},{path:["m","44'","501'","0'","0'"],curve:"ed25519",name:"Solana"},{path:["m","44'","2'"],curve:"secp256k1",name:"Litecoin"},{path:["m","44'","3'"],curve:"secp256k1",name:"Dogecoin"},{path:["m","44'","60'"],curve:"secp256k1",name:"Ethereum"},{path:["m","44'","118'"],curve:"secp256k1",name:"Atom"},{path:["m","44'","145'"],curve:"secp256k1",name:"Bitcoin Cash"},{path:["m","44'","637'"],curve:"ed25519",name:"Aptos"},{path:["m","44'","714'"],curve:"secp256k1",name:"Binance (BNB)"},{path:["m","44'","784'"],curve:"ed25519",name:"Sui"},{path:["m","44'","931'"],curve:"secp256k1",name:"THORChain (RUNE)"},{path:["m","44'","330'"],curve:"secp256k1",name:"Terra (LUNA)"},{path:["m","44'","459'"],curve:"secp256k1",name:"Kava"},{path:["m","44'","529'"],curve:"secp256k1",name:"Secret Network"},{path:["m","44'","397'","0'"],curve:"ed25519",name:"NEAR Protocol"},{path:["m","44'","1'","0'"],curve:"ed25519",name:"Testnet"},{path:["m","44'","472'"],curve:"ed25519",name:"Arweave"},{path:["m","44'","12586'"],curve:"secp256k1",name:"Mina"},{path:["m","44'","242'"],curve:"ed25519",name:"Nimiq"},{path:["m","44'","1729'","0'","0'"],curve:"ed25519",name:"Tezos"},{path:["m","1789'","0'"],curve:"ed25519",name:"Vega"},{path:["m","1852'","1815'"],curve:"ed25519Bip32",name:"Cardano"}];function c(e){return"1"===String(e)?"Test Networks":a.default[e]?.name??null}r.SNAPS_DERIVATION_PATHS=o,r.getSnapDerivationPathName=function(e,t){const r=o.find((r=>r.curve===t&&s.isEqual.call(void 0,r.path,e)));if(r)return r.name;if("secp256k1"===t&&"m"===e[0]&&"44'"===e[1]&&e[2].endsWith("'")){return c(e[2].slice(0,-1))??null}return null},r.getSlip44ProtocolName=c}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-KSRDEGBC.js"}],[2602,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e=>(e.OnRpcRequest="onRpcRequest",e.OnSignature="onSignature",e.OnTransaction="onTransaction",e.OnCronjob="onCronjob",e.OnInstall="onInstall",e.OnUpdate="onUpdate",e.OnNameLookup="onNameLookup",e.OnKeyringRequest="onKeyringRequest",e.OnHomePage="onHomePage",e.OnUserInput="onUserInput",e))(n||{}),s=Object.values(n);r.HandlerType=n,r.SNAP_EXPORT_NAMES=s}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-LEKZPKS2.js"}],[2603,{"./chunk-473MIETW.js":2582,"@metamask/utils":2739,"@noble/hashes/sha256":2778},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-473MIETW.js"),s=e("@metamask/utils"),i=e("@noble/hashes/sha256");async function a(e){const t=n.getBytes.call(void 0,e);return"crypto"in globalThis&&"object"==typeof globalThis.crypto&&crypto.subtle?.digest?new Uint8Array(await crypto.subtle.digest("SHA-256",t)):i.sha256.call(void 0,t)}r.checksum=a,r.checksumFiles=async function(e){const t=await Promise.all([...e].sort(((e,t)=>(s.assert.call(void 0,e.path!==t.path,"Tried to sort files with non-unique paths."),e.path<t.path?-1:1))).map((async e=>a(e))));return a(s.concatBytes.call(void 0,t))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-MLOQHUOY.js"}],[2604,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=Object.freeze(["atob","btoa","BigInt","console","crypto","Date","Math","setTimeout","clearTimeout","SubtleCrypto","TextDecoder","TextEncoder","URL","setInterval","clearInterval","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","DataView","ArrayBuffer","AbortController","AbortSignal"]);r.DEFAULT_ENDOWMENTS=n}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-N722KRZW.js"}],[2605,{rfdc:4749},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s=e("rfdc"),i=((n=s)&&n.__esModule?n:{default:n}).default.call(void 0,{proto:!1,circles:!1});r.deepClone=i}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-NUCLSR2G.js"}],[2606,{"@metamask/snaps-sdk":2575,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/snaps-sdk"),s=e("superstruct"),i={onRpcRequest:{type:"onRpcRequest",required:!0,validator:e=>"function"==typeof e},onTransaction:{type:"onTransaction",required:!0,validator:e=>"function"==typeof e},onCronjob:{type:"onCronjob",required:!0,validator:e=>"function"==typeof e},onNameLookup:{type:"onNameLookup",required:!0,validator:e=>"function"==typeof e},onInstall:{type:"onInstall",required:!1,validator:e=>"function"==typeof e},onUpdate:{type:"onUpdate",required:!1,validator:e=>"function"==typeof e},onKeyringRequest:{type:"onKeyringRequest",required:!0,validator:e=>"function"==typeof e},onHomePage:{type:"onHomePage",required:!0,validator:e=>"function"==typeof e},onSignature:{type:"onSignature",required:!0,validator:e=>"function"==typeof e},onUserInput:{type:"onUserInput",required:!1,validator:e=>"function"==typeof e}},a=s.object.call(void 0,{severity:s.optional.call(void 0,s.literal.call(void 0,n.SeverityLevel.Critical))}),o=s.assign.call(void 0,a,s.object.call(void 0,{id:s.string.call(void 0)})),c=s.assign.call(void 0,a,s.object.call(void 0,{content:n.ComponentOrElementStruct})),l=s.nullable.call(void 0,s.union.call(void 0,[c,o])),u=l,d=s.object.call(void 0,{content:n.ComponentOrElementStruct}),h=s.object.call(void 0,{id:s.string.call(void 0)}),f=s.union.call(void 0,[d,h]),p=s.object.call(void 0,{protocol:s.string.call(void 0),resolvedDomain:s.string.call(void 0)}),m=s.object.call(void 0,{protocol:s.string.call(void 0),resolvedAddress:s.string.call(void 0),domainName:s.string.call(void 0)}),g=s.object.call(void 0,{resolvedDomains:s.size.call(void 0,s.array.call(void 0,p),1,Infinity)}),v=s.object.call(void 0,{resolvedAddresses:s.size.call(void 0,s.array.call(void 0,m),1,Infinity)}),y=s.nullable.call(void 0,s.union.call(void 0,[g,v]));r.SNAP_EXPORTS=i,r.OnTransactionSeverityResponseStruct=a,r.OnTransactionResponseWithIdStruct=o,r.OnTransactionResponseWithContentStruct=c,r.OnTransactionResponseStruct=l,r.OnSignatureResponseStruct=u,r.OnHomePageResponseWithContentStruct=d,r.OnHomePageResponseWithIdStruct=h,r.OnHomePageResponseStruct=f,r.AddressResolutionStruct=p,r.DomainResolutionStruct=m,r.AddressResolutionResponseStruct=g,r.DomainResolutionResponseStruct=v,r.OnNameLookupResponseStruct=y}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-OJM2SKJZ.js"}],[2607,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};r.__privateGet=(e,t,r)=>(n(e,t,"read from private field"),r?r.call(e):t.get(e)),r.__privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},r.__privateSet=(e,t,r,s)=>(n(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r)}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-PHUTP7NB.js"}],[2608,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createWindow=async function(e,t,r=!0){return await new Promise(((n,s)=>{const i=document.createElement("iframe");i.setAttribute("id",t),i.setAttribute("data-testid","snaps-iframe"),r&&i.setAttribute("sandbox","allow-scripts"),i.setAttribute("src",e),document.body.appendChild(i),i.addEventListener("load",(()=>{i.contentWindow?n(i.contentWindow):s(new Error(`iframe.contentWindow not present on load for job "${t}".`))}))}))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-PLBSSUVY.js"}],[2609,{"@metamask/utils":2739,"fast-xml-parser":3852},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils"),s=e("fast-xml-parser");function i(e){try{const t=e.trim();n.assert.call(void 0,t.length>0);const r=new(0,s.XMLParser)({ignoreAttributes:!1,parseAttributeValue:!0}).parse(t,!0);return n.assert.call(void 0,n.hasProperty.call(void 0,r,"svg")),n.isObject.call(void 0,r.svg)?r.svg:{}}catch{throw new Error("Snap icon must be a valid SVG.")}}r.parseSvg=i,r.isSvg=function(e){try{return i(e),!0}catch{return!1}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-QGCNQRIQ.js"}],[2610,{"./chunk-7VJ2BOVU.js":2586,"@metamask/snaps-sdk":2575,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-7VJ2BOVU.js"),s=e("@metamask/snaps-sdk"),i=e("superstruct"),a=["description","proposedName"],o=i.object.call(void 0,{locale:i.string.call(void 0),messages:i.record.call(void 0,i.string.call(void 0),i.object.call(void 0,{message:i.string.call(void 0),description:i.optional.call(void 0,i.string.call(void 0))}))});function c(e,t){const r=t.find((t=>t.locale===e));return r||t.find((e=>"en"===e.locale))}var l=/\{\{\s?([a-zA-Z0-9-_\s]+)\s?\}\}/gu;function u(e,t){const r=e.matchAll(l);return Array.from(r).reduce(((r,[n,s])=>{if(!t)throw new Error(`Failed to translate "${e}": No localization file found.`);const i=t.messages[s.trim()];if(!i)throw new Error(`Failed to translate "${e}": No translation found for "${s.trim()}" in "${t.locale}" file.`);return r.replace(n,i.message)}),e)}function d(e,t,r){const n=c(t,r);return a.reduce(((e,t)=>{const r=u(e[t],n);return{...e,[t]:r}}),e)}r.LOCALIZABLE_FIELDS=a,r.LocalizationFileStruct=o,r.getValidatedLocalizationFiles=function(e){for(const t of e)try{t.result=i.create.call(void 0,n.parseJson.call(void 0,t.toString()),o)}catch(e){if(e instanceof i.StructError)throw new Error(`Failed to validate localization file "${t.path}": ${e.message}.`);if(e instanceof SyntaxError)throw new Error(`Failed to parse localization file "${t.path}" as JSON.`);throw e}return e},r.getLocalizationFile=c,r.TRANSLATION_REGEX=l,r.translate=u,r.getLocalizedSnapManifest=d,r.validateSnapManifestLocalizations=function(e,t){try{t.filter((e=>"en"!==e.locale)).forEach((r=>{d(e,r.locale,t)})),d(e,"en",t)}catch(e){throw new Error(`Failed to localize Snap manifest: ${s.getErrorMessage.call(void 0,e)}`)}}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-R5DO7T2D.js"}],[2611,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-T3VM5YXY.js"}],[2612,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isEqual=function(e,t){return e.length===t.length&&e.every(((e,r)=>e===t[r]))}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-T3YY4JIJ.js"}],[2613,{"./chunk-QGCNQRIQ.js":2609,"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-QGCNQRIQ.js"),s=e("@metamask/utils"),i=1e5,a=`${Math.floor(100)}kb`;r.SVG_MAX_BYTE_SIZE=i,r.SVG_MAX_BYTE_SIZE_TEXT=a,r.assertIsSnapIcon=function(e){s.assert.call(void 0,e.path.endsWith(".svg"),'Expected snap icon to end in ".svg".');const t="string"==typeof e.value?s.stringToBytes.call(void 0,e.value).byteLength:e.value.byteLength;s.assert.call(void 0,t<=i,`The specified SVG icon exceeds the maximum size of ${a}.`),s.assert.call(void 0,n.isSvg.call(void 0,e.toString()),"Snap icon must be a valid SVG.")},r.getSvgDimensions=function(e){try{const t=n.parseSvg.call(void 0,e),r=t["@_height"],i=t["@_width"];if(r&&i)return{height:r,width:i};const a=t["@_viewBox"];if(a){const[e,t,r,n]=a.split(" ");if(r&&n){const e=parseInt(r,10),t=parseInt(n,10);return s.assert.call(void 0,Number.isInteger(e)&&e>0),s.assert.call(void 0,Number.isInteger(t)&&t>0),{width:e,height:t}}}}catch{throw new Error("Snap icon must be a valid SVG.")}return null}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-W7KRIAIX.js"}],[2614,{"./chunk-2LBN5T56.js":2580,"./chunk-37VHIRUJ.js":2581,"./chunk-6LOYTBS3.js":2584,"./chunk-CMOSYNZR.js":2589,"./chunk-HEXZ4DFV.js":2592,"./chunk-K4B37F3L.js":2599,"./chunk-T3YY4JIJ.js":2612,"./chunk-ZT3KKTS2.js":2615,"@metamask/key-tree":1523,"@metamask/utils":2739,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-HEXZ4DFV.js"),s=e("./chunk-K4B37F3L.js"),i=e("./chunk-6LOYTBS3.js"),a=e("./chunk-CMOSYNZR.js"),o=e("./chunk-37VHIRUJ.js"),c=e("./chunk-ZT3KKTS2.js"),l=e("./chunk-T3YY4JIJ.js"),u=e("./chunk-2LBN5T56.js"),d=e("@metamask/key-tree"),h=e("@metamask/utils"),f=e("superstruct"),p=[c.SIP_6_MAGIC_VALUE,c.STATE_ENCRYPTION_MAGIC_VALUE],m=[60],g=m.map((e=>["m","44'",`${e}'`])),v=f.refine.call(void 0,f.array.call(void 0,f.string.call(void 0)),"BIP-32 path",(e=>0===e.length?"Path must be a non-empty BIP-32 derivation path array":"m"!==e[0]?'Path must start with "m".':e.length<3?"Paths must have a length of at least three.":e.slice(1).some((e=>!d.isValidBIP32PathSegment.call(void 0,e)))?"Path must be a valid BIP-32 derivation path array.":p.includes(e[1])?`The purpose "${e[1]}" is not allowed for entropy derivation.`:!g.some((t=>l.isEqual.call(void 0,e.slice(0,t.length),t)))||`The path "${e.join("/")}" is not allowed for entropy derivation.`)),y=e=>f.refine.call(void 0,e,"BIP-32 entropy",(e=>"ed25519"!==e.curve||!e.path.slice(1).some((e=>!e.endsWith("'")))||"Ed25519 does not support unhardened paths.")),b=f.enums.call(void 0,["ed25519","secp256k1","ed25519Bip32"]),w=y(f.type.call(void 0,{path:v,curve:b})),S=f.size.call(void 0,f.array.call(void 0,w),1,Infinity),_=f.refine.call(void 0,f.string.call(void 0),"SemVer range",(e=>!!h.isValidSemVerRange.call(void 0,e)||"Expected a valid SemVer range.")),E=f.refine.call(void 0,f.record.call(void 0,s.SnapIdStruct,f.object.call(void 0,{version:f.optional.call(void 0,_)})),"SnapIds",(e=>0!==Object.keys(e).length)),k=f.size.call(void 0,f.array.call(void 0,i.ChainIdStruct),1,Infinity),T=f.union.call(void 0,[f.object.call(void 0,{tlds:f.size.call(void 0,f.array.call(void 0,f.string.call(void 0)),1,Infinity)}),f.object.call(void 0,{schemes:f.size.call(void 0,f.array.call(void 0,f.string.call(void 0)),1,Infinity)}),f.object.call(void 0,{tlds:f.size.call(void 0,f.array.call(void 0,f.string.call(void 0)),1,Infinity),schemes:f.size.call(void 0,f.array.call(void 0,f.string.call(void 0)),1,Infinity)})]),I=h.inMilliseconds.call(void 0,5,h.Duration.Second),j=h.inMilliseconds.call(void 0,3,h.Duration.Minute),x=f.size.call(void 0,f.integer.call(void 0),I,j),P=f.object.call(void 0,{maxRequestTime:f.optional.call(void 0,x)}),A=f.object.call(void 0,{}),C=f.type.call(void 0,{"endowment:cronjob":f.optional.call(void 0,n.mergeStructs.call(void 0,P,f.object.call(void 0,{jobs:u.CronjobSpecificationArrayStruct}))),"endowment:ethereum-provider":f.optional.call(void 0,A),"endowment:keyring":f.optional.call(void 0,n.mergeStructs.call(void 0,P,o.KeyringOriginsStruct)),"endowment:lifecycle-hooks":f.optional.call(void 0,P),"endowment:name-lookup":f.optional.call(void 0,n.mergeStructs.call(void 0,P,f.object.call(void 0,{chains:f.optional.call(void 0,k),matchers:f.optional.call(void 0,T)}))),"endowment:network-access":f.optional.call(void 0,A),"endowment:page-home":f.optional.call(void 0,P),"endowment:rpc":f.optional.call(void 0,n.mergeStructs.call(void 0,P,o.RpcOriginsStruct)),"endowment:signature-insight":f.optional.call(void 0,n.mergeStructs.call(void 0,P,f.object.call(void 0,{allowSignatureOrigin:f.optional.call(void 0,f.boolean.call(void 0))}))),"endowment:transaction-insight":f.optional.call(void 0,n.mergeStructs.call(void 0,P,f.object.call(void 0,{allowTransactionOrigin:f.optional.call(void 0,f.boolean.call(void 0))}))),"endowment:webassembly":f.optional.call(void 0,A),snap_dialog:f.optional.call(void 0,A),snap_manageState:f.optional.call(void 0,A),snap_manageAccounts:f.optional.call(void 0,A),snap_notify:f.optional.call(void 0,A),snap_getBip32Entropy:f.optional.call(void 0,S),snap_getBip32PublicKey:f.optional.call(void 0,S),snap_getBip44Entropy:f.optional.call(void 0,f.size.call(void 0,f.array.call(void 0,f.object.call(void 0,{coinType:f.size.call(void 0,f.integer.call(void 0),0,2**32-1)})),1,Infinity)),snap_getEntropy:f.optional.call(void 0,A),snap_getLocale:f.optional.call(void 0,A),wallet_snap:f.optional.call(void 0,E)}),R=f.array.call(void 0,f.string.call(void 0)),O=f.record.call(void 0,f.intersection.call(void 0,[f.string.call(void 0),a.uri.call(void 0)]),f.object.call(void 0,{})),N=f.object.call(void 0,{version:h.VersionStruct,description:f.size.call(void 0,f.string.call(void 0),1,280),proposedName:f.size.call(void 0,f.string.call(void 0),1,214),repository:f.optional.call(void 0,f.object.call(void 0,{type:f.size.call(void 0,f.string.call(void 0),1,Infinity),url:f.size.call(void 0,f.string.call(void 0),1,Infinity)})),source:f.object.call(void 0,{shasum:h.ChecksumStruct,location:f.object.call(void 0,{npm:f.object.call(void 0,{filePath:f.size.call(void 0,f.string.call(void 0),1,Infinity),iconPath:f.optional.call(void 0,f.size.call(void 0,f.string.call(void 0),1,Infinity)),packageName:a.NameStruct,registry:f.union.call(void 0,[f.literal.call(void 0,"https://registry.npmjs.org"),f.literal.call(void 0,"https://registry.npmjs.org/")])})}),files:f.optional.call(void 0,R),locales:f.optional.call(void 0,R)}),initialConnections:f.optional.call(void 0,O),initialPermissions:C,manifestVersion:f.literal.call(void 0,"0.1"),$schema:f.optional.call(void 0,f.string.call(void 0))});r.FORBIDDEN_COIN_TYPES=m,r.Bip32PathStruct=v,r.bip32entropy=y,r.CurveStruct=b,r.Bip32EntropyStruct=w,r.SnapGetBip32EntropyPermissionsStruct=S,r.SemVerRangeStruct=_,r.SnapIdsStruct=E,r.ChainIdsStruct=k,r.LookupMatchersStruct=T,r.MINIMUM_REQUEST_TIMEOUT=I,r.MAXIMUM_REQUEST_TIMEOUT=j,r.MaxRequestTimeStruct=x,r.HandlerCaveatsStruct=P,r.EmptyObjectStruct=A,r.PermissionsStruct=C,r.SnapAuxilaryFilesStruct=R,r.InitialConnectionsStruct=O,r.SnapManifestStruct=N,r.isSnapManifest=function(e){return f.is.call(void 0,e,N)},r.assertIsSnapManifest=function(e){h.assertStruct.call(void 0,e,N,'"snap.manifest.json" is invalid')},r.createSnapManifest=function(e){return f.create.call(void 0,e,N)}}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-ZJKG5Q2C.js"}],[2615,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});r.SIP_6_MAGIC_VALUE="1399742832'",r.STATE_ENCRYPTION_MAGIC_VALUE="572232532'"}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/chunk-ZT3KKTS2.js"}],[2616,{"./chunk-2LBN5T56.js":2580,"./chunk-37VHIRUJ.js":2581,"./chunk-473MIETW.js":2582,"./chunk-4CMD46B2.js":2583,"./chunk-6LOYTBS3.js":2584,"./chunk-7LOABHVW.js":2585,"./chunk-7VJ2BOVU.js":2586,"./chunk-AOGVLPQZ.js":2587,"./chunk-ASZWZ7JT.js":2588,"./chunk-CMOSYNZR.js":2589,"./chunk-E3BDBG6T.js":2590,"./chunk-F72OSQD6.js":2591,"./chunk-HEXZ4DFV.js":2592,"./chunk-HJYRGKCX.js":2593,"./chunk-IHQPAJ2B.js":2594,"./chunk-IJX3CXOY.js":2595,"./chunk-IPOE62V4.js":2596,"./chunk-IXBJNVHK.js":2597,"./chunk-J5B5YRG5.js":2598,"./chunk-K4B37F3L.js":2599,"./chunk-K6BCBPXF.js":2600,"./chunk-KSRDEGBC.js":2601,"./chunk-LEKZPKS2.js":2602,"./chunk-MLOQHUOY.js":2603,"./chunk-N722KRZW.js":2604,"./chunk-NUCLSR2G.js":2605,"./chunk-OJM2SKJZ.js":2606,"./chunk-PHUTP7NB.js":2607,"./chunk-PLBSSUVY.js":2608,"./chunk-QGCNQRIQ.js":2609,"./chunk-R5DO7T2D.js":2610,"./chunk-T3VM5YXY.js":2611,"./chunk-T3YY4JIJ.js":2612,"./chunk-W7KRIAIX.js":2613,"./chunk-ZJKG5Q2C.js":2614,"./chunk-ZT3KKTS2.js":2615},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),e("./chunk-7LOABHVW.js");var n=e("./chunk-J5B5YRG5.js"),s=e("./chunk-F72OSQD6.js"),i=e("./chunk-IPOE62V4.js");e("./chunk-4CMD46B2.js");var a=e("./chunk-ZJKG5Q2C.js"),o=e("./chunk-HEXZ4DFV.js"),c=e("./chunk-IJX3CXOY.js"),l=e("./chunk-AOGVLPQZ.js"),u=e("./chunk-K4B37F3L.js");e("./chunk-W7KRIAIX.js"),e("./chunk-QGCNQRIQ.js");var d=e("./chunk-E3BDBG6T.js"),h=e("./chunk-6LOYTBS3.js"),f=e("./chunk-CMOSYNZR.js"),p=e("./chunk-OJM2SKJZ.js"),m=e("./chunk-PLBSSUVY.js"),g=e("./chunk-37VHIRUJ.js"),v=e("./chunk-R5DO7T2D.js"),y=e("./chunk-KSRDEGBC.js"),b=e("./chunk-ZT3KKTS2.js"),w=e("./chunk-K6BCBPXF.js"),S=e("./chunk-N722KRZW.js");e("./chunk-T3VM5YXY.js");var _=e("./chunk-7VJ2BOVU.js"),E=e("./chunk-LEKZPKS2.js"),k=e("./chunk-T3YY4JIJ.js"),T=e("./chunk-IXBJNVHK.js"),I=e("./chunk-IHQPAJ2B.js"),j=e("./chunk-ASZWZ7JT.js"),x=e("./chunk-MLOQHUOY.js"),P=e("./chunk-473MIETW.js"),A=e("./chunk-HJYRGKCX.js"),C=e("./chunk-2LBN5T56.js"),R=e("./chunk-NUCLSR2G.js");e("./chunk-PHUTP7NB.js"),r.ACCOUNT_ADDRESS_REGEX=h.ACCOUNT_ADDRESS_REGEX,r.ACCOUNT_ID_REGEX=h.ACCOUNT_ID_REGEX,r.AccountAddressStruct=h.AccountAddressStruct,r.AccountIdArrayStruct=h.AccountIdArrayStruct,r.AccountIdStruct=h.AccountIdStruct,r.AddressResolutionResponseStruct=p.AddressResolutionResponseStruct,r.AddressResolutionStruct=p.AddressResolutionStruct,r.BaseSnapIdStruct=u.BaseSnapIdStruct,r.Bip32EntropyStruct=a.Bip32EntropyStruct,r.Bip32PathStruct=a.Bip32PathStruct,r.CHAIN_ID_REGEX=h.CHAIN_ID_REGEX,r.ChainIdStringStruct=h.ChainIdStringStruct,r.ChainIdStruct=h.ChainIdStruct,r.ChainIdsStruct=a.ChainIdsStruct,r.ChainStruct=h.ChainStruct,r.CronExpressionStruct=C.CronExpressionStruct,r.CronjobRpcRequestStruct=C.CronjobRpcRequestStruct,r.CronjobSpecificationArrayStruct=C.CronjobSpecificationArrayStruct,r.CronjobSpecificationStruct=C.CronjobSpecificationStruct,r.CurveStruct=a.CurveStruct,r.DEFAULT_ENDOWMENTS=S.DEFAULT_ENDOWMENTS,r.DEFAULT_REQUESTED_SNAP_VERSION=i.DEFAULT_REQUESTED_SNAP_VERSION,r.DomainResolutionResponseStruct=p.DomainResolutionResponseStruct,r.DomainResolutionStruct=p.DomainResolutionStruct,r.EmptyObjectStruct=a.EmptyObjectStruct,r.FORBIDDEN_COIN_TYPES=a.FORBIDDEN_COIN_TYPES,r.HandlerCaveatsStruct=a.HandlerCaveatsStruct,r.HandlerType=E.HandlerType,r.HttpSnapIdStruct=u.HttpSnapIdStruct,r.InitialConnectionsStruct=a.InitialConnectionsStruct,r.KeyringOriginsStruct=g.KeyringOriginsStruct,r.LOCALHOST_HOSTNAMES=u.LOCALHOST_HOSTNAMES,r.LOCALIZABLE_FIELDS=v.LOCALIZABLE_FIELDS,r.LimitedString=h.LimitedString,r.LocalSnapIdStruct=u.LocalSnapIdStruct,r.LocalizationFileStruct=v.LocalizationFileStruct,r.LookupMatchersStruct=a.LookupMatchersStruct,r.MAXIMUM_REQUEST_TIMEOUT=a.MAXIMUM_REQUEST_TIMEOUT,r.MINIMUM_REQUEST_TIMEOUT=a.MINIMUM_REQUEST_TIMEOUT,r.MaxRequestTimeStruct=a.MaxRequestTimeStruct,r.NameStruct=f.NameStruct,r.NamespaceIdStruct=h.NamespaceIdStruct,r.NamespaceStruct=h.NamespaceStruct,r.NpmSnapFileNames=f.NpmSnapFileNames,r.NpmSnapIdStruct=u.NpmSnapIdStruct,r.NpmSnapPackageJsonStruct=f.NpmSnapPackageJsonStruct,r.OnHomePageResponseStruct=p.OnHomePageResponseStruct,r.OnHomePageResponseWithContentStruct=p.OnHomePageResponseWithContentStruct,r.OnHomePageResponseWithIdStruct=p.OnHomePageResponseWithIdStruct,r.OnNameLookupResponseStruct=p.OnNameLookupResponseStruct,r.OnSignatureResponseStruct=p.OnSignatureResponseStruct,r.OnTransactionResponseStruct=p.OnTransactionResponseStruct,r.OnTransactionResponseWithContentStruct=p.OnTransactionResponseWithContentStruct,r.OnTransactionResponseWithIdStruct=p.OnTransactionResponseWithIdStruct,r.OnTransactionSeverityResponseStruct=p.OnTransactionSeverityResponseStruct,r.PROPOSED_NAME_REGEX=u.PROPOSED_NAME_REGEX,r.PermissionsStruct=a.PermissionsStruct,r.ProgrammaticallyFixableSnapError=u.ProgrammaticallyFixableSnapError,r.RpcOriginsStruct=g.RpcOriginsStruct,r.SIP_6_MAGIC_VALUE=b.SIP_6_MAGIC_VALUE,r.SNAPS_DERIVATION_PATHS=y.SNAPS_DERIVATION_PATHS,r.SNAP_ERROR_WRAPPER_CODE=w.SNAP_ERROR_WRAPPER_CODE,r.SNAP_ERROR_WRAPPER_MESSAGE=w.SNAP_ERROR_WRAPPER_MESSAGE,r.SNAP_EXPORTS=p.SNAP_EXPORTS,r.SNAP_EXPORT_NAMES=E.SNAP_EXPORT_NAMES,r.SNAP_STREAM_NAMES=f.SNAP_STREAM_NAMES,r.STATE_ENCRYPTION_MAGIC_VALUE=b.STATE_ENCRYPTION_MAGIC_VALUE,r.SemVerRangeStruct=a.SemVerRangeStruct,r.SnapAuxilaryFilesStruct=a.SnapAuxilaryFilesStruct,r.SnapCaveatType=j.SnapCaveatType,r.SnapGetBip32EntropyPermissionsStruct=a.SnapGetBip32EntropyPermissionsStruct,r.SnapIdPrefixes=f.SnapIdPrefixes,r.SnapIdStruct=u.SnapIdStruct,r.SnapIdsStruct=a.SnapIdsStruct,r.SnapManifestStruct=a.SnapManifestStruct,r.SnapStatus=u.SnapStatus,r.SnapStatusEvents=u.SnapStatusEvents,r.SnapValidationFailureReason=f.SnapValidationFailureReason,r.SnapsStructError=o.SnapsStructError,r.TRANSLATION_REGEX=v.TRANSLATION_REGEX,r.VirtualFile=A.VirtualFile,r.WALLET_SNAP_PERMISSION_KEY=f.WALLET_SNAP_PERMISSION_KEY,r.WrappedSnapError=w.WrappedSnapError,r.arrayToGenerator=o.arrayToGenerator,r.assertIsJsonRpcSuccess=g.assertIsJsonRpcSuccess,r.assertIsKeyringOrigins=g.assertIsKeyringOrigins,r.assertIsNpmSnapPackageJson=f.assertIsNpmSnapPackageJson,r.assertIsRpcOrigins=g.assertIsRpcOrigins,r.assertIsSnapManifest=a.assertIsSnapManifest,r.assertIsValidSnapId=u.assertIsValidSnapId,r.bip32entropy=a.bip32entropy,r.checksum=x.checksum,r.checksumFiles=x.checksumFiles,r.createFromStruct=o.createFromStruct,r.createSnapManifest=a.createSnapManifest,r.createUnion=o.createUnion,r.createWindow=m.createWindow,r.decodeBase64=I.decodeBase64,r.deepClone=R.deepClone,r.encodeAuxiliaryFile=T.encodeAuxiliaryFile,r.encodeBase64=I.encodeBase64,r.getBytes=P.getBytes,r.getError=o.getError,r.getJsonSizeUnsafe=_.getJsonSizeUnsafe,r.getJsxChildren=n.getJsxChildren,r.getJsxElementFromComponent=n.getJsxElementFromComponent,r.getLocalizationFile=v.getLocalizationFile,r.getLocalizedSnapManifest=v.getLocalizedSnapManifest,r.getSlip44ProtocolName=y.getSlip44ProtocolName,r.getSnapChecksum=u.getSnapChecksum,r.getSnapDerivationPathName=y.getSnapDerivationPathName,r.getSnapPrefix=u.getSnapPrefix,r.getStructErrorMessage=o.getStructErrorMessage,r.getStructErrorPrefix=o.getStructErrorPrefix,r.getStructFailureMessage=o.getStructFailureMessage,r.getStructFromPath=o.getStructFromPath,r.getTargetVersion=i.getTargetVersion,r.getTextChildren=n.getTextChildren,r.getTotalTextLength=n.getTotalTextLength,r.getUnionStructNames=o.getUnionStructNames,r.getValidatedLocalizationFiles=v.getValidatedLocalizationFiles,r.hasChildren=n.hasChildren,r.indent=c.indent,r.isAccountId=h.isAccountId,r.isAccountIdArray=h.isAccountIdArray,r.isCaipChainId=u.isCaipChainId,r.isChainId=h.isChainId,r.isCronjobSpecification=C.isCronjobSpecification,r.isCronjobSpecificationArray=C.isCronjobSpecificationArray,r.isEqual=k.isEqual,r.isNamespace=h.isNamespace,r.isNamespaceId=h.isNamespaceId,r.isNpmSnapPackageJson=f.isNpmSnapPackageJson,r.isOriginAllowed=g.isOriginAllowed,r.isSerializedSnapError=w.isSerializedSnapError,r.isSnapError=w.isSnapError,r.isSnapManifest=a.isSnapManifest,r.isSnapPermitted=u.isSnapPermitted,r.isValidUrl=f.isValidUrl,r.isWrappedSnapError=w.isWrappedSnapError,r.logError=d.logError,r.logInfo=d.logInfo,r.logWarning=d.logWarning,r.mergeStructs=o.mergeStructs,r.named=o.named,r.normalizeRelative=l.normalizeRelative,r.parseAccountId=h.parseAccountId,r.parseChainId=h.parseChainId,r.parseCronExpression=C.parseCronExpression,r.parseJson=_.parseJson,r.resolveVersionRange=i.resolveVersionRange,r.snapsLogger=d.snapsLogger,r.stripSnapPrefix=u.stripSnapPrefix,r.translate=v.translate,r.unwrapError=w.unwrapError,r.uri=f.uri,r.validateFetchedSnap=s.validateFetchedSnap,r.validateJsxLinks=n.validateJsxLinks,r.validateSnapManifestLocalizations=v.validateSnapManifestLocalizations,r.validateSnapShasum=u.validateSnapShasum,r.validateTextLinks=n.validateTextLinks,r.validateUnion=o.validateUnion,r.verifyRequestedSnapPermissions=u.verifyRequestedSnapPermissions,r.walkJsx=n.walkJsx}}},{package:"@metamask/snaps-utils",file:"node_modules/@metamask/snaps-utils/dist/index.js"}],[2617,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.StructError=void 0;class n extends TypeError{constructor(e,t){let r;const{message:n,explanation:s,...i}=e,{path:a}=e,o=0===a.length?n:`At path: ${a.join(".")} -- ${n}`;super(s??o),null!==s&&s!==undefined&&(this.cause=o),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}r.StructError=n}}},{package:"@metamask/abi-utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/error.cjs"}],[2618,{"./error.cjs":2617,"./struct.cjs":2619,"./structs/coercions.cjs":2620,"./structs/refinements.cjs":2621,"./structs/types.cjs":2622,"./structs/utilities.cjs":2623},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),s(e("./error.cjs"),r),s(e("./struct.cjs"),r),s(e("./structs/coercions.cjs"),r),s(e("./structs/refinements.cjs"),r),s(e("./structs/types.cjs"),r),s(e("./structs/utilities.cjs"),r)}}},{package:"@metamask/abi-utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/index.cjs"}],[2619,{"./error.cjs":2617,"./utils.cjs":2624},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validate=r.is=r.mask=r.create=r.assert=r.Struct=void 0;const n=e("./error.cjs"),s=e("./utils.cjs");function i(e,t,r){const n=l(e,t,{message:r});if(n[0])throw n[0]}function a(e,t,r){const n=l(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function o(e,t,r){const n=l(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function c(e,t){return!l(e,t)[0]}function l(e,t,r={}){const i=(0,s.run)(e,t,r),a=(0,s.shiftIterator)(i);if(a[0]){return[new n.StructError(a[0],(function*(){for(const e of i)e[0]&&(yield e[0])})),undefined]}const o=a[1];return[undefined,o]}r.Struct=class{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:a=(e=>e),entries:o=function*(){}}=e;this.type=t,this.schema=r,this.entries=o,this.coercer=a,this.validator=n?(e,t)=>{const r=n(e,t);return(0,s.toFailures)(r,t,this,e)}:()=>[],this.refiner=i?(e,t)=>{const r=i(e,t);return(0,s.toFailures)(r,t,this,e)}:()=>[]}assert(e,t){return i(e,this,t)}create(e,t){return a(e,this,t)}is(e){return c(e,this)}mask(e,t){return o(e,this,t)}validate(e,t={}){return l(e,this,t)}},r.assert=i,r.create=a,r.mask=o,r.is=c,r.validate=l}}},{package:"@metamask/abi-utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/struct.cjs"}],[2620,{"../struct.cjs":2619,"../utils.cjs":2624,"./types.cjs":2622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.trimmed=r.defaulted=r.coerce=void 0;const n=e("../struct.cjs"),s=e("../utils.cjs"),i=e("./types.cjs");function a(e,t,r){return new n.Struct({...e,coercer:(s,i)=>(0,n.is)(s,t)?e.coercer(r(s,i),i):e.coercer(s,i)})}r.coerce=a,r.defaulted=function(e,t,r={}){return a(e,(0,i.unknown)(),(e=>{const n="function"==typeof t?t():t;if(e===undefined)return n;if(!r.strict&&(0,s.isPlainObject)(e)&&(0,s.isPlainObject)(n)){const t={...e};let r=!1;for(const e in n)t[e]===undefined&&(t[e]=n[e],r=!0);if(r)return t}return e}))},r.trimmed=function(e){return a(e,(0,i.string)(),(e=>e.trim()))}}}},{package:"@metamask/abi-utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/coercions.cjs"}],[2621,{"../struct.cjs":2619,"../utils.cjs":2624},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.refine=r.size=r.pattern=r.nonempty=r.min=r.max=r.empty=void 0;const n=e("../struct.cjs"),s=e("../utils.cjs");function i(e){return e instanceof Map||e instanceof Set?e.size:e.length}function a(e,t,r){return new n.Struct({...e,*refiner(n,i){yield*e.refiner(n,i);const a=r(n,i),o=(0,s.toFailures)(a,i,e,n);for(const e of o)yield{...e,refinement:t}}})}r.empty=function(e){return a(e,"empty",(t=>{const r=i(t);return 0===r||`Expected an empty ${e.type} but received one with a size of \`${r}\``}))},r.max=function(e,t,r={}){const{exclusive:n}=r;return a(e,"max",(r=>n?r<t:r<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${r}\``))},r.min=function(e,t,r={}){const{exclusive:n}=r;return a(e,"min",(r=>n?r>t:r>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${r}\``))},r.nonempty=function(e){return a(e,"nonempty",(t=>i(t)>0||`Expected a nonempty ${e.type} but received an empty one`))},r.pattern=function(e,t){return a(e,"pattern",(r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`))},r.size=function(e,t,r=t){const n=`Expected a ${e.type}`,s=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return a(e,"size",(e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=r||`${n} ${s} but received \`${e}\``;if(e instanceof Map||e instanceof Set){const{size:i}=e;return t<=i&&i<=r||`${n} with a size ${s} but received one with a size of \`${i}\``}const{length:i}=e;return t<=i&&i<=r||`${n} with a length ${s} but received one with a length of \`${i}\``}))},r.refine=a}}},{package:"@metamask/abi-utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/refinements.cjs"}],[2622,{"../struct.cjs":2619,"../utils.cjs":2624,"./utilities.cjs":2623},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unknown=r.union=r.type=r.tuple=r.string=r.set=r.regexp=r.record=r.optional=r.object=r.number=r.nullable=r.never=r.map=r.literal=r.intersection=r.integer=r.instance=r.func=r.enums=r.date=r.boolean=r.bigint=r.array=r.any=void 0;const n=e("../struct.cjs"),s=e("../utils.cjs"),i=e("./utilities.cjs");function a(){return(0,i.define)("never",(()=>!1))}r.any=function(){return(0,i.define)("any",(()=>!0))},r.array=function(e){return new n.Struct({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${(0,s.print)(e)}`})},r.bigint=function(){return(0,i.define)("bigint",(e=>"bigint"==typeof e))},r.boolean=function(){return(0,i.define)("boolean",(e=>"boolean"==typeof e))},r.date=function(){return(0,i.define)("date",(e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${(0,s.print)(e)}`))},r.enums=function(e){const t={},r=e.map((e=>(0,s.print)(e))).join();for(const r of e)t[r]=r;return new n.Struct({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${r}\`, but received: ${(0,s.print)(t)}`})},r.func=function(){return(0,i.define)("func",(e=>"function"==typeof e||`Expected a function, but received: ${(0,s.print)(e)}`))},r.instance=function(e){return(0,i.define)("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${(0,s.print)(t)}`))},r.integer=function(){return(0,i.define)("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${(0,s.print)(e)}`))},r.intersection=function(e){return new n.Struct({type:"intersection",schema:null,*entries(t,r){for(const{entries:n}of e)yield*n(t,r)},*validator(t,r){for(const{validator:n}of e)yield*n(t,r)},*refiner(t,r){for(const{refiner:n}of e)yield*n(t,r)}})},r.literal=function(e){const t=(0,s.print)(e),r=typeof e;return new n.Struct({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${(0,s.print)(r)}`})},r.map=function(e,t){return new n.Struct({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,s]of r.entries())yield[n,n,e],yield[n,s,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${(0,s.print)(e)}`})},r.never=a,r.nullable=function(e){return new n.Struct({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})},r.number=function(){return(0,i.define)("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${(0,s.print)(e)}`))},r.object=function(e){const t=e?Object.keys(e):[],r=a();return new n.Struct({type:"object",schema:e??null,*entries(n){if(e&&(0,s.isObject)(n)){const s=new Set(Object.keys(n));for(const r of t)s.delete(r),yield[r,n[r],e[r]];for(const e of s)yield[e,n[e],r]}},validator:e=>(0,s.isObject)(e)||`Expected an object, but received: ${(0,s.print)(e)}`,coercer:e=>(0,s.isObject)(e)?{...e}:e})},r.optional=function(e){return new n.Struct({...e,validator:(t,r)=>t===undefined||e.validator(t,r),refiner:(t,r)=>t===undefined||e.refiner(t,r)})},r.record=function(e,t){return new n.Struct({type:"record",schema:null,*entries(r){if((0,s.isObject)(r))for(const n in r){const s=r[n];yield[n,n,e],yield[n,s,t]}},validator:e=>(0,s.isObject)(e)||`Expected an object, but received: ${(0,s.print)(e)}`})},r.regexp=function(){return(0,i.define)("regexp",(e=>e instanceof RegExp))},r.set=function(e){return new n.Struct({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${(0,s.print)(e)}`})},r.string=function(){return(0,i.define)("string",(e=>"string"==typeof e||`Expected a string, but received: ${(0,s.print)(e)}`))},r.tuple=function(e){const t=a();return new n.Struct({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let s=0;s<n;s++)yield[s,r[s],e[s]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${(0,s.print)(e)}`})},r.type=function(e){const t=Object.keys(e);return new n.Struct({type:"type",schema:e,*entries(r){if((0,s.isObject)(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>(0,s.isObject)(e)||`Expected an object, but received: ${(0,s.print)(e)}`,coercer:e=>(0,s.isObject)(e)?{...e}:e})},r.union=function(e){const t=e.map((e=>e.type)).join(" | ");return new n.Struct({type:"union",schema:null,coercer(t){for(const r of e){const[e,n]=r.validate(t,{coerce:!0});if(!e)return n}return t},validator(r,n){const i=[];for(const t of e){const[...e]=(0,s.run)(r,t,n),[a]=e;if(!a?.[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${(0,s.print)(r)}`,...i]}})},r.unknown=function(){return(0,i.define)("unknown",(()=>!0))}}}},{package:"@metamask/abi-utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/types.cjs"}],[2623,{"../struct.cjs":2619,"./types.cjs":2622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.pick=r.partial=r.omit=r.lazy=r.dynamic=r.deprecated=r.define=r.assign=void 0;const n=e("../struct.cjs"),s=e("./types.cjs");r.assign=function(...e){const t="type"===e[0]?.type,r=e.map((({schema:e})=>e)),n=Object.assign({},...r);return t?(0,s.type)(n):(0,s.object)(n)},r.define=function(e,t){return new n.Struct({type:e,schema:null,validator:t})},r.deprecated=function(e,t){return new n.Struct({...e,refiner:(t,r)=>t===undefined||e.refiner(t,r),validator:(r,n)=>r===undefined||(t(r,n),e.validator(r,n))})},r.dynamic=function(e){return new n.Struct({type:"dynamic",schema:null,*entries(t,r){const n=e(t,r);yield*n.entries(t,r)},validator:(t,r)=>e(t,r).validator(t,r),coercer:(t,r)=>e(t,r).coercer(t,r),refiner:(t,r)=>e(t,r).refiner(t,r)})},r.lazy=function(e){let t;return new n.Struct({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator:(r,n)=>(t??(t=e()),t.validator(r,n)),coercer:(r,n)=>(t??(t=e()),t.coercer(r,n)),refiner:(r,n)=>(t??(t=e()),t.refiner(r,n))})},r.omit=function(e,t){const{schema:r}=e,n={...r};for(const e of t)delete n[e];return"type"===e.type?(0,s.type)(n):(0,s.object)(n)},r.partial=function(e){const t=e instanceof n.Struct,r=t?{...e.schema}:{...e};for(const e in r)r[e]=(0,s.optional)(r[e]);return t&&"type"===e.type?(0,s.type)(r):(0,s.object)(r)},r.pick=function(e,t){const{schema:r}=e,n={};for(const e of t)n[e]=r[e];return"type"===e.type?(0,s.type)(n):(0,s.object)(n)}}}},{package:"@metamask/abi-utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/utilities.cjs"}],[2624,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return"object"==typeof e&&null!==e}function s(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function i(e,t,r,n){if(!0===e)return undefined;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:a}=t,{type:o}=r,{refinement:c,message:l=`Expected a value of type \`${o}\`${c?` with refinement \`${c}\``:""}, but received: \`${s(n)}\``}=e;return{value:n,type:o,refinement:c,key:i[i.length-1],path:i,branch:a,...e,message:l}}Object.defineProperty(r,"__esModule",{value:!0}),r.run=r.toFailures=r.toFailure=r.shiftIterator=r.print=r.isPlainObject=r.isObject=void 0,r.isObject=n,r.isPlainObject=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},r.print=s,r.shiftIterator=function(e){const{done:t,value:r}=e.next();return t?undefined:r},r.toFailure=i,r.toFailures=function*(e,t,r,s){(function(e){return n(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const n of e){const e=i(n,t,r,s);e&&(yield e)}},r.run=function*e(t,r,s={}){const{path:i=[],branch:a=[t],coerce:o=!1,mask:c=!1}=s,l={path:i,branch:a};if(o&&(t=r.coercer(t,l),c&&"type"!==r.type&&n(r.schema)&&n(t)&&!Array.isArray(t)))for(const e in t)r.schema[e]===undefined&&delete t[e];let u="valid";for(const e of r.validator(t,l))e.explanation=s.message,u="not_valid",yield[e,undefined];for(let[d,h,f]of r.entries(t,l)){const r=e(h,f,{path:d===undefined?i:[...i,d],branch:d===undefined?a:[...a,h],coerce:o,mask:c,message:s.message});for(const e of r)e[0]?(u=null===e[0].refinement||e[0].refinement===undefined?"not_valid":"not_refined",yield[e[0],undefined]):o&&(h=e[1],d===undefined?t=h:t instanceof Map?t.set(d,h):t instanceof Set?t.add(h):n(t)&&(h!==undefined||d in t)&&(t[d]=h))}if("not_valid"!==u)for(const e of r.refiner(t,l))e.explanation=s.message,u="not_refined",yield[e,undefined];"valid"===u&&(yield[undefined,t])}}}},{package:"@metamask/abi-utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/utils.cjs"}],[2625,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createEventEmitterProxy=void 0;const n=()=>!0,s=["newListener","removeListener"],i=e=>!s.includes(e);r.createEventEmitterProxy=function(e,{eventFilter:t=n}={}){const r="skipInternal"===t?i:t;if("function"!=typeof r)throw new Error("createEventEmitterProxy - Invalid eventFilter");let s=[],a=e,o=e=>{const t=a;a=e,s.forEach((({name:r,handler:n,addedWith:s,filtered:i})=>{i||e[s](r,n),t.off(r,n)}))};const c=(e,t)=>{s=s.filter((r=>e!==r.name||t!==r.handler&&t!==r.unwrappedHandler))};return new Proxy(a,{get(e,t,n){if("setTarget"===t)return o;const i=a[t];return"function"==typeof i?function(...e){const o=e[1];if("once"===t){const t=(...r)=>(c(e[0],t),o(...r));e[1]=t}if("on"===t||"addListener"===t||"prependListener"===t||"once"===t)s.push({addedWith:t,name:e[0],unwrappedHandler:o,handler:e[1],filtered:!r(e[0])});else if("off"===t||"removeListener"===t){const t=s.find((({name:t,unwrappedHandler:r})=>t===e[0]&&r===e[1]));if(t===undefined)return a;c(e[0],e[1]),e[1]=t.handler}return i.apply(this===n?a:this,e)}:i},set:(e,t,r)=>"setTarget"===t?(o=r,!0):(a[t]=r,!0)})}}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/createEventEmitterProxy.js"}],[2626,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSwappableProxy=void 0,r.createSwappableProxy=function(e){let t=e,r=e=>{t=e};return new Proxy(t,{get(e,n,s){if("setTarget"===n)return r;const i=t[n];return i instanceof Function?function(...e){return i.apply(this===s?t:this,e)}:i},set:(e,n,s)=>"setTarget"===n?(r=s,!0):(t[n]=s,!0)})}}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/createSwappableProxy.js"}],[2627,{"./createEventEmitterProxy":2625,"./createSwappableProxy":2626,"./types":2628},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),s(e("./createEventEmitterProxy"),r),s(e("./createSwappableProxy"),r),s(e("./types"),r)}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/index.js"}],[2628,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/types.js"}],[2629,{"./chunk-S6VGOPUY.js":2647,"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-S6VGOPUY.js"),s=e("@metamask/utils").createModuleLogger.call(void 0,n.projectLogger,"layer-1-gas-fee-flow");async function i({layer1GasFeeFlows:e,provider:t,transactionMeta:r}){const n=function(e,t){return t.find((t=>t.matchesTransaction(e)))}(r,e);if(n){s("Found layer 1 gas fee flow",n.constructor.name,r.id);try{const{layer1Fee:e}=await n.getLayer1Fee({provider:t,transactionMeta:r});return e}catch(e){return void s("Failed to get layer 1 gas fee",r.id,e)}}}r.updateTransactionLayer1GasFee=async function(e){const t=await i(e);if(!t)return;const{transactionMeta:r}=e;r.layer1GasFee=t,s("Updated layer 1 gas fee",t,r.id)},r.getTransactionLayer1GasFee=i}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-2XKEAKQG.js"}],[2630,{"./chunk-DLOQPH4M.js":2634,"./chunk-S6VGOPUY.js":2647,"./chunk-UT4M4XI3.js":2653,"@metamask/controller-utils":2672,"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-UT4M4XI3.js"),s=e("./chunk-DLOQPH4M.js"),i=e("./chunk-S6VGOPUY.js"),a=e("@metamask/controller-utils"),o=e("@metamask/utils"),c=o.createModuleLogger.call(void 0,i.projectLogger,"gas-fees");function l(e){return a.toHex.call(void 0,a.gweiDecToWEIBN.call(void 0,e))}r.updateGasFees=async function(e){const{txMeta:t}=e,r={...t.txParams},i=n.SWAP_TRANSACTION_TYPES.includes(t.type)?void 0:e.getSavedGasFees(t.chainId),u=await async function(e){const{eip1559:t,ethQuery:r,gasFeeFlows:n,getGasFeeEstimates:i,txMeta:l}=e,{networkClientId:u}=l;if(!t&&l.txParams.gasPrice||t&&l.txParams.maxFeePerGas&&l.txParams.maxPriorityFeePerGas)return{};const d=s.getGasFeeFlow.call(void 0,l,n);try{const e=await i({networkClientId:u}),t=await d.getGasFees({ethQuery:r,gasFeeControllerData:e,transactionMeta:l}),n=t.estimates?.type;switch(n){case"fee-market":return t.estimates.medium;case"legacy":return{gasPrice:t.estimates.medium};case"eth_gasPrice":return{gasPrice:t.estimates.gasPrice};default:throw new Error(`Unsupported gas fee estimate type returned from flow: ${n}`)}}catch(e){c("Failed to get suggested gas fees",e)}const h=await a.query.call(void 0,r,"gasPrice");return{gasPrice:h?o.add0x.call(void 0,h.toString(16)):void 0}}(e);c("Suggested gas fees",u);const d={...e,initialParams:r,savedGasFees:i,suggestedGasFees:u};t.txParams.maxFeePerGas=function(e){const{savedGasFees:t,eip1559:r,initialParams:n,suggestedGasFees:s}=e;if(!r)return;if(t){const e=l(t.maxBaseFee);return c("Using maxFeePerGas from savedGasFees",e),e}if(n.maxFeePerGas)return c("Using maxFeePerGas from request",n.maxFeePerGas),n.maxFeePerGas;if(n.gasPrice&&!n.maxPriorityFeePerGas)return c("Setting maxFeePerGas to gasPrice from request",n.gasPrice),n.gasPrice;if(s.maxFeePerGas)return c("Using suggested maxFeePerGas",s.maxFeePerGas),s.maxFeePerGas;if(s.gasPrice)return c("Setting maxFeePerGas to suggested gasPrice",s.gasPrice),s.gasPrice;return void c("maxFeePerGas not set")}(d),t.txParams.maxPriorityFeePerGas=function(e){const{eip1559:t,initialParams:r,savedGasFees:n,suggestedGasFees:s,txMeta:i}=e;if(!t)return;if(n){const e=l(n.priorityFee);return c("Using maxPriorityFeePerGas from savedGasFees.priorityFee",e),e}if(r.maxPriorityFeePerGas)return c("Using maxPriorityFeePerGas from request",r.maxPriorityFeePerGas),r.maxPriorityFeePerGas;if(r.gasPrice&&!r.maxFeePerGas)return c("Setting maxPriorityFeePerGas to gasPrice from request",r.gasPrice),r.gasPrice;if(s.maxPriorityFeePerGas)return c("Using suggested maxPriorityFeePerGas",s.maxPriorityFeePerGas),s.maxPriorityFeePerGas;if(i.txParams.maxFeePerGas)return c("Setting maxPriorityFeePerGas to maxFeePerGas",i.txParams.maxFeePerGas),i.txParams.maxFeePerGas;return void c("maxPriorityFeePerGas not set")}(d),t.txParams.gasPrice=function(e){const{eip1559:t,initialParams:r,suggestedGasFees:n}=e;if(t)return;if(r.gasPrice)return c("Using gasPrice from request",r.gasPrice),r.gasPrice;if(n.maxFeePerGas)return c("Using suggested maxFeePerGas",n.maxFeePerGas),n.maxFeePerGas;if(n.gasPrice)return c("Using suggested gasPrice",n.gasPrice),n.gasPrice;return void c("gasPrice not set")}(d),t.userFeeLevel=function(e){const{eip1559:t,initialParams:r,savedGasFees:n,suggestedGasFees:s,txMeta:i}=e;if(!t)return;if(n)return"custom";if(!r.maxFeePerGas&&!r.maxPriorityFeePerGas&&r.gasPrice)return i.origin===a.ORIGIN_METAMASK?"custom":"dappSuggested";if(!r.maxFeePerGas&&!r.maxPriorityFeePerGas&&s.maxFeePerGas&&s.maxPriorityFeePerGas)return"medium";if(i.origin===a.ORIGIN_METAMASK)return"medium";return"dappSuggested"}(d),c("Updated gas fee properties",{maxFeePerGas:t.txParams.maxFeePerGas,maxPriorityFeePerGas:t.txParams.maxPriorityFeePerGas,gasPrice:t.txParams.gasPrice}),(t.txParams.maxFeePerGas||t.txParams.maxPriorityFeePerGas)&&delete t.txParams.gasPrice,t.txParams.gasPrice&&(delete t.txParams.maxFeePerGas,delete t.txParams.maxPriorityFeePerGas),function(e){e.defaultGasEstimates||(e.defaultGasEstimates={});e.defaultGasEstimates.maxFeePerGas=e.txParams.maxFeePerGas,e.defaultGasEstimates.maxPriorityFeePerGas=e.txParams.maxPriorityFeePerGas,e.defaultGasEstimates.gasPrice=e.txParams.gasPrice,e.defaultGasEstimates.estimateType=e.userFeeLevel}(t)},r.gweiDecimalToWeiHex=l}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-3ZRHCVVS.js"}],[2631,{"./chunk-S6VGOPUY.js":2647,"./chunk-Z4BLTVTB.js":2659,"@metamask/controller-utils":2672,events:3814,lodash:4322},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s,i,a,o,c,l,u,d,h,f,p,m,g,v,y,b,w,S,_,E,k,T,I,j,x,P,A,C,R,O,N,B,M,L,F,D,H,G,U,V,$,W,J,q,z,K,Y,X,Z,Q,ee,te,re,ne=e("./chunk-S6VGOPUY.js"),se=e("./chunk-Z4BLTVTB.js"),ie=e("@metamask/controller-utils"),ae=e("events"),oe=(n=ae)&&n.__esModule?n:{default:n},ce=e("lodash"),le=["replacement transaction underpriced","known transaction","gas price too low to replace","transaction with the same hash was already imported","gateway timeout","nonce too low"],ue=ne.createModuleLogger.call(void 0,ne.projectLogger,"pending-transactions");s=new WeakMap,i=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakSet,y=function(){se.__privateGet.call(void 0,this,p)||(se.__privateGet.call(void 0,this,i).on("latest",se.__privateGet.call(void 0,this,d)),se.__privateSet.call(void 0,this,p,!0),ue("Started polling"))},b=new WeakSet,w=async function(e){const t=await se.__privateGet.call(void 0,this,h).call(this);try{await se.__privateMethod.call(void 0,this,S,_).call(this)}catch(e){ue("Failed to check transactions",e)}finally{t()}try{await se.__privateMethod.call(void 0,this,E,k).call(this,e)}catch(e){ue("Failed to resubmit transactions",e)}},S=new WeakSet,_=async function(){ue("Checking transactions");const e=se.__privateMethod.call(void 0,this,D,H).call(this);e.length?(ue("Found pending transactions to check",{count:e.length,ids:e.map((e=>e.id))}),await Promise.all(e.map((e=>se.__privateMethod.call(void 0,this,C,R).call(this,e))))):ue("No pending transactions to check")},E=new WeakSet,k=async function(e){if(!se.__privateGet.call(void 0,this,u).call(this)||!se.__privateGet.call(void 0,this,p))return;ue("Resubmitting transactions");const t=se.__privateMethod.call(void 0,this,D,H).call(this);if(t.length){ue("Found pending transactions to resubmit",{count:t.length,ids:t.map((e=>e.id))});for(const r of t)try{await se.__privateMethod.call(void 0,this,j,x).call(this,r,e)}catch(e){const t=e.value?.message?.toLowerCase()||e.message.toLowerCase();if(se.__privateMethod.call(void 0,this,T,I).call(this,t))return void ue("Ignoring known transaction error",t);se.__privateMethod.call(void 0,this,G,U).call(this,r,e.message,"There was an error when resubmitting this transaction.")}}else ue("No pending transactions to resubmit")},T=new WeakSet,I=function(e){return le.some((t=>e.includes(t)))},j=new WeakSet,x=async function(e,t){if(!se.__privateMethod.call(void 0,this,P,A).call(this,e,t))return;const{rawTx:r}=e;if(!se.__privateGet.call(void 0,this,g).call(this,e))return;if(!r?.length)return ue("Approving transaction as no raw value"),void await se.__privateGet.call(void 0,this,s).call(this,e.id);const n=se.__privateGet.call(void 0,this,c).call(this,e.networkClientId);await se.__privateGet.call(void 0,this,f).call(this,n,r);const i=(e.retryCount??0)+1;se.__privateMethod.call(void 0,this,q,z).call(this,ce.merge.call(void 0,{},e,{retryCount:i}),"PendingTransactionTracker:transaction-retry - Retry count increased")},P=new WeakSet,A=function(e,t){const r=ce.cloneDeep.call(void 0,e);r.firstRetryBlockNumber||(r.firstRetryBlockNumber=t,se.__privateMethod.call(void 0,this,q,z).call(this,r,"PendingTransactionTracker:#isResubmitDue - First retry block number set"));const{firstRetryBlockNumber:n}=r,s=Number.parseInt(t,16)-Number.parseInt(n,16),i=e.retryCount||0;return s>=Math.min(50,Math.pow(2,i))},C=new WeakSet,R=async function(e){const{hash:t,id:r}=e;if(!t&&se.__privateGet.call(void 0,this,m).call(this,e)){const t=new Error("We had an error while submitting this transaction, please try again.");return t.name="NoTxHashError",void se.__privateMethod.call(void 0,this,V,$).call(this,e,t)}if(se.__privateMethod.call(void 0,this,L,F).call(this,e))return ue("Nonce already taken",r),void se.__privateMethod.call(void 0,this,W,J).call(this,e);try{const r=await se.__privateMethod.call(void 0,this,K,Y).call(this,t),n="0x1"===r?.status;if("0x0"===r?.status)return ue("Transaction receipt has failed status"),void se.__privateMethod.call(void 0,this,V,$).call(this,e,new Error("Transaction dropped or replaced"));const{blockNumber:s,blockHash:i}=r||{};if(n&&s&&i)return void await se.__privateMethod.call(void 0,this,O,N).call(this,e,{...r,blockNumber:s,blockHash:i})}catch(t){return ue("Failed to check transaction",r,t),void se.__privateMethod.call(void 0,this,G,U).call(this,e,t.message,"There was a problem loading this transaction.")}await se.__privateMethod.call(void 0,this,B,M).call(this,e)&&se.__privateMethod.call(void 0,this,W,J).call(this,e)},O=new WeakSet,N=async function(e,t){const{id:r}=e,{blockHash:n}=t;ue("Transaction confirmed",r);const{baseFeePerGas:s,timestamp:i}=await se.__privateMethod.call(void 0,this,X,Z).call(this,n,!1),a=ce.cloneDeep.call(void 0,e);a.baseFeePerGas=s,a.blockTimestamp=i,a.status="confirmed",a.txParams={...a.txParams,gasUsed:t.gasUsed},a.txReceipt=t,a.verifiedOnBlockchain=!0,se.__privateMethod.call(void 0,this,q,z).call(this,a,"PendingTransactionTracker:#onTransactionConfirmed - Transaction confirmed"),this.hub.emit("transaction-confirmed",a)},B=new WeakSet,M=async function(e){const{hash:t,id:r,txParams:{nonce:n,from:s}}=e;if(!n||!t)return!1;const i=await se.__privateMethod.call(void 0,this,Q,ee).call(this,s),o=parseInt(i,16);if(parseInt(n,16)>=o)return!1;let c=se.__privateGet.call(void 0,this,a).get(t);return void 0===c&&(c=0,se.__privateGet.call(void 0,this,a).set(t,c)),c<3?(ue("Incrementing dropped block count",{id:r,droppedBlockCount:c}),se.__privateGet.call(void 0,this,a).set(t,c+1),!1):(ue("Hit dropped block count",r),se.__privateGet.call(void 0,this,a).delete(t),!0)},L=new WeakSet,F=function(e){const{id:t,txParams:r}=e;return se.__privateMethod.call(void 0,this,te,re).call(this).some((e=>e.id!==t&&e.txParams.from===r.from&&"confirmed"===e.status&&e.txParams.nonce===r.nonce&&"incoming"!==e.type))},D=new WeakSet,H=function(){return se.__privateMethod.call(void 0,this,te,re).call(this).filter((e=>"submitted"===e.status&&!e.verifiedOnBlockchain&&!e.isUserOperation))},G=new WeakSet,U=function(e,t,r){se.__privateMethod.call(void 0,this,q,z).call(this,{...e,warning:{error:t,message:r}},"PendingTransactionTracker:#warnTransaction - Warning added")},V=new WeakSet,$=function(e,t){ue("Transaction failed",e.id,t),this.hub.emit("transaction-failed",e,t)},W=new WeakSet,J=function(e){ue("Transaction dropped",e.id),this.hub.emit("transaction-dropped",e)},q=new WeakSet,z=function(e,t){this.hub.emit("transaction-updated",e,t)},K=new WeakSet,Y=async function(e){return await ie.query.call(void 0,se.__privateGet.call(void 0,this,c).call(this),"getTransactionReceipt",[e])},X=new WeakSet,Z=async function(e,t){return await ie.query.call(void 0,se.__privateGet.call(void 0,this,c).call(this),"getBlockByHash",[e,t])},Q=new WeakSet,ee=async function(e){return await ie.query.call(void 0,se.__privateGet.call(void 0,this,c).call(this),"getTransactionCount",[e])},te=new WeakSet,re=function(){const e=se.__privateGet.call(void 0,this,o).call(this);return se.__privateGet.call(void 0,this,l).call(this).filter((t=>t.chainId===e))},r.PendingTransactionTracker=class{constructor({approveTransaction:e,blockTracker:t,getChainId:r,getEthQuery:n,getTransactions:_,isResubmitEnabled:k,getGlobalLock:I,publishTransaction:x,hooks:A}){se.__privateAdd.call(void 0,this,v),se.__privateAdd.call(void 0,this,b),se.__privateAdd.call(void 0,this,S),se.__privateAdd.call(void 0,this,E),se.__privateAdd.call(void 0,this,T),se.__privateAdd.call(void 0,this,j),se.__privateAdd.call(void 0,this,P),se.__privateAdd.call(void 0,this,C),se.__privateAdd.call(void 0,this,O),se.__privateAdd.call(void 0,this,B),se.__privateAdd.call(void 0,this,L),se.__privateAdd.call(void 0,this,D),se.__privateAdd.call(void 0,this,G),se.__privateAdd.call(void 0,this,V),se.__privateAdd.call(void 0,this,W),se.__privateAdd.call(void 0,this,q),se.__privateAdd.call(void 0,this,K),se.__privateAdd.call(void 0,this,X),se.__privateAdd.call(void 0,this,Q),se.__privateAdd.call(void 0,this,te),se.__privateAdd.call(void 0,this,s,void 0),se.__privateAdd.call(void 0,this,i,void 0),se.__privateAdd.call(void 0,this,a,void 0),se.__privateAdd.call(void 0,this,o,void 0),se.__privateAdd.call(void 0,this,c,void 0),se.__privateAdd.call(void 0,this,l,void 0),se.__privateAdd.call(void 0,this,u,void 0),se.__privateAdd.call(void 0,this,d,void 0),se.__privateAdd.call(void 0,this,h,void 0),se.__privateAdd.call(void 0,this,f,void 0),se.__privateAdd.call(void 0,this,p,void 0),se.__privateAdd.call(void 0,this,m,void 0),se.__privateAdd.call(void 0,this,g,void 0),this.startIfPendingTransactions=()=>{se.__privateMethod.call(void 0,this,D,H).call(this).length?se.__privateMethod.call(void 0,this,v,y).call(this):this.stop()},this.hub=new(0,oe.default),se.__privateSet.call(void 0,this,s,e),se.__privateSet.call(void 0,this,i,t),se.__privateSet.call(void 0,this,a,new Map),se.__privateSet.call(void 0,this,o,r),se.__privateSet.call(void 0,this,c,n),se.__privateSet.call(void 0,this,l,_),se.__privateSet.call(void 0,this,u,k??(()=>!0)),se.__privateSet.call(void 0,this,d,se.__privateMethod.call(void 0,this,b,w).bind(this)),se.__privateSet.call(void 0,this,h,I),se.__privateSet.call(void 0,this,f,x),se.__privateSet.call(void 0,this,p,!1),se.__privateSet.call(void 0,this,g,A?.beforePublish??(()=>!0)),se.__privateSet.call(void 0,this,m,A?.beforeCheckPendingTransaction??(()=>!0))}async forceCheckTransaction(e){const t=await se.__privateGet.call(void 0,this,h).call(this);try{await se.__privateMethod.call(void 0,this,C,R).call(this,e)}catch(e){ue("Failed to check transaction",e)}finally{t()}}stop(){se.__privateGet.call(void 0,this,p)&&(se.__privateGet.call(void 0,this,i).removeListener("latest",se.__privateGet.call(void 0,this,d)),se.__privateSet.call(void 0,this,p,!1),ue("Stopped polling"))}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-5KMU2IAT.js"}],[2632,{"@metamask/rpc-errors":1884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/rpc-errors");r.validateConfirmedExternalTransaction=function(e,t,r){if(!e||!e.txParams)throw n.rpcErrors.invalidParams('"transactionMeta" or "transactionMeta.txParams" is missing');if("confirmed"!==e.status)throw n.rpcErrors.invalidParams('External transaction status should be "confirmed"');const s=e.txParams.nonce;if(r&&r.length>0){if(r.find((e=>e.txParams?.nonce===s)))throw n.rpcErrors.invalidParams("External transaction nonce should not be in pending txs")}if(t&&t.length>0){if(t.find((e=>e.txParams?.nonce===s)))throw n.rpcErrors.invalidParams("External transaction nonce should not be in confirmed txs")}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-7LXE4KHV.js"}],[2633,{"./chunk-2XKEAKQG.js":2629,"./chunk-DLOQPH4M.js":2634,"./chunk-S6VGOPUY.js":2647,"./chunk-Z4BLTVTB.js":2659,"@metamask/eth-query":1363,"@metamask/utils":2739,events:3814},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var s,i,a,o,c,l,u,d,h,f,p,m,g,v,y,b,w,S,_,E,k,T,I,j,x,P,A=e("./chunk-2XKEAKQG.js"),C=e("./chunk-DLOQPH4M.js"),R=e("./chunk-S6VGOPUY.js"),O=e("./chunk-Z4BLTVTB.js"),N=n(e("@metamask/eth-query")),B=e("@metamask/utils"),M=n(e("events")),L=B.createModuleLogger.call(void 0,R.projectLogger,"gas-fee-poller");s=new WeakMap,i=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakSet,f=function(){O.__privateGet.call(void 0,this,d)||(O.__privateMethod.call(void 0,this,g,v).call(this),O.__privateSet.call(void 0,this,d,!0),L("Started polling"))},p=new WeakSet,m=function(){O.__privateGet.call(void 0,this,d)&&(clearTimeout(O.__privateGet.call(void 0,this,u)),O.__privateSet.call(void 0,this,u,void 0),O.__privateSet.call(void 0,this,d,!1),L("Stopped polling"))},g=new WeakSet,v=async function(){await O.__privateMethod.call(void 0,this,y,b).call(this),O.__privateSet.call(void 0,this,u,setTimeout((()=>O.__privateMethod.call(void 0,this,g,v).call(this)),1e4))},y=new WeakSet,b=async function(){const e=O.__privateMethod.call(void 0,this,I,j).call(this);if(!e.length)return;L("Found unapproved transactions",e.length);const t=await O.__privateMethod.call(void 0,this,x,P).call(this,e);L("Retrieved gas fee controller data",t),await Promise.all(e.flatMap((e=>{const{chainId:r}=e,n=t.get(r);return O.__privateMethod.call(void 0,this,w,S).call(this,e,n)})))},w=new WeakSet,S=async function(e,t){const{id:r}=e,[n,s]=await Promise.all([O.__privateMethod.call(void 0,this,_,E).call(this,e,t),O.__privateMethod.call(void 0,this,k,T).call(this,e)]);(n||s)&&this.hub.emit("transaction-updated",{transactionId:r,gasFeeEstimates:n?.gasFeeEstimates,gasFeeEstimatesLoaded:n?.gasFeeEstimatesLoaded,layer1GasFee:s})},_=new WeakSet,E=async function(e,t){const{chainId:r,networkClientId:n}=e,s=new(0,N.default)(O.__privateGet.call(void 0,this,o).call(this,r,n)),a=C.getGasFeeFlow.call(void 0,e,O.__privateGet.call(void 0,this,i));a&&L("Found gas fee flow",a.constructor.name,e.id);const c={ethQuery:s,gasFeeControllerData:t,transactionMeta:e};let l;if(a)try{l=(await a.getGasFees(c)).estimates}catch(t){L("Failed to get suggested gas fees",e.id,t)}if(l||!e.gasFeeEstimatesLoaded)return L("Updated gas fee estimates",{gasFeeEstimates:l,transaction:e.id}),{gasFeeEstimates:l,gasFeeEstimatesLoaded:!0}},k=new WeakSet,T=async function(e){const{chainId:t,networkClientId:r}=e,n=O.__privateGet.call(void 0,this,o).call(this,t,r),s=await A.getTransactionLayer1GasFee.call(void 0,{layer1GasFeeFlows:O.__privateGet.call(void 0,this,l),provider:n,transactionMeta:e});return s&&L("Updated layer 1 gas fee",s,e.id),s},I=new WeakSet,j=function(){return O.__privateGet.call(void 0,this,c).call(this).filter((e=>"unapproved"===e.status))},x=new WeakSet,P=async function(e){const t=new Map;for(const r of e){const{chainId:e,networkClientId:n}=r;if(t.has(e))continue;const i=n??O.__privateGet.call(void 0,this,s).call(this,e);t.set(e,i)}L("Extracted network client IDs by chain ID",t);const r=Array.from(t.entries()).map((async([e,t])=>[e,await O.__privateGet.call(void 0,this,a).call(this,{networkClientId:t})]));return new Map(await Promise.all(r))},r.GasFeePoller=class{constructor({findNetworkClientIdByChainId:e,gasFeeFlows:t,getGasFeeControllerEstimates:r,getProvider:n,getTransactions:v,layer1GasFeeFlows:b,onStateChange:S}){O.__privateAdd.call(void 0,this,h),O.__privateAdd.call(void 0,this,p),O.__privateAdd.call(void 0,this,g),O.__privateAdd.call(void 0,this,y),O.__privateAdd.call(void 0,this,w),O.__privateAdd.call(void 0,this,_),O.__privateAdd.call(void 0,this,k),O.__privateAdd.call(void 0,this,I),O.__privateAdd.call(void 0,this,x),this.hub=new(0,M.default),O.__privateAdd.call(void 0,this,s,void 0),O.__privateAdd.call(void 0,this,i,void 0),O.__privateAdd.call(void 0,this,a,void 0),O.__privateAdd.call(void 0,this,o,void 0),O.__privateAdd.call(void 0,this,c,void 0),O.__privateAdd.call(void 0,this,l,void 0),O.__privateAdd.call(void 0,this,u,void 0),O.__privateAdd.call(void 0,this,d,!1),O.__privateSet.call(void 0,this,s,e),O.__privateSet.call(void 0,this,i,t),O.__privateSet.call(void 0,this,l,b),O.__privateSet.call(void 0,this,a,r),O.__privateSet.call(void 0,this,o,n),O.__privateSet.call(void 0,this,c,v),S((()=>{O.__privateMethod.call(void 0,this,I,j).call(this).length?O.__privateMethod.call(void 0,this,h,f).call(this):O.__privateMethod.call(void 0,this,p,m).call(this)}))}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-7MKQDZKY.js"}],[2634,{"./chunk-RAOYRJ25.js":2646,"@metamask/controller-utils":2672},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-RAOYRJ25.js"),s=e("@metamask/controller-utils");function i(e,t){return s.weiHexToGweiDec.call(void 0,e[t])}r.getGasFeeFlow=function(e,t){return t.find((t=>t.matchesTransaction(e)))},r.mergeGasFeeEstimates=function({gasFeeControllerEstimates:e,transactionGasFeeEstimates:t}){const r=t.type;return"fee-market"===r?Object.values(n.GasFeeEstimateLevel).reduce(((r,n)=>{return{...r,[n]:(i=e?.[n],a=t[n],{...i,suggestedMaxFeePerGas:s.weiHexToGweiDec.call(void 0,a.maxFeePerGas),suggestedMaxPriorityFeePerGas:s.weiHexToGweiDec.call(void 0,a.maxPriorityFeePerGas)})};var i,a}),{...e}):"legacy"===r?Object.values(n.GasFeeEstimateLevel).reduce(((e,r)=>({...e,[r]:i(t,r)})),{}):"eth_gasPrice"===r?{gasPrice:(a=t,s.weiHexToGweiDec.call(void 0,a.gasPrice))}:e;var a}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-DLOQPH4M.js"}],[2635,{"./chunk-S6VGOPUY.js":2647,"./chunk-Z4BLTVTB.js":2659,"async-mutex":3410,events:3814},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s,i,a,o,c,l,u,d,h,f,p,m,g,v,y,b,w,S,_,E,k,T,I,j,x,P,A,C,R,O,N,B=e("./chunk-S6VGOPUY.js"),M=e("./chunk-Z4BLTVTB.js"),L=e("async-mutex"),F=e("events"),D=(n=F)&&n.__esModule?n:{default:n},H=[e=>e.status,e=>e.txParams.gasUsed];s=new WeakMap,i=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakSet,y=function(e){e.sort(((e,t)=>e.time<t.time?-1:1))},b=new WeakSet,w=function(e,t){return e.filter((e=>!t.some((({hash:t})=>t===e.hash))))},S=new WeakSet,_=function(e,t){return e.filter((e=>t.some((t=>e.hash===t.hash&&M.__privateMethod.call(void 0,this,E,k).call(this,e,t)))))},E=new WeakSet,k=function(e,t){return H.some((r=>r(e)!==r(t)))},T=new WeakSet,I=function(){const e=M.__privateGet.call(void 0,this,p).getLastBlockVariations?.()??[],t=M.__privateMethod.call(void 0,this,C,R).call(this,e);return M.__privateGet.call(void 0,this,a).call(this)[t]},j=new WeakSet,x=function(e){const t=M.__privateMethod.call(void 0,this,T,I).call(this);return t?t+1:M.__privateGet.call(void 0,this,f)?void 0:e-10},P=new WeakSet,A=function(e,t){let r=-1;for(const t of e){const e=t.blockNumber?parseInt(t.blockNumber,10):-1;r=Math.max(r,e)}if(-1===r)return;const n=M.__privateMethod.call(void 0,this,C,R).call(this,t),s=M.__privateGet.call(void 0,this,a).call(this);s[n]>=r||this.hub.emit("updatedLastFetchedBlockNumbers",{lastFetchedBlockNumbers:{...s,[n]:r},blockNumber:r})},C=new WeakSet,R=function(e){const t=M.__privateGet.call(void 0,this,c).call(this),r=M.__privateGet.call(void 0,this,i).call(this)?.toLowerCase();return[t,r,...e].join("#")},O=new WeakSet,N=function(){const e=M.__privateGet.call(void 0,this,l).call(this),t=M.__privateGet.call(void 0,this,c).call(this),r=M.__privateGet.call(void 0,this,p).isSupportedNetwork(t);return e&&r},r.IncomingTransactionHelper=class{constructor({blockTracker:e,getCurrentAccount:t,getLastFetchedBlockNumbers:r,getLocalTransactions:n,getChainId:y,isEnabled:w,queryEntireHistory:_,remoteTransactionSource:k,transactionLimit:I,updateTransactions:x}){M.__privateAdd.call(void 0,this,v),M.__privateAdd.call(void 0,this,b),M.__privateAdd.call(void 0,this,S),M.__privateAdd.call(void 0,this,E),M.__privateAdd.call(void 0,this,T),M.__privateAdd.call(void 0,this,j),M.__privateAdd.call(void 0,this,P),M.__privateAdd.call(void 0,this,C),M.__privateAdd.call(void 0,this,O),M.__privateAdd.call(void 0,this,s,void 0),M.__privateAdd.call(void 0,this,i,void 0),M.__privateAdd.call(void 0,this,a,void 0),M.__privateAdd.call(void 0,this,o,void 0),M.__privateAdd.call(void 0,this,c,void 0),M.__privateAdd.call(void 0,this,l,void 0),M.__privateAdd.call(void 0,this,u,void 0),M.__privateAdd.call(void 0,this,d,new(0,L.Mutex)),M.__privateAdd.call(void 0,this,h,void 0),M.__privateAdd.call(void 0,this,f,void 0),M.__privateAdd.call(void 0,this,p,void 0),M.__privateAdd.call(void 0,this,m,void 0),M.__privateAdd.call(void 0,this,g,void 0),this.hub=new(0,D.default),M.__privateSet.call(void 0,this,s,e),M.__privateSet.call(void 0,this,i,t),M.__privateSet.call(void 0,this,a,r),M.__privateSet.call(void 0,this,o,n||(()=>[])),M.__privateSet.call(void 0,this,c,y),M.__privateSet.call(void 0,this,l,w??(()=>!0)),M.__privateSet.call(void 0,this,u,!1),M.__privateSet.call(void 0,this,f,_??!0),M.__privateSet.call(void 0,this,p,k),M.__privateSet.call(void 0,this,m,I),M.__privateSet.call(void 0,this,g,x??!1),M.__privateSet.call(void 0,this,h,(async e=>{try{await this.update(e)}catch(e){console.error("Error while checking incoming transactions",e)}}))}start(){M.__privateGet.call(void 0,this,u)||M.__privateMethod.call(void 0,this,O,N).call(this)&&(M.__privateGet.call(void 0,this,s).addListener("latest",M.__privateGet.call(void 0,this,h)),M.__privateSet.call(void 0,this,u,!0))}stop(){M.__privateGet.call(void 0,this,s).removeListener("latest",M.__privateGet.call(void 0,this,h)),M.__privateSet.call(void 0,this,u,!1)}async update(e){const t=await M.__privateGet.call(void 0,this,d).acquire();B.incomingTransactionsLogger.call(void 0,"Checking for incoming transactions");try{if(!M.__privateMethod.call(void 0,this,O,N).call(this))return;const t=parseInt(e||await M.__privateGet.call(void 0,this,s).getLatestBlock(),16),r=M.__privateGet.call(void 0,this,p).getLastBlockVariations?.()??[],n=M.__privateMethod.call(void 0,this,j,x).call(this,t),a=M.__privateGet.call(void 0,this,i).call(this),l=M.__privateGet.call(void 0,this,c).call(this);let u=[];try{u=await M.__privateGet.call(void 0,this,p).fetchTransactions({address:a,currentChainId:l,fromBlock:n,limit:M.__privateGet.call(void 0,this,m)})}catch(e){return void B.incomingTransactionsLogger.call(void 0,"Error while fetching remote transactions",e)}M.__privateGet.call(void 0,this,g)||(u=u.filter((e=>e.txParams.to?.toLowerCase()===a.toLowerCase())));const d=M.__privateGet.call(void 0,this,g)?M.__privateGet.call(void 0,this,o).call(this):[],h=M.__privateMethod.call(void 0,this,b,w).call(this,u,d),f=M.__privateMethod.call(void 0,this,S,_).call(this,u,d);(h.length>0||f.length>0)&&(M.__privateMethod.call(void 0,this,v,y).call(this,h),M.__privateMethod.call(void 0,this,v,y).call(this,f),B.incomingTransactionsLogger.call(void 0,"Found incoming transactions",{new:h,updated:f}),this.hub.emit("transactions",{added:h,updated:f})),M.__privateMethod.call(void 0,this,P,A).call(this,u,r)}finally{t()}}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-DTDTOMTB.js"}],[2636,{"./chunk-FDUCRHYT.js":2637,"./chunk-S6VGOPUY.js":2647,"./chunk-UGN7PBON.js":2652,"./chunk-Z4BLTVTB.js":2659,"@metamask/controller-utils":2672,"async-mutex":3410,"bn.js":3472,uuid:4893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s,i,a,o,c,l,u,d,h,f,p,m,g,v,y,b=e("./chunk-FDUCRHYT.js"),w=e("./chunk-UGN7PBON.js"),S=e("./chunk-S6VGOPUY.js"),_=e("./chunk-Z4BLTVTB.js"),E=e("@metamask/controller-utils"),k=e("async-mutex"),T=e("bn.js"),I=(n=T)&&n.__esModule?n:{default:n},j=e("uuid");s=new WeakMap,i=new WeakMap,a=new WeakMap,o=new WeakSet,c=function(e,t){const r=Date.now()-e,n=Math.max(0,5e3-r);n>0?setTimeout(t,n):t()},l=new WeakMap,u=new WeakMap,d=new WeakSet,h=function(e){let t=e.result;return"0"===e.status&&(t=[],e.result.length&&S.incomingTransactionsLogger.call(void 0,"Ignored Etherscan request error",{message:e.result,type:_.__privateGet.call(void 0,this,i)?"token":"normal"})),t},f=new WeakSet,p=function(e,t){const r=_.__privateMethod.call(void 0,this,v,y).call(this,e,t);return{...r,txParams:{...r.txParams,data:e.input},..."0"===e.isError?{status:"confirmed"}:{error:new Error("Transaction failed"),status:"failed"}}},m=new WeakSet,g=function(e,t){return{..._.__privateMethod.call(void 0,this,v,y).call(this,e,t),isTransfer:!0,transferInformation:{contractAddress:e.contractAddress,decimals:Number(e.tokenDecimal),symbol:e.tokenSymbol}}},v=new WeakSet,y=function(e,t){const r=1e3*parseInt(e.timeStamp,10);return{blockNumber:e.blockNumber,chainId:t,hash:e.hash,id:j.v1.call(void 0,{msecs:r}),status:"confirmed",time:r,txParams:{chainId:t,from:e.from,gas:E.BNToHex.call(void 0,new(0,I.default)(e.gas)),gasPrice:E.BNToHex.call(void 0,new(0,I.default)(e.gasPrice)),gasUsed:E.BNToHex.call(void 0,new(0,I.default)(e.gasUsed)),nonce:E.BNToHex.call(void 0,new(0,I.default)(e.nonce)),to:e.to,value:E.BNToHex.call(void 0,new(0,I.default)(e.value))},type:"incoming",verifiedOnBlockchain:!1}},r.EtherscanRemoteTransactionSource=class{constructor({includeTokenTransfers:e}={}){_.__privateAdd.call(void 0,this,o),_.__privateAdd.call(void 0,this,d),_.__privateAdd.call(void 0,this,f),_.__privateAdd.call(void 0,this,m),_.__privateAdd.call(void 0,this,v),_.__privateAdd.call(void 0,this,s,void 0),_.__privateAdd.call(void 0,this,i,void 0),_.__privateAdd.call(void 0,this,a,new(0,k.Mutex)),_.__privateAdd.call(void 0,this,l,(async(e,t)=>{const{currentChainId:r}=e,n=await b.fetchEtherscanTransactions.call(void 0,t);return _.__privateMethod.call(void 0,this,d,h).call(this,n).map((e=>_.__privateMethod.call(void 0,this,f,p).call(this,e,r)))})),_.__privateAdd.call(void 0,this,u,(async(e,t)=>{const{currentChainId:r}=e,n=await b.fetchEtherscanTokenTransactions.call(void 0,t);return _.__privateMethod.call(void 0,this,d,h).call(this,n).map((e=>_.__privateMethod.call(void 0,this,m,g).call(this,e,r)))})),_.__privateSet.call(void 0,this,s,e??!0),_.__privateSet.call(void 0,this,i,!1)}isSupportedNetwork(e){return Object.keys(w.ETHERSCAN_SUPPORTED_NETWORKS).includes(e)}getLastBlockVariations(){return[_.__privateGet.call(void 0,this,i)?"token":"normal"]}async fetchTransactions(e){const t=await _.__privateGet.call(void 0,this,a).acquire(),r=Date.now(),n={...e,chainId:e.currentChainId};try{const t=_.__privateGet.call(void 0,this,i)?await _.__privateGet.call(void 0,this,u).call(this,e,n):await _.__privateGet.call(void 0,this,l).call(this,e,n);return _.__privateGet.call(void 0,this,s)&&_.__privateSet.call(void 0,this,i,!_.__privateGet.call(void 0,this,i)),t}finally{_.__privateMethod.call(void 0,this,o,c).call(this,r,t)}}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-EQT25RSP.js"}],[2637,{"./chunk-S6VGOPUY.js":2647,"./chunk-UGN7PBON.js":2652,"@metamask/controller-utils":2672},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-UGN7PBON.js"),s=e("./chunk-S6VGOPUY.js"),i=e("@metamask/controller-utils");async function a(e,{address:t,chainId:r,fromBlock:n,limit:a}){const c=function(e,t){const r=o(e);let n=`${r}/api?`;for(const e of Object.keys(t)){const r=t[e];r&&(n+=`${e}=${r}&`)}return n+="tag=latest&page=1",n}(r,{...{module:"account",address:t,startBlock:n?.toString(),offset:a?.toString(),sort:"desc"},action:e});s.incomingTransactionsLogger.call(void 0,"Sending Etherscan request",c);return await i.handleFetch.call(void 0,c)}function o(e){const t=n.ETHERSCAN_SUPPORTED_NETWORKS[e];if(!t)throw new Error(`Etherscan does not support chain with ID: ${e}`);return`https://${t.subdomain}.${t.domain}`}r.fetchEtherscanTransactions=async function({address:e,chainId:t,fromBlock:r,limit:n}){return await a("txlist",{address:e,chainId:t,fromBlock:r,limit:n})},r.fetchEtherscanTokenTransactions=async function({address:e,chainId:t,fromBlock:r,limit:n}){return await a("tokentx",{address:e,chainId:t,fromBlock:r,limit:n})},r.getEtherscanApiHost=o}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-FDUCRHYT.js"}],[2638,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=class extends Error{constructor(e,t){super(e??"Simulation failed"),this.code=t}};r.SimulationError=n,r.SimulationChainNotSupportedError=class extends n{constructor(e){super(`Chain is not supported: ${e}`,"chain-not-supported")}},r.SimulationInvalidResponseError=class extends n{constructor(){super("Invalid response from simulation API","invalid-response")}},r.SimulationRevertedError=class extends n{constructor(){super("Transaction was reverted","reverted")}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-HMOSP33F.js"}],[2639,{"./chunk-HMOSP33F.js":2638,"./chunk-KT6UAKBB.js":2640,"./chunk-S6VGOPUY.js":2647,"./chunk-UGN7PBON.js":2652,"@ethersproject/abi":483,"@metamask/controller-utils":2672,"@metamask/metamask-eth-abis":1654,"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-KT6UAKBB.js"),s=e("./chunk-HMOSP33F.js"),i=e("./chunk-UGN7PBON.js"),a=e("./chunk-S6VGOPUY.js"),o=e("@ethersproject/abi"),c=e("@metamask/controller-utils"),l=e("@metamask/metamask-eth-abis"),u=e("@metamask/utils"),d=(e=>(e.ERC20="erc20",e.ERC721="erc721",e.ERC1155="erc1155",e.ERC20_WRAPPED="erc20Wrapped",e.ERC721_LEGACY="erc721Legacy",e))(d||{}),h=u.createModuleLogger.call(void 0,a.projectLogger,"simulation"),f=["Transfer","TransferSingle","TransferBatch","Deposit","Withdrawal"],p={erc20:{abi:l.abiERC20,standard:"erc20"},erc721:{abi:l.abiERC721,standard:"erc721"},erc1155:{abi:l.abiERC1155,standard:"erc1155"},erc20Wrapped:{abi:i.ABI_SIMULATION_ERC20_WRAPPED,standard:"erc20"},erc721Legacy:{abi:i.ABI_SIMULATION_ERC721_LEGACY,standard:"erc721"}},m=["execution reverted","insufficient funds for gas"];function g(e){const t=_(e.transactions[0]?.callTrace??{});h("Extracted logs",t);const r=function(){const e=Object.values(d);return new Map(e.map((e=>{const{abi:t}=p[e];return[e,new(0,o.Interface)(t)]})))}();return t.map((e=>{const t=function(e,t){const r=Object.values(d);for(const n of r)try{const r=t.get(n),{abi:s,standard:i}=p[n];return{...r.parseLog(e),abi:s,standard:i}}catch(e){continue}return}(e,r);if(!t)return void h("Failed to parse log",e);const n=t.abi.find((e=>e.name===t.name))?.inputs;if(!n)return void h("Failed to find inputs for event",t);const s=function(e,t){return e.reduce(((e,r,n)=>{const s=t[n].name.replace("_",""),i=v(r);return e[s]=i,e}),{})}(t.args,n);return{contractAddress:e.address,tokenStandard:t.standard,name:t.name,args:s,abi:t.abi}})).filter((e=>void 0!==e))}function v(e){return Array.isArray(e)?e.map(v):(e.toHexString?.()??e).toLowerCase()}function y(e){return"Transfer"===e.name&&"erc721"===e.tokenStandard&&0===parseInt(e.args.from,16)}function b(e){return"erc721"===e.tokenStandard?[e.args.tokenId]:"erc1155"===e.tokenStandard&&"TransferSingle"===e.name?[e.args.id]:"erc1155"===e.tokenStandard&&"TransferBatch"===e.name?e.args.ids:[void 0]}function w(e,t,r){const n=(s=r.return,c.toHex.call(void 0,c.hexToBN.call(void 0,s)));var s;return"erc721"===t.standard?n===e?"0x1":"0x0":n}function S(e,t,r){switch(e){case"erc721":return new(0,o.Interface)(l.abiERC721).encodeFunctionData("ownerOf",[r]);case"erc1155":return new(0,o.Interface)(l.abiERC1155).encodeFunctionData("balanceOf",[t,r]);default:return new(0,o.Interface)(l.abiERC20).encodeFunctionData("balanceOf",[t])}}function _(e){return[...e.logs??[],...(e.calls??[]).map((e=>_(e))).flat()]}function E(e,t){const r=c.hexToBN.call(void 0,t).sub(c.hexToBN.call(void 0,e)),n=r.isNeg(),s=c.toHex.call(void 0,r.abs());if(!r.isZero())return{previousBalance:e,newBalance:t,difference:s,isDecrease:n};h("Balance change is zero")}r.SupportedToken=d,r.getSimulationData=async function(e){const{chainId:t,from:r,to:i,value:a,data:o}=e;h("Getting simulation data",e);try{const c=await n.simulateTransactions.call(void 0,t,{transactions:[{data:o,from:r,maxFeePerGas:"0x0",maxPriorityFeePerGas:"0x0",to:i,value:a}],withCallTrace:!0,withLogs:!0}),l=c.transactions?.[0]?.error;if(l)throw new(0,s.SimulationError)(l);const u=function(e,t){const r=t.transactions[0];if(!r)return;const{stateDiff:n}=r,s=n?.pre?.[e]?.balance,i=n?.post?.[e]?.balance;if(!s||!i)return;return E(s,i)}(e.from,c),d=g(c);h("Parsed events",d);const p=await async function(e,t){const r=function(e,t){const r=new Set,n=new Map,s=new Map,i=t.filter((t=>f.includes(t.name)&&[t.args.from,t.args.to].includes(e.from)));h("Filtered user events",i);for(const t of i){const i=b(t);h("Extracted token ids",i);for(const a of i){const i={address:t.contractAddress,standard:t.tokenStandard,id:a},o=JSON.stringify(i);if(r.has(o)){h("Ignoring additional event with same contract and token ID",i);continue}r.add(o);const c=S(t.tokenStandard,e.from,a),l={from:e.from,to:t.contractAddress,data:c};y(t)||n.set(i,l),s.set(i,l)}}return{before:n,after:s}}(e,t);h("Generated balance transactions",[...r.after.values()]);const i=[...r.before.values(),e,...r.after.values()];if(1===i.length)return[];const a=await n.simulateTransactions.call(void 0,e.chainId,{transactions:i});if(h("Balance simulation response",a),a.transactions.length!==i.length)throw new(0,s.SimulationInvalidResponseError);let o=0;return[...r.after.keys()].map(((t,n)=>{const s=E(!r.before.get(t)?"0x0":w(e.from,t,a.transactions[o++]),w(e.from,t,a.transactions[n+r.before.size+1]));if(s)return{...t,...s}})).filter((e=>void 0!==e))}(e,d);return{nativeBalanceChange:u,tokenBalanceChanges:p}}catch(t){h("Failed to get simulation data",t,e);let r=t;m.some((e=>r.message?.includes(e)))&&(r=new(0,s.SimulationRevertedError));const{code:n,message:i}=r;return{tokenBalanceChanges:[],error:{code:n,message:i}}}},r.getEvents=g}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-IT3SYNZ6.js"}],[2640,{"./chunk-HMOSP33F.js":2638,"./chunk-S6VGOPUY.js":2647,"@metamask/controller-utils":2672,"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-HMOSP33F.js"),s=e("./chunk-S6VGOPUY.js"),i=e("@metamask/controller-utils"),a=e("@metamask/utils").createModuleLogger.call(void 0,s.projectLogger,"simulation-api"),o="https://tx-sentinel-{0}.api.cx.metamask.io/",c="networks",l=0;function u(e){return o.replace("{0}",e)}r.simulateTransactions=async function(e,t){const r=await async function(e){const t=await async function(){const e=`${u("ethereum-mainnet")}${c}`,t=await fetch(e);return t.json()}(),r=i.convertHexToDecimal.call(void 0,e),s=t[r];if(!s?.confirmations)throw a("Chain is not supported",e),new(0,n.SimulationChainNotSupportedError)(e);return u(s.network)}(e);a("Sending request",r,t);const s=l;l+=1;const o=await fetch(r,{method:"POST",body:JSON.stringify({id:String(s),jsonrpc:"2.0",method:"infura_simulateTransactions",params:[t]})}),d=await o.json();if(a("Received response",d),d.error){const{code:e,message:t}=d.error;throw new(0,n.SimulationError)(t,e)}return d?.result}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-KT6UAKBB.js"}],[2641,{"./chunk-UGN7PBON.js":2652,"./chunk-YVCX6Z75.js":2657},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-YVCX6Z75.js"),s=e("./chunk-UGN7PBON.js"),i=[s.CHAIN_IDS.OPTIMISM,s.CHAIN_IDS.OPTIMISM_TESTNET,s.CHAIN_IDS.BASE,s.CHAIN_IDS.BASE_TESTNET,s.CHAIN_IDS.OPBNB,s.CHAIN_IDS.OPBNB_TESTNET,s.CHAIN_IDS.ZORA],a=class extends n.OracleLayer1GasFeeFlow{constructor(){super("0x420000000000000000000000000000000000000F")}matchesTransaction(e){return i.includes(e.chainId)}};r.OptimismLayer1GasFeeFlow=a}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-NYKRCWBG.js"}],[2642,{"./chunk-2XKEAKQG.js":2629,"./chunk-3ZRHCVVS.js":2630,"./chunk-5KMU2IAT.js":2631,"./chunk-7LXE4KHV.js":2632,"./chunk-7MKQDZKY.js":2633,"./chunk-DLOQPH4M.js":2634,"./chunk-DTDTOMTB.js":2635,"./chunk-EQT25RSP.js":2636,"./chunk-IT3SYNZ6.js":2639,"./chunk-NYKRCWBG.js":2641,"./chunk-PRUNMTRD.js":2643,"./chunk-PUESYN62.js":2644,"./chunk-Q6Q44V4W.js":2645,"./chunk-S6VGOPUY.js":2647,"./chunk-SD6CWFDF.js":2648,"./chunk-TIE3CPF7.js":2649,"./chunk-TJMQEH57.js":2650,"./chunk-UGFBA4GV.js":2651,"./chunk-UT4M4XI3.js":2653,"./chunk-V72C4MCR.js":2654,"./chunk-VH47Q6TS.js":2655,"./chunk-WR5F34OW.js":2656,"./chunk-YXSCBWTU.js":2658,"./chunk-Z4BLTVTB.js":2659,"@ethereumjs/common":441,"@ethereumjs/tx":449,"@ethereumjs/util":461,"@metamask/base-controller":2666,"@metamask/controller-utils":2672,"@metamask/eth-query":1363,"@metamask/network-controller":1706,"@metamask/nonce-tracker":1763,"@metamask/rpc-errors":1884,"@metamask/utils":2739,"async-mutex":3410,"eth-method-registry":3739,events:3814,lodash:4322,uuid:4893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s,i,a,o,c,l,u,d,h,f,p,m,g,v,y,b,w,S,_,E,k,T,I,j,x,P,A,C,R,O,N,B,M,L,F,D,H,G,U,V,$,W,J,q,z,K,Y,X,Z=e("./chunk-VH47Q6TS.js"),Q=e("./chunk-Q6Q44V4W.js"),ee=e("./chunk-YXSCBWTU.js"),te=e("./chunk-NYKRCWBG.js"),re=e("./chunk-WR5F34OW.js"),ne=e("./chunk-TJMQEH57.js"),se=e("./chunk-TIE3CPF7.js"),ie=e("./chunk-PRUNMTRD.js"),ae=e("./chunk-IT3SYNZ6.js"),oe=e("./chunk-SD6CWFDF.js"),ce=e("./chunk-DTDTOMTB.js"),le=e("./chunk-PUESYN62.js"),ue=e("./chunk-5KMU2IAT.js"),de=e("./chunk-7LXE4KHV.js"),he=e("./chunk-3ZRHCVVS.js"),fe=e("./chunk-UT4M4XI3.js"),pe=e("./chunk-UGFBA4GV.js"),me=e("./chunk-V72C4MCR.js"),ge=e("./chunk-EQT25RSP.js"),ve=e("./chunk-7MKQDZKY.js"),ye=e("./chunk-2XKEAKQG.js"),be=e("./chunk-DLOQPH4M.js"),we=e("./chunk-S6VGOPUY.js"),Se=e("./chunk-Z4BLTVTB.js"),_e=e("@ethereumjs/common"),Ee=e("@ethereumjs/tx"),ke=e("@ethereumjs/util"),Te=e("@metamask/base-controller"),Ie=e("@metamask/controller-utils"),je=e("@metamask/eth-query"),xe=(n=je)&&n.__esModule?n:{default:n},Pe=e("@metamask/network-controller"),Ae=e("@metamask/nonce-tracker"),Ce=e("@metamask/rpc-errors"),Re=e("@metamask/utils"),Oe=e("async-mutex"),Ne=e("eth-method-registry"),Be=e("events"),Me=e("lodash"),Le=e("uuid"),Fe={transactions:{persist:!0,anonymous:!1},methodData:{persist:!0,anonymous:!1},lastFetchedBlockNumbers:{persist:!0,anonymous:!1}},De=_e.Hardfork.London,He=1.1,Ge=1.1,Ue="TransactionController",Ve=(e=>(e.Approved="approved",e.NotApproved="not-approved",e.SkippedViaBeforePublishHook="skipped-via-before-publish-hook",e))(Ve||{});var $e=class extends Te.BaseController{constructor({blockTracker:e,disableHistory:t,disableSendFlowHistory:r,disableSwaps:n,getCurrentAccountEIP1559Compatibility:b,getCurrentNetworkEIP1559Compatibility:E,getExternalPendingTransactions:j,getGasFeeEstimates:P,getNetworkClientRegistry:B,getNetworkState:L,getPermittedAccounts:D,getSavedGasFees:G,getSelectedAddress:W,incomingTransactions:q={},isMultichainEnabled:K=!1,isSimulationEnabled:X,messenger:Z,onNetworkStateChange:Q,pendingTransactions:ee={},provider:te,securityProviderRequest:re,sign:ne,state:se,testGasFeeFlows:ie,transactionHistoryLimit:ae=40,hooks:oe}){super({name:Ue,metadata:Fe,messenger:Z,state:{methodData:{},transactions:[],lastFetchedBlockNumbers:{},...se}}),Se.__privateAdd.call(void 0,this,d),Se.__privateAdd.call(void 0,this,f),Se.__privateAdd.call(void 0,this,m),Se.__privateAdd.call(void 0,this,y),Se.__privateAdd.call(void 0,this,w),Se.__privateAdd.call(void 0,this,_),Se.__privateAdd.call(void 0,this,k),Se.__privateAdd.call(void 0,this,I),Se.__privateAdd.call(void 0,this,x),Se.__privateAdd.call(void 0,this,A),Se.__privateAdd.call(void 0,this,R),Se.__privateAdd.call(void 0,this,N),Se.__privateAdd.call(void 0,this,M),Se.__privateAdd.call(void 0,this,F),Se.__privateAdd.call(void 0,this,H),Se.__privateAdd.call(void 0,this,U),Se.__privateAdd.call(void 0,this,$),Se.__privateAdd.call(void 0,this,J),Se.__privateAdd.call(void 0,this,z),Se.__privateAdd.call(void 0,this,Y),Se.__privateAdd.call(void 0,this,s,new(0,Be.EventEmitter)),this.approvingTransactionIds=new Set,this.mutex=new(0,Oe.Mutex),Se.__privateAdd.call(void 0,this,i,void 0),Se.__privateAdd.call(void 0,this,a,void 0),this.signAbortCallbacks=new Map,Se.__privateAdd.call(void 0,this,o,void 0),Se.__privateAdd.call(void 0,this,c,void 0),Se.__privateAdd.call(void 0,this,l,void 0),Se.__privateAdd.call(void 0,this,u,void 0),Se.__privateAdd.call(void 0,this,v,(()=>{this.pendingTransactionTracker.startIfPendingTransactions(),Se.__privateGet.call(void 0,this,u).checkForPendingTransactionAndStartPolling()})),this.messagingSystem=Z,this.getNetworkState=L,this.isSendFlowHistoryDisabled=r??!1,this.isHistoryDisabled=t??!1,this.isSwapsDisabled=n??!1,Se.__privateSet.call(void 0,this,c,X??(()=>!0)),this.registry=new(0,Ne.MethodRegistry)({provider:te}),this.getSavedGasFees=G??(e=>{}),this.getCurrentAccountEIP1559Compatibility=b??(()=>Promise.resolve(!0)),this.getCurrentNetworkEIP1559Compatibility=E,this.getGasFeeEstimates=P||(()=>Promise.resolve({})),this.getPermittedAccounts=D,this.getSelectedAddress=W,this.getExternalPendingTransactions=j??(()=>[]),this.securityProviderRequest=re,Se.__privateSet.call(void 0,this,i,q),Se.__privateSet.call(void 0,this,a,ee),Se.__privateSet.call(void 0,this,o,ae),this.sign=ne,Se.__privateSet.call(void 0,this,l,!0===ie),this.afterSign=oe?.afterSign??(()=>!0),this.beforeApproveOnInit=oe?.beforeApproveOnInit??(()=>!0),this.beforeCheckPendingTransaction=oe?.beforeCheckPendingTransaction??(()=>!0),this.beforePublish=oe?.beforePublish??(()=>!0),this.getAdditionalSignArguments=oe?.getAdditionalSignArguments??(()=>[]),this.publish=oe?.publish??(()=>Promise.resolve({transactionHash:void 0})),this.nonceTracker=Se.__privateMethod.call(void 0,this,d,h).call(this,{provider:te,blockTracker:e});const ce=e=>this.messagingSystem.call("NetworkController:findNetworkClientIdByChainId",e);Se.__privateSet.call(void 0,this,u,new(0,le.MultichainTrackingHelper)({isMultichainEnabled:K,provider:te,nonceTracker:this.nonceTracker,incomingTransactionOptions:q,findNetworkClientIdByChainId:ce,getNetworkClientById:e=>this.messagingSystem.call("NetworkController:getNetworkClientById",e),getNetworkClientRegistry:B,removeIncomingTransactionHelperListeners:Se.__privateMethod.call(void 0,this,w,S).bind(this),removePendingTransactionTrackerListeners:Se.__privateMethod.call(void 0,this,k,T).bind(this),createNonceTracker:Se.__privateMethod.call(void 0,this,d,h).bind(this),createIncomingTransactionHelper:Se.__privateMethod.call(void 0,this,f,p).bind(this),createPendingTransactionTracker:Se.__privateMethod.call(void 0,this,m,g).bind(this),onNetworkStateChange:e=>{this.messagingSystem.subscribe("NetworkController:stateChange",e)}})),Se.__privateGet.call(void 0,this,u).initialize();const ue=new(0,ge.EtherscanRemoteTransactionSource)({includeTokenTransfers:q.includeTokenTransfers});this.incomingTransactionHelper=Se.__privateMethod.call(void 0,this,f,p).call(this,{blockTracker:e,etherscanRemoteTransactionSource:ue}),this.pendingTransactionTracker=Se.__privateMethod.call(void 0,this,m,g).call(this,{provider:te,blockTracker:e}),this.gasFeeFlows=Se.__privateMethod.call(void 0,this,A,C).call(this),this.layer1GasFeeFlows=Se.__privateMethod.call(void 0,this,R,O).call(this);new(0,ve.GasFeePoller)({findNetworkClientIdByChainId:ce,gasFeeFlows:this.gasFeeFlows,getGasFeeControllerEstimates:this.getGasFeeEstimates,getProvider:(e,t)=>Se.__privateGet.call(void 0,this,u).getProvider({networkClientId:t,chainId:e}),getTransactions:()=>this.state.transactions,layer1GasFeeFlows:this.layer1GasFeeFlows,onStateChange:e=>{this.messagingSystem.subscribe("TransactionController:stateChange",e)}}).hub.on("transaction-updated",Se.__privateMethod.call(void 0,this,U,V).bind(this)),this.messagingSystem.subscribe("TransactionController:stateChange",Se.__privateGet.call(void 0,this,v)),Q((()=>{we.projectLogger.call(void 0,"Detected network change",this.getChainId()),this.pendingTransactionTracker.startIfPendingTransactions(),this.onBootCleanup()})),this.onBootCleanup(),Se.__privateGet.call(void 0,this,v).call(this)}failTransaction(e,t,r){const n=Me.merge.call(void 0,{},e,{error:pe.normalizeTxError.call(void 0,t),status:"failed"});this.messagingSystem.publish(`${Ue}:transactionFailed`,{actionId:r,error:t.message,transactionMeta:n}),this.updateTransaction(n,"TransactionController#failTransaction - Add error message and set status to failed"),this.onTransactionStatusChange(n),this.messagingSystem.publish(`${Ue}:transactionFinished`,n),Se.__privateGet.call(void 0,this,s).emit(`${e.id}:finished`,n)}async registryLookup(e){const t=await this.registry.lookup(e);if(!t)return{registryMethod:"",parsedRegistryMethod:{name:void 0,args:void 0}};return{registryMethod:t,parsedRegistryMethod:this.registry.parse(t)}}destroy(){Se.__privateMethod.call(void 0,this,y,b).call(this)}async handleMethodData(e){const t=await this.mutex.acquire();try{const{methodData:t}=this.state;if(Object.keys(t).find((t=>e===t)))return t[e];const r=await this.registryLookup(e);return this.update((t=>{t.methodData[e]=r})),r}finally{t()}}async addTransaction(e,{actionId:t,deviceConfirmedOn:r,method:n,origin:s,requireApproval:i,securityAlertResponse:a,sendFlowHistory:o,swaps:c={},type:l,networkClientId:d}={}){if(we.projectLogger.call(void 0,"Adding transaction",e),e=pe.normalizeTransactionParams.call(void 0,e),d&&!Se.__privateGet.call(void 0,this,u).has(d))throw new Error("The networkClientId for this transaction could not be found");const h=d??Se.__privateMethod.call(void 0,this,J,q).call(this),f=await this.getEIP1559Compatibility(h);Z.validateTxParams.call(void 0,e,f),s&&await Z.validateTransactionOrigin.call(void 0,await this.getPermittedAccounts(s),this.getSelectedAddress(),e.from,s);const p=this.generateDappSuggestedGasFees(e,s),m=this.getChainId(h),g=Se.__privateGet.call(void 0,this,u).getEthQuery({networkClientId:h,chainId:m}),v=l??(await oe.determineTransactionType.call(void 0,e,g)).type,y=this.getTransactionWithActionId(t);let b=y?Me.cloneDeep.call(void 0,y):{actionId:t,chainId:m,dappSuggestedGasFees:p,deviceConfirmedOn:r,id:Le.v1.call(void 0),origin:s,securityAlertResponse:a,status:"unapproved",time:Date.now(),txParams:e,userEditedGasLimit:!1,verifiedOnBlockchain:!1,type:v,networkClientId:h};if(await this.updateGasProperties(b),!y){if(n&&this.securityProviderRequest){const e=await this.securityProviderRequest(b,n);b.securityProviderResponse=e}this.isSendFlowHistoryDisabled||(b.sendFlowHistory=o??[]),this.isHistoryDisabled||(b=se.addInitialHistorySnapshot.call(void 0,b)),b=fe.updateSwapsTransaction.call(void 0,b,v,c,{isSwapsDisabled:this.isSwapsDisabled,cancelTransaction:this.cancelTransaction.bind(this),messenger:this.messagingSystem}),this.addMetadata(b),!1!==i?Se.__privateMethod.call(void 0,this,H,G).call(this,b):we.projectLogger.call(void 0,"Skipping simulation as approval not required"),this.messagingSystem.publish(`${Ue}:unapprovedTransactionAdded`,b)}return{result:this.processApproval(b,{isExisting:Boolean(y),requireApproval:i,actionId:t}),transactionMeta:b}}startIncomingTransactionPolling(e=[]){0!==e.length?Se.__privateGet.call(void 0,this,u).startIncomingTransactionPolling(e):this.incomingTransactionHelper.start()}stopIncomingTransactionPolling(e=[]){0!==e.length?Se.__privateGet.call(void 0,this,u).stopIncomingTransactionPolling(e):this.incomingTransactionHelper.stop()}stopAllIncomingTransactionPolling(){this.incomingTransactionHelper.stop(),Se.__privateGet.call(void 0,this,u).stopAllIncomingTransactionPolling()}async updateIncomingTransactions(e=[]){0!==e.length?await Se.__privateGet.call(void 0,this,u).updateIncomingTransactions(e):await this.incomingTransactionHelper.update()}async stopTransaction(e,t,{estimatedBaseFee:r,actionId:n}={}){if(this.getTransactionWithActionId(n))return;t&&(t=pe.normalizeGasFeeValues.call(void 0,t),pe.validateGasValues.call(void 0,t)),we.projectLogger.call(void 0,"Creating cancel transaction",e,t);const i=this.getTransaction(e);if(!i)return;if(!this.sign)throw new Error("No sign method defined.");const a=pe.getIncreasedPriceFromExisting.call(void 0,i.txParams.gasPrice,He),o=pe.isGasPriceValue.call(void 0,t)&&t.gasPrice,c=o&&pe.validateMinimumIncrease.call(void 0,o,a)||a,l=i.txParams?.maxFeePerGas,d=pe.getIncreasedPriceFromExisting.call(void 0,l,He),h=pe.isFeeMarketEIP1559Values.call(void 0,t)&&t.maxFeePerGas,f=h&&pe.validateMinimumIncrease.call(void 0,h,d)||l&&d,p=i.txParams?.maxPriorityFeePerGas,m=pe.getIncreasedPriceFromExisting.call(void 0,p,He),g=pe.isFeeMarketEIP1559Values.call(void 0,t)&&t.maxPriorityFeePerGas,v=g&&pe.validateMinimumIncrease.call(void 0,g,m)||p&&m,y=f&&v?{from:i.txParams.from,gasLimit:i.txParams.gas,maxFeePerGas:f,maxPriorityFeePerGas:v,type:"0x2",nonce:i.txParams.nonce,to:i.txParams.from,value:"0x0"}:{from:i.txParams.from,gasLimit:i.txParams.gas,gasPrice:c,nonce:i.txParams.nonce,to:i.txParams.from,value:"0x0"},b=this.prepareUnsignedEthTx(i.chainId,y),w=await this.sign(b,i.txParams.from),S=ke.bufferToHex.call(void 0,w.serialize()),_=y.maxFeePerGas??y.gasPrice,E=y.maxFeePerGas?i.txParams.maxFeePerGas:i.txParams.gasPrice;we.projectLogger.call(void 0,"Submitting cancel transaction",{oldFee:E,newFee:_,txParams:y});const k=Se.__privateGet.call(void 0,this,u).getEthQuery({networkClientId:i.networkClientId,chainId:i.chainId}),T=await this.publishTransactionForRetry(k,S,i),I={actionId:n,chainId:i.chainId,networkClientId:i.networkClientId,estimatedBaseFee:r,hash:T,id:Le.v1.call(void 0),originalGasEstimate:i.txParams.gas,status:"submitted",time:Date.now(),type:"cancel",txParams:y};this.addMetadata(I),this.messagingSystem.publish(`${Ue}:transactionApproved`,{transactionMeta:I,actionId:n}),this.messagingSystem.publish(`${Ue}:transactionSubmitted`,{transactionMeta:I,actionId:n}),this.messagingSystem.publish(`${Ue}:transactionFinished`,I),Se.__privateGet.call(void 0,this,s).emit(`${i.id}:finished`,I)}async speedUpTransaction(e,t,{actionId:r,estimatedBaseFee:n}={}){if(this.getTransactionWithActionId(r))return;t&&(t=pe.normalizeGasFeeValues.call(void 0,t),pe.validateGasValues.call(void 0,t)),we.projectLogger.call(void 0,"Creating speed up transaction",e,t);const s=this.getTransaction(e);if(!s)return;if(!this.sign)throw new Error("No sign method defined.");const i=pe.getIncreasedPriceFromExisting.call(void 0,s.txParams.gasPrice,Ge),a=pe.isGasPriceValue.call(void 0,t)&&t.gasPrice,o=a&&pe.validateMinimumIncrease.call(void 0,a,i)||i,c=s.txParams?.maxFeePerGas,l=pe.getIncreasedPriceFromExisting.call(void 0,c,Ge),d=pe.isFeeMarketEIP1559Values.call(void 0,t)&&t.maxFeePerGas,h=d&&pe.validateMinimumIncrease.call(void 0,d,l)||c&&l,f=s.txParams?.maxPriorityFeePerGas,p=pe.getIncreasedPriceFromExisting.call(void 0,f,Ge),m=pe.isFeeMarketEIP1559Values.call(void 0,t)&&t.maxPriorityFeePerGas,g=m&&pe.validateMinimumIncrease.call(void 0,m,p)||f&&p,v=h&&g?{...s.txParams,gasLimit:s.txParams.gas,maxFeePerGas:h,maxPriorityFeePerGas:g,type:"0x2"}:{...s.txParams,gasLimit:s.txParams.gas,gasPrice:o},y=this.prepareUnsignedEthTx(s.chainId,v),b=await this.sign(y,s.txParams.from),w=this.updateTransactionMetaRSV(s,b),S=ke.bufferToHex.call(void 0,b.serialize()),_=v.maxFeePerGas??v.gasPrice,E=v.maxFeePerGas?w.txParams.maxFeePerGas:w.txParams.gasPrice;we.projectLogger.call(void 0,"Submitting speed up transaction",{oldFee:E,newFee:_,txParams:v});const k=Se.__privateGet.call(void 0,this,u).getEthQuery({networkClientId:s.networkClientId,chainId:s.chainId}),T=await this.publishTransactionForRetry(k,S,s),I={...w,estimatedBaseFee:n,id:Le.v1.call(void 0),time:Date.now(),hash:T,actionId:r,originalGasEstimate:s.txParams.gas,type:"retry",originalType:s.type},j=h&&g?{...I,txParams:{...s.txParams,maxFeePerGas:h,maxPriorityFeePerGas:g}}:{...I,txParams:{...s.txParams,gasPrice:o}};this.addMetadata(j),this.messagingSystem.publish(`${Ue}:transactionApproved`,{transactionMeta:j,actionId:r}),this.messagingSystem.publish(`${Ue}:transactionSubmitted`,{transactionMeta:j,actionId:r}),this.messagingSystem.publish(`${Ue}:speedupTransactionAdded`,j)}async estimateGas(e,t){const r=Se.__privateGet.call(void 0,this,u).getEthQuery({networkClientId:t}),{estimatedGas:n,simulationFails:s}=await me.estimateGas.call(void 0,e,r);return{gas:n,simulationFails:s}}async estimateGasBuffered(e,t,r){const n=Se.__privateGet.call(void 0,this,u).getEthQuery({networkClientId:r}),{blockGasLimit:s,estimatedGas:i,simulationFails:a}=await me.estimateGas.call(void 0,e,n);return{gas:me.addGasBuffer.call(void 0,i,s,t),simulationFails:a}}updateTransaction(e,t){const{id:r}=e;Se.__privateMethod.call(void 0,this,N,B).call(this,{transactionId:r,note:t,skipHistory:this.isHistoryDisabled},(()=>({...e})))}updateSecurityAlertResponse(e,t){if(!t)throw new Error("updateSecurityAlertResponse: securityAlertResponse should not be null");const r=this.getTransaction(e);if(!r)throw new Error("Cannot update security alert response as no transaction metadata found");const n={...r,securityAlertResponse:t};this.updateTransaction(n,`${Ue}:updatesecurityAlertResponse - securityAlertResponse updated`)}wipeTransactions(e,t){if(e&&!t)return void this.update((e=>{e.transactions=[]}));const r=this.getChainId(),n=this.state.transactions.filter((({chainId:n,txParams:s})=>{if(!(e||n===r))return!0;return!(!t||s.from?.toLowerCase()===t.toLowerCase())}));this.update((e=>{e.transactions=this.trimTransactionsForState(n)}))}async confirmExternalTransaction(e,t,r){const n=this.addExternalTransaction(e);try{const e=n.id,s={...n,status:"confirmed",txReceipt:t};r&&(s.baseFeePerGas=r),this.markNonceDuplicatesDropped(e),this.updateTransaction(s,`${Ue}:confirmExternalTransaction - Add external transaction`),this.onTransactionStatusChange(s),this.updatePostBalance(s),this.messagingSystem.publish(`${Ue}:transactionConfirmed`,s)}catch(e){console.error("Failed to confirm external transaction",e)}}updateTransactionSendFlowHistory(e,t,r){if(this.isSendFlowHistoryDisabled)throw new Error("Send flow history is disabled for the current transaction controller");const n=this.getTransaction(e);if(!n)throw new Error("Cannot update send flow history as no transaction metadata found");pe.validateIfTransactionUnapproved.call(void 0,n,"updateTransactionSendFlowHistory");const s=n.sendFlowHistory??[];if(t===s.length){const e={...n,sendFlowHistory:[...s,...r]};this.updateTransaction(e,`${Ue}:updateTransactionSendFlowHistory - sendFlowHistory updated`)}return this.getTransaction(e)}updateTransactionGasFees(e,{defaultGasEstimates:t,estimateUsed:r,estimateSuggested:n,gas:s,gasLimit:i,gasPrice:a,maxPriorityFeePerGas:o,maxFeePerGas:c,originalGasEstimate:l,userEditedGasLimit:u,userFeeLevel:d}){const h=this.getTransaction(e);if(!h)throw new Error("Cannot update transaction as no transaction metadata found");pe.validateIfTransactionUnapproved.call(void 0,h,"updateTransactionGasFees");let f={txParams:{gas:s,gasLimit:i,gasPrice:a,maxPriorityFeePerGas:o,maxFeePerGas:c},defaultGasEstimates:t,estimateUsed:r,estimateSuggested:n,originalGasEstimate:l,userEditedGasLimit:u,userFeeLevel:d};f.txParams=Me.pickBy.call(void 0,f.txParams),f=Me.pickBy.call(void 0,f);const p=Me.merge.call(void 0,{},h,f);return this.updateTransaction(p,`${Ue}:updateTransactionGasFees - gas values updated`),this.getTransaction(e)}updatePreviousGasParams(e,{gasLimit:t,maxFeePerGas:r,maxPriorityFeePerGas:n}){const s=this.getTransaction(e);if(!s)throw new Error("Cannot update transaction as no transaction metadata found");pe.validateIfTransactionUnapproved.call(void 0,s,"updatePreviousGasParams");const i={previousGas:{gasLimit:t,maxFeePerGas:r,maxPriorityFeePerGas:n}};i.previousGas=Me.pickBy.call(void 0,i.previousGas);const a=Me.merge.call(void 0,{},s,i);return this.updateTransaction(a,`${Ue}:updatePreviousGasParams - Previous gas values updated`),this.getTransaction(e)}async getNonceLock(e,t){return Se.__privateGet.call(void 0,this,u).getNonceLock(e,t)}async updateEditableParams(e,{data:t,gas:r,gasPrice:n,from:s,to:i,value:a}){const o=this.getTransaction(e);if(!o)throw new Error("Cannot update editable params as no transaction metadata found");pe.validateIfTransactionUnapproved.call(void 0,o,"updateEditableParams");const c={txParams:{data:t,from:s,to:i,value:a,gas:r,gasPrice:n}};c.txParams=Me.pickBy.call(void 0,c.txParams);const l=Me.merge.call(void 0,{},o,c),d=Se.__privateGet.call(void 0,this,u).getProvider({chainId:o.chainId,networkClientId:o.networkClientId}),h=new(0,xe.default)(d),{type:f}=await oe.determineTransactionType.call(void 0,l.txParams,h);return l.type=f,await ye.updateTransactionLayer1GasFee.call(void 0,{layer1GasFeeFlows:this.layer1GasFeeFlows,provider:d,transactionMeta:l}),this.updateTransaction(l,`Update Editable Params for ${e}`),this.getTransaction(e)}async approveTransactionsWithSameNonce(e=[],{hasNonce:t}={}){if(we.projectLogger.call(void 0,"Approving transactions with same nonce",{transactions:e}),0===e.length)return"";const r=e[0],n=this.getCommonConfiguration(r.chainId);let s;try{s=this.messagingSystem.call("NetworkController:findNetworkClientIdByChainId",r.chainId)}catch(e){we.projectLogger.call(void 0,"failed to find networkClientId from chainId",e)}const i=Ee.TransactionFactory.fromTxData(r,{common:n}),a=ke.bufferToHex.call(void 0,i.serialize());if(this.approvingTransactionIds.has(a))return"";let o,c;this.approvingTransactionIds.add(a);try{const n=r.from;c=!0!==t?await this.getNonceLock(n,s):void 0;const i=c?Re.add0x.call(void 0,c.nextNonce.toString(16)):r.nonce;c&&we.projectLogger.call(void 0,"Using nonce from nonce tracker",i,c.nonceDetails),o=await Promise.all(e.map((e=>(e.nonce=i,this.signExternalTransaction(e.chainId,e)))))}catch(e){throw we.projectLogger.call(void 0,"Error while signing transactions with same nonce",e),e}finally{c?.releaseLock(),this.approvingTransactionIds.delete(a)}return o}updateCustodialTransaction(e,{errorMessage:t,hash:r,status:n}){const i=this.getTransaction(e);if(!i)throw new Error("Cannot update custodial transaction as no transaction metadata found");if(!i.custodyId)throw new Error("Transaction must be a custodian transaction");if(n&&!["submitted","signed","failed"].includes(n))throw new Error(`Cannot update custodial transaction with status: ${n}`);const a=Me.merge.call(void 0,{},i,Me.pickBy.call(void 0,{hash:r,status:n}));"submitted"===a.status&&(a.submittedTime=(new Date).getTime()),"failed"===a.status&&(a.error=pe.normalizeTxError.call(void 0,new Error(t))),this.updateTransaction(a,`${Ue}:updateCustodialTransaction - Custodial transaction updated`),["submitted","failed"].includes(n)&&(this.messagingSystem.publish(`${Ue}:transactionFinished`,a),Se.__privateGet.call(void 0,this,s).emit(`${a.id}:finished`,a))}initApprovals(){const e=this.getChainId(),t=this.state.transactions.filter((t=>"unapproved"===t.status&&t.chainId===e&&!t.isUserOperation));for(const e of t)this.processApproval(e,{shouldShowRequest:!1}).catch((e=>{e?.code!==Ce.errorCodes.provider.userRejectedRequest&&console.error("Error during persisted transaction approval",e)}))}getTransactions({searchCriteria:e={},initialList:t,filterToCurrentNetwork:r=!0,limit:n}={}){const s=this.getChainId(),i=Me.mapValues.call(void 0,e,(e=>"function"==typeof e?e:t=>t===e)),a=t??this.state.transactions,o=Me.sortBy.call(void 0,Me.pickBy.call(void 0,a,(e=>{if(r&&e.chainId!==s)return!1;for(const[t,r]of Object.entries(i))if(t in e.txParams){if(!1===r(e.txParams[t]))return!1}else if(!1===r(e[t]))return!1;return!0})),"time");if(void 0!==n){const e=new Set,t=[];for(let r=o.length-1;r>-1;r--){const s=o[r],{nonce:i}=s.txParams;if(!e.has(i)){if(!(e.size<n))continue;e.add(i)}t.unshift(s)}return t}return o}async estimateGasFee({transactionParams:e,chainId:t,networkClientId:r}){const n=Se.__privateMethod.call(void 0,this,$,W).call(this,{networkClientId:r,chainId:t}),s={txParams:e,chainId:t,networkClientId:n},i=be.getGasFeeFlow.call(void 0,s,this.gasFeeFlows),a=Se.__privateGet.call(void 0,this,u).getEthQuery({networkClientId:n,chainId:t}),o=await this.getGasFeeEstimates({networkClientId:n});return i.getGasFees({ethQuery:a,gasFeeControllerData:o,transactionMeta:s})}async getLayer1GasFee({transactionParams:e,chainId:t,networkClientId:r}){const n=Se.__privateGet.call(void 0,this,u).getProvider({networkClientId:r,chainId:t});return await ye.getTransactionLayer1GasFee.call(void 0,{layer1GasFeeFlows:this.layer1GasFeeFlows,provider:n,transactionMeta:{txParams:e,chainId:t}})}async signExternalTransaction(e,t){if(!this.sign)throw new Error("No sign method defined.");const r=pe.normalizeTransactionParams.call(void 0,t),n=pe.isEIP1559Transaction.call(void 0,r)?"0x2":"0x0",s={...r,type:n,gasLimit:r.gas,chainId:e},{from:i}=s,a=this.getCommonConfiguration(e),o=Ee.TransactionFactory.fromTxData(s,{common:a}),c=await this.sign(o,i);return ke.bufferToHex.call(void 0,c.serialize())}clearUnapprovedTransactions(){const e=this.state.transactions.filter((({status:e})=>"unapproved"!==e));this.update((t=>{t.transactions=this.trimTransactionsForState(e)}))}abortTransactionSigning(e){if(!this.getTransaction(e))throw new Error("Cannot abort signing as no transaction metadata found");const t=this.signAbortCallbacks.get(e);if(!t)throw new Error("Cannot abort signing as transaction is not waiting for signing");t(),this.signAbortCallbacks.delete(e)}addMetadata(e){this.update((t=>{t.transactions=this.trimTransactionsForState([...t.transactions,e])}))}async updateGasProperties(e){const t=await this.getEIP1559Compatibility(e.networkClientId)&&"0x0"!==e.txParams.type,{networkClientId:r,chainId:n}=e,s=Se.__privateMethod.call(void 0,this,Y,X).call(this,r),i=Se.__privateGet.call(void 0,this,u).getEthQuery({networkClientId:r,chainId:n}),a=Se.__privateGet.call(void 0,this,u).getProvider({networkClientId:r,chainId:n});await me.updateGas.call(void 0,{ethQuery:i,chainId:n,isCustomNetwork:s,txMeta:e}),await he.updateGasFees.call(void 0,{eip1559:t,ethQuery:i,gasFeeFlows:this.gasFeeFlows,getGasFeeEstimates:this.getGasFeeEstimates,getSavedGasFees:this.getSavedGasFees.bind(this),txMeta:e}),await ye.updateTransactionLayer1GasFee.call(void 0,{layer1GasFeeFlows:this.layer1GasFeeFlows,provider:a,transactionMeta:e})}onBootCleanup(){this.submitApprovedTransactions()}submitApprovedTransactions(){const e=this.state.transactions.filter((e=>"approved"===e.status));for(const t of e)this.beforeApproveOnInit(t)&&this.approveTransaction(t.id).catch((e=>{console.error("Error while submitting persisted transaction",e)}))}async processApproval(e,{isExisting:t=!1,requireApproval:r,shouldShowRequest:n=!0,actionId:s}){const i=e.id;let a;const{meta:o,isCompleted:c}=this.isTransactionCompleted(i),l=c?Promise.resolve(o):this.waitForTransactionFinished(i);if(o&&!t&&!c)try{if(!1!==r){const t=await this.requestApproval(e,{shouldShowRequest:n});a=t.resultCallbacks;const r=t.value,s=r?.txMeta;s&&(we.projectLogger.call(void 0,"Updating transaction with approval data",{customNonce:s.customNonceValue,params:s.txParams}),this.updateTransaction(s,"TransactionController#processApproval - Updated with approval data"))}const{isCompleted:t}=this.isTransactionCompleted(i);if(!t){"skipped-via-before-publish-hook"===await this.approveTransaction(i)&&a&&a.success();const e=this.getTransaction(i);this.messagingSystem.publish(`${Ue}:transactionApproved`,{transactionMeta:e,actionId:s})}}catch(e){const{isCompleted:t}=this.isTransactionCompleted(i);if(!t){if(e?.code===Ce.errorCodes.provider.userRejectedRequest)throw this.cancelTransaction(i,s),Ce.providerErrors.userRejectedRequest("MetaMask Tx Signature: User denied transaction signature.");this.failTransaction(o,e,s)}}const u=await l;switch(u?.status){case"failed":throw a?.error(u.error),Ce.rpcErrors.internal(u.error.message);case"submitted":return a?.success(),u.hash;default:const e=Ce.rpcErrors.internal(`MetaMask Tx Signature: Unknown problem: ${JSON.stringify(u||i)}`);throw a?.error(e),e}}async approveTransaction(e){const t=new Array;t.push(await this.mutex.acquire());let r=this.getTransactionOrThrow(e);try{if(!this.sign)return this.failTransaction(r,new Error("No sign method defined.")),"not-approved";if(!r.chainId)return this.failTransaction(r,new Error("No chainId defined.")),"not-approved";if(this.approvingTransactionIds.has(e))return we.projectLogger.call(void 0,"Skipping approval as signing in progress",e),"not-approved";this.approvingTransactionIds.add(e),t.push((()=>this.approvingTransactionIds.delete(e)));const[n,i]=await ie.getNextNonce.call(void 0,r,(e=>Se.__privateGet.call(void 0,this,u).getNonceLock(e,r.networkClientId)));i&&t.push(i),r=Se.__privateMethod.call(void 0,this,N,B).call(this,{transactionId:e,note:"TransactionController#approveTransaction - Transaction approved"},(e=>{const{txParams:t,chainId:r}=e;e.status="approved",e.txParams={...t,nonce:n,chainId:r,gasLimit:t.gas,...pe.isEIP1559Transaction.call(void 0,t)&&{type:"0x2"}}})),this.onTransactionStatusChange(r);const a=await this.signTransaction(r,r.txParams);if(!this.beforePublish(r))return we.projectLogger.call(void 0,"Skipping publishing transaction based on hook"),this.messagingSystem.publish(`${Ue}:transactionPublishingSkipped`,r),"skipped-via-before-publish-hook";if(!a)return"not-approved";const o=Se.__privateGet.call(void 0,this,u).getEthQuery({networkClientId:r.networkClientId,chainId:r.chainId});let c;const l="swap"===r.type;l&&(we.projectLogger.call(void 0,"Determining pre-transaction balance"),c=await Ie.query.call(void 0,o,"getBalance",[r.txParams.from])),we.projectLogger.call(void 0,"Publishing transaction",r.txParams);let{transactionHash:d}=await this.publish(r,a);return void 0===d&&(d=await this.publishTransaction(o,a)),we.projectLogger.call(void 0,"Publish successful",d),r=Se.__privateMethod.call(void 0,this,N,B).call(this,{transactionId:e,note:"TransactionController#approveTransaction - Transaction submitted"},(e=>{e.hash=d,e.status="submitted",e.submittedTime=(new Date).getTime(),l&&(e.preTxBalance=c,we.projectLogger.call(void 0,"Updated pre-transaction balance",c))})),this.messagingSystem.publish(`${Ue}:transactionSubmitted`,{transactionMeta:r}),this.messagingSystem.publish(`${Ue}:transactionFinished`,r),Se.__privateGet.call(void 0,this,s).emit(`${e}:finished`,r),this.onTransactionStatusChange(r),"approved"}catch(e){return this.failTransaction(r,e),"not-approved"}finally{t.forEach((e=>e()))}}async publishTransaction(e,t){return await Ie.query.call(void 0,e,"sendRawTransaction",[t])}cancelTransaction(e,t){const r=this.state.transactions.find((({id:t})=>t===e));if(!r)return;this.update((t=>{const r=t.transactions.filter((({id:t})=>t!==e));t.transactions=this.trimTransactionsForState(r)}));const n={...r,status:"rejected"};this.messagingSystem.publish(`${Ue}:transactionFinished`,n),Se.__privateGet.call(void 0,this,s).emit(`${r.id}:finished`,n),this.messagingSystem.publish(`${Ue}:transactionRejected`,{transactionMeta:n,actionId:t}),this.onTransactionStatusChange(n)}trimTransactionsForState(e){const t=new Set,r=[...e].sort(((e,t)=>e.time>t.time?-1:1)).filter((e=>{const{chainId:r,status:n,txParams:s,time:i}=e;if(s){const e=`${String(s.nonce)}-${Ie.convertHexToDecimal.call(void 0,r)}-${new Date(i).toDateString()}`;if(t.has(e))return!0;if(t.size<Se.__privateGet.call(void 0,this,o)||!this.isFinalState(n))return t.add(e),!0}return!1}));return r.reverse(),r}isFinalState(e){return"rejected"===e||"confirmed"===e||"failed"===e}isLocalFinalState(e){return["confirmed","failed","rejected","submitted"].includes(e)}async requestApproval(e,{shouldShowRequest:t}){const r=this.getApprovalId(e),{origin:n}=e,s=Ie.ApprovalType.Transaction,i={txId:e.id};return await this.messagingSystem.call("ApprovalController:addRequest",{id:r,origin:n||Ie.ORIGIN_METAMASK,type:s,requestData:i,expectsResult:!0},t)}getTransaction(e){const{transactions:t}=this.state;return t.find((({id:t})=>t===e))}getTransactionOrThrow(e,t="TransactionController"){const r=this.getTransaction(e);if(!r)throw new Error(`${t}: No transaction found with id ${e}`);return r}getApprovalId(e){return String(e.id)}isTransactionCompleted(e){const t=this.getTransaction(e);if(!t)return{meta:void 0,isCompleted:!1};return{meta:t,isCompleted:this.isLocalFinalState(t.status)}}getChainId(e){const t=Se.__privateMethod.call(void 0,this,z,K).call(this),r=Se.__privateMethod.call(void 0,this,J,q).call(this);return e&&e!==r?this.messagingSystem.call("NetworkController:getNetworkClientById",e).configuration.chainId:t}prepareUnsignedEthTx(e,t){return Ee.TransactionFactory.fromTxData(t,{freeze:!1,common:this.getCommonConfiguration(e)})}getCommonConfiguration(e){const t={chainId:parseInt(e,16),defaultHardfork:De};return _e.Common.custom(t)}onIncomingTransactions({added:e,updated:t}){this.update((r=>{const{transactions:n}=r,s=[...e,...n.map((e=>t.find((({hash:t})=>t===e.hash))??e))];r.transactions=this.trimTransactionsForState(s)}))}onUpdatedLastFetchedBlockNumbers({lastFetchedBlockNumbers:e,blockNumber:t}){this.update((t=>{t.lastFetchedBlockNumbers=e})),this.messagingSystem.publish(`${Ue}:incomingTransactionBlockReceived`,t)}generateDappSuggestedGasFees(e,t){if(!t||t===Ie.ORIGIN_METAMASK)return;const{gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:s,gas:i}=e;if(void 0===r&&void 0===n&&void 0===s&&void 0===i)return;const a={};return void 0!==r?a.gasPrice=r:void 0===n&&void 0===s||(a.maxFeePerGas=n,a.maxPriorityFeePerGas=s),void 0!==i&&(a.gas=i),a}addExternalTransaction(e){const{chainId:t}=e,{transactions:r}=this.state,n=e?.txParams?.from,s=r.filter((e=>e.txParams.from===n&&e.chainId===t)),i=s.filter((e=>"confirmed"===e.status)),a=s.filter((e=>"submitted"===e.status));de.validateConfirmedExternalTransaction.call(void 0,e,i,a);const o=0!==(e.history??[]).length||this.isHistoryDisabled?e:se.addInitialHistorySnapshot.call(void 0,e);return this.update((e=>{e.transactions=this.trimTransactionsForState([...e.transactions,o])})),o}markNonceDuplicatesDropped(e){const t=this.getTransaction(e);if(!t)return;const r=t.txParams?.nonce,n=t.txParams?.from,{chainId:s}=t,i=this.state.transactions.filter((t=>t.id!==e&&t.txParams.from===n&&t.txParams.nonce===r&&t.chainId===s&&"incoming"!==t.type)),a=i.map((e=>e.id));if(0!==i.length){this.update((e=>{for(const r of e.transactions)a.includes(r.id)&&(r.replacedBy=t?.hash,r.replacedById=t?.id)}));for(const e of this.state.transactions)a.includes(e.id)&&"failed"!==e.status&&this.setTransactionStatusDropped(e)}}setTransactionStatusDropped(e){const t={...e,status:"dropped"};this.messagingSystem.publish(`${Ue}:transactionDropped`,{transactionMeta:t}),this.updateTransaction(t,"TransactionController#setTransactionStatusDropped - Transaction dropped"),this.onTransactionStatusChange(t)}getTransactionWithActionId(e){return this.state.transactions.find((t=>e&&t.actionId===e))}async waitForTransactionFinished(e){return new Promise((t=>{Se.__privateGet.call(void 0,this,s).once(`${e}:finished`,(e=>{t(e)}))}))}updateTransactionMetaRSV(e,t){const r=Me.cloneDeep.call(void 0,e);for(const e of["r","s","v"]){const n=t[e];null!=n&&(r[e]=Re.add0x.call(void 0,n.toString(16)))}return r}async getEIP1559Compatibility(e){const t=await this.getCurrentNetworkEIP1559Compatibility(e),r=await this.getCurrentAccountEIP1559Compatibility();return t&&r}async signTransaction(e,t){we.projectLogger.call(void 0,"Signing transaction",t);const r=this.prepareUnsignedEthTx(e.chainId,t);this.approvingTransactionIds.add(e.id);const n=await new Promise(((n,s)=>{this.sign?.(r,t.from,...this.getAdditionalSignArguments(e)).then(n,s),this.signAbortCallbacks.set(e.id,(()=>s(new Error("Signing aborted by user"))))}));if(this.signAbortCallbacks.delete(e.id),!n)return void we.projectLogger.call(void 0,"Skipping signed status as no signed transaction");const s=Me.cloneDeep.call(void 0,e);if(!this.afterSign(s,n))return this.updateTransaction(s,"TransactionController#signTransaction - Update after sign"),void we.projectLogger.call(void 0,"Skipping signed status based on hook");const i={...this.updateTransactionMetaRSV(s,n),status:"signed"};this.updateTransaction(i,"TransactionController#approveTransaction - Transaction signed"),this.onTransactionStatusChange(i);const a=ke.bufferToHex.call(void 0,n.serialize()),o=Me.merge.call(void 0,{},i,{rawTx:a});return this.updateTransaction(o,"TransactionController#approveTransaction - RawTransaction added"),a}onTransactionStatusChange(e){this.messagingSystem.publish(`${Ue}:transactionStatusUpdated`,{transactionMeta:e})}getNonceTrackerTransactions(e,t,r=this.getChainId()){return ie.getAndFormatTransactionsForNonceTracker.call(void 0,r,t,e,this.state.transactions)}onConfirmedTransaction(e){we.projectLogger.call(void 0,"Processing confirmed transaction",e.id),this.markNonceDuplicatesDropped(e.id),this.messagingSystem.publish(`${Ue}:transactionConfirmed`,e),this.onTransactionStatusChange(e),this.updatePostBalance(e)}async updatePostBalance(e){try{if("swap"!==e.type)return;const t=Se.__privateGet.call(void 0,this,u).getEthQuery({networkClientId:e.networkClientId,chainId:e.chainId}),{updatedTransactionMeta:r,approvalTransactionMeta:n}=await fe.updatePostTransactionBalance.call(void 0,e,{ethQuery:t,getTransaction:this.getTransaction.bind(this),updateTransaction:this.updateTransaction.bind(this)});this.messagingSystem.publish(`${Ue}:postTransactionBalanceUpdated`,{transactionMeta:r,approvalTransactionMeta:n})}catch(e){we.projectLogger.call(void 0,"Error while updating post transaction balance",e)}}async publishTransactionForRetry(e,t,r){try{return await this.publishTransaction(e,t)}catch(e){if(this.isTransactionAlreadyConfirmedError(e))throw await this.pendingTransactionTracker.forceCheckTransaction(r),new Error("Previous transaction is already confirmed");throw e}}isTransactionAlreadyConfirmedError(e){return e?.message?.includes("nonce too low")||e?.data?.message?.includes("nonce too low")}};s=new WeakMap,i=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakSet,h=function({provider:e,blockTracker:t,chainId:r}){return new(0,Ae.NonceTracker)({provider:e,blockTracker:t,getPendingTransactions:Se.__privateMethod.call(void 0,this,x,P).bind(this,r),getConfirmedTransactions:this.getNonceTrackerTransactions.bind(this,"confirmed")})},f=new WeakSet,p=function({blockTracker:e,etherscanRemoteTransactionSource:t,chainId:r}){const n=new(0,ce.IncomingTransactionHelper)({blockTracker:e,getCurrentAccount:this.getSelectedAddress,getLastFetchedBlockNumbers:()=>this.state.lastFetchedBlockNumbers,getChainId:r?()=>r:this.getChainId.bind(this),isEnabled:Se.__privateGet.call(void 0,this,i).isEnabled,queryEntireHistory:Se.__privateGet.call(void 0,this,i).queryEntireHistory,remoteTransactionSource:t,transactionLimit:Se.__privateGet.call(void 0,this,o),updateTransactions:Se.__privateGet.call(void 0,this,i).updateTransactions});return Se.__privateMethod.call(void 0,this,_,E).call(this,n),n},m=new WeakSet,g=function({provider:e,blockTracker:t,chainId:r}){const n=new(0,xe.default)(e),s=r?()=>r:this.getChainId.bind(this),i=new(0,ue.PendingTransactionTracker)({approveTransaction:async e=>{await this.approveTransaction(e)},blockTracker:t,getChainId:s,getEthQuery:()=>n,getTransactions:()=>this.state.transactions,isResubmitEnabled:Se.__privateGet.call(void 0,this,a).isResubmitEnabled,getGlobalLock:()=>Se.__privateGet.call(void 0,this,u).acquireNonceLockForChainIdKey({chainId:s()}),publishTransaction:this.publishTransaction.bind(this),hooks:{beforeCheckPendingTransaction:this.beforeCheckPendingTransaction.bind(this),beforePublish:this.beforePublish.bind(this)}});return Se.__privateMethod.call(void 0,this,I,j).call(this,i),i},v=new WeakMap,y=new WeakSet,b=function(){this.pendingTransactionTracker.stop(),Se.__privateMethod.call(void 0,this,k,T).call(this,this.pendingTransactionTracker),this.incomingTransactionHelper.stop(),Se.__privateMethod.call(void 0,this,w,S).call(this,this.incomingTransactionHelper),Se.__privateGet.call(void 0,this,u).stopAllTracking()},w=new WeakSet,S=function(e){e.hub.removeAllListeners("transactions"),e.hub.removeAllListeners("updatedLastFetchedBlockNumbers")},_=new WeakSet,E=function(e){e.hub.on("transactions",this.onIncomingTransactions.bind(this)),e.hub.on("updatedLastFetchedBlockNumbers",this.onUpdatedLastFetchedBlockNumbers.bind(this))},k=new WeakSet,T=function(e){e.hub.removeAllListeners("transaction-confirmed"),e.hub.removeAllListeners("transaction-dropped"),e.hub.removeAllListeners("transaction-failed"),e.hub.removeAllListeners("transaction-updated")},I=new WeakSet,j=function(e){e.hub.on("transaction-confirmed",this.onConfirmedTransaction.bind(this)),e.hub.on("transaction-dropped",this.setTransactionStatusDropped.bind(this)),e.hub.on("transaction-failed",this.failTransaction.bind(this)),e.hub.on("transaction-updated",this.updateTransaction.bind(this))},x=new WeakSet,P=function(e,t){return[...this.getNonceTrackerTransactions("submitted",t,e),...this.getExternalPendingTransactions(t,e)]},A=new WeakSet,C=function(){return Se.__privateGet.call(void 0,this,l)?[new(0,ne.TestGasFeeFlow)]:[new(0,Q.LineaGasFeeFlow),new(0,ee.DefaultGasFeeFlow)]},R=new WeakSet,O=function(){return[new(0,te.OptimismLayer1GasFeeFlow),new(0,re.ScrollLayer1GasFeeFlow)]},N=new WeakSet,B=function({transactionId:e,note:t,skipHistory:r},n){let s=[];this.update((i=>{const a=i.transactions.findIndex((({id:t})=>t===e));let o=i.transactions[a];o=n(o)??o,o.txParams=pe.normalizeTransactionParams.call(void 0,o.txParams),Z.validateTxParams.call(void 0,o.txParams),s=Se.__privateMethod.call(void 0,this,M,L).call(this,o),!0!==r&&(o=se.updateTransactionHistory.call(void 0,o,t??"Transaction updated")),i.transactions[a]=o}));const i=this.getTransaction(e);return s.length>0&&Se.__privateMethod.call(void 0,this,F,D).call(this,i,s),i},M=new WeakSet,L=function(e){const{id:t,txParams:r}=e,n=this.getTransaction(t)?.txParams;if(!n||Me.isEqual.call(void 0,n,r))return[];const s=Object.keys(r).filter((e=>r[e]!==n[e]));return we.projectLogger.call(void 0,"Transaction parameters have been updated",t,s,n,r),s},F=new WeakSet,D=function(e,t){["to","value","data"].some((e=>t.includes(e)))&&(we.projectLogger.call(void 0,"Updating simulation data due to transaction parameter update"),Se.__privateMethod.call(void 0,this,H,G).call(this,e))},H=new WeakSet,G=async function(e){const{id:t,chainId:r,txParams:n}=e,{from:s,to:i,value:a,data:o}=n;let l={error:{code:"disabled",message:"Simulation disabled"},tokenBalanceChanges:[]};Se.__privateGet.call(void 0,this,c).call(this)&&(Se.__privateMethod.call(void 0,this,N,B).call(this,{transactionId:t,skipHistory:!0},(e=>{e.simulationData=void 0})),l=await ae.getSimulationData.call(void 0,{chainId:r,from:s,to:i,value:a,data:o}));this.getTransaction(t)?(Se.__privateMethod.call(void 0,this,N,B).call(this,{transactionId:t,note:"TransactionController#updateSimulationData - Update simulation data"},(e=>{e.simulationData=l})),we.projectLogger.call(void 0,"Updated simulation data",t,l)):we.projectLogger.call(void 0,"Cannot update simulation data as transaction not found",t,l)},U=new WeakSet,V=function({transactionId:e,gasFeeEstimates:t,gasFeeEstimatesLoaded:r,layer1GasFee:n}){Se.__privateMethod.call(void 0,this,N,B).call(this,{transactionId:e,skipHistory:!0},(e=>{t&&(e.gasFeeEstimates=t),void 0!==r&&(e.gasFeeEstimatesLoaded=r),n&&(e.layer1GasFee=n)}))},$=new WeakSet,W=function({networkClientId:e,chainId:t}){const r=Se.__privateMethod.call(void 0,this,z,K).call(this),n=Se.__privateMethod.call(void 0,this,J,q).call(this);return e||(t&&t!==r?this.messagingSystem.call("NetworkController:findNetworkClientIdByChainId",t):n)},J=new WeakSet,q=function(){return this.getNetworkState().selectedNetworkClientId},z=new WeakSet,K=function(){return this.getNetworkState().providerConfig.chainId},Y=new WeakSet,X=function(e){const t=Se.__privateMethod.call(void 0,this,J,q).call(this);return e&&e!==t?this.messagingSystem.call("NetworkController:getNetworkClientById",e).configuration.type===Pe.NetworkClientType.Custom:this.getNetworkState().providerConfig.type===Ie.NetworkType.rpc},r.HARDFORK=De,r.CANCEL_RATE=He,r.SPEED_UP_RATE=Ge,r.ApprovalState=Ve,r.TransactionController=$e}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-OQNGSDIH.js"}],[2643,{"./chunk-S6VGOPUY.js":2647,"@metamask/controller-utils":2672},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-S6VGOPUY.js"),s=e("@metamask/controller-utils"),i=n.createModuleLogger.call(void 0,n.projectLogger,"nonce");r.getNextNonce=async function(e,t){const{customNonceValue:r,txParams:{from:n,nonce:a}}=e,o=r?s.toHex.call(void 0,r):void 0;if(o)return i("Using custom nonce",o),[o,void 0];if(a)return i("Using existing nonce",a),[a,void 0];const c=await t(n),l=s.toHex.call(void 0,c.nextNonce),u=c.releaseLock.bind(c);return i("Using nonce from nonce tracker",l,c.nonceDetails),[l,u]},r.getAndFormatTransactionsForNonceTracker=function(e,t,r,n){return n.filter((({chainId:n,isTransfer:s,isUserOperation:i,status:a,txParams:{from:o}})=>!s&&!i&&n===e&&a===r&&o.toLowerCase()===t.toLowerCase())).map((({status:e,txParams:{from:t,gas:r,value:n,nonce:s}})=>({status:e,history:[{}],txParams:{from:t??"",gas:r??"",value:n??"",nonce:s??""}})))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-PRUNMTRD.js"}],[2644,{"./chunk-EQT25RSP.js":2636,"./chunk-S6VGOPUY.js":2647,"./chunk-Z4BLTVTB.js":2659,"@metamask/eth-query":1363,"async-mutex":3410},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s,i,a,o,c,l,u,d,h,f,p,m,g,v,y,b,w,S,_,E,k,T,I,j=e("./chunk-EQT25RSP.js"),x=e("./chunk-S6VGOPUY.js"),P=e("./chunk-Z4BLTVTB.js"),A=e("@metamask/eth-query"),C=(n=A)&&n.__esModule?n:{default:n},R=e("async-mutex");s=new WeakMap,i=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakSet,S=function(e){const t=P.__privateGet.call(void 0,this,v).get(e);t&&(t.pendingTransactionTracker.stop(),P.__privateGet.call(void 0,this,h).call(this,t.pendingTransactionTracker),t.incomingTransactionHelper.stop(),P.__privateGet.call(void 0,this,d).call(this,t.incomingTransactionHelper),P.__privateGet.call(void 0,this,v).delete(e))},_=new WeakSet,E=function(e){if(P.__privateGet.call(void 0,this,v).get(e))return;const{provider:t,blockTracker:r,configuration:{chainId:n}}=P.__privateGet.call(void 0,this,l).call(this,e);let s=P.__privateGet.call(void 0,this,y).get(n);s||(s=new(0,j.EtherscanRemoteTransactionSource)({includeTokenTransfers:P.__privateGet.call(void 0,this,o).includeTokenTransfers}),P.__privateGet.call(void 0,this,y).set(n,s));const i=P.__privateGet.call(void 0,this,f).call(this,{provider:t,blockTracker:r,chainId:n}),a=P.__privateGet.call(void 0,this,p).call(this,{blockTracker:r,etherscanRemoteTransactionSource:s,chainId:n}),c=P.__privateGet.call(void 0,this,m).call(this,{provider:t,blockTracker:r,chainId:n});P.__privateGet.call(void 0,this,v).set(e,{nonceTracker:i,incomingTransactionHelper:a,pendingTransactionTracker:c})},k=new WeakMap,T=new WeakSet,I=function({networkClientId:e,chainId:t}={}){let r;if(e)try{r=P.__privateGet.call(void 0,this,l).call(this,e)}catch(e){x.incomingTransactionsLogger.call(void 0,"failed to get network client by networkClientId")}if(!r&&t)try{const e=P.__privateGet.call(void 0,this,c).call(this,t);r=P.__privateGet.call(void 0,this,l).call(this,e)}catch(e){x.incomingTransactionsLogger.call(void 0,"failed to get network client by chainId")}return r},r.MultichainTrackingHelper=class{constructor({isMultichainEnabled:e,provider:t,nonceTracker:r,incomingTransactionOptions:n,findNetworkClientIdByChainId:I,getNetworkClientById:j,getNetworkClientRegistry:x,removeIncomingTransactionHelperListeners:A,removePendingTransactionTrackerListeners:C,createNonceTracker:R,createIncomingTransactionHelper:O,createPendingTransactionTracker:N,onNetworkStateChange:B}){P.__privateAdd.call(void 0,this,w),P.__privateAdd.call(void 0,this,_),P.__privateAdd.call(void 0,this,T),P.__privateAdd.call(void 0,this,s,void 0),P.__privateAdd.call(void 0,this,i,void 0),P.__privateAdd.call(void 0,this,a,void 0),P.__privateAdd.call(void 0,this,o,void 0),P.__privateAdd.call(void 0,this,c,void 0),P.__privateAdd.call(void 0,this,l,void 0),P.__privateAdd.call(void 0,this,u,void 0),P.__privateAdd.call(void 0,this,d,void 0),P.__privateAdd.call(void 0,this,h,void 0),P.__privateAdd.call(void 0,this,f,void 0),P.__privateAdd.call(void 0,this,p,void 0),P.__privateAdd.call(void 0,this,m,void 0),P.__privateAdd.call(void 0,this,g,new Map),P.__privateAdd.call(void 0,this,v,new Map),P.__privateAdd.call(void 0,this,y,new Map),this.checkForPendingTransactionAndStartPolling=()=>{for(const[,e]of P.__privateGet.call(void 0,this,v))e.pendingTransactionTracker.startIfPendingTransactions()},P.__privateAdd.call(void 0,this,b,(e=>{P.__privateGet.call(void 0,this,k).call(this,e);const t=Object.keys(e),r=Array.from(P.__privateGet.call(void 0,this,v).keys());r.filter((e=>!t.includes(e))).forEach((e=>{P.__privateMethod.call(void 0,this,w,S).call(this,e)}));t.filter((e=>!r.includes(e))).forEach((e=>{P.__privateMethod.call(void 0,this,_,E).call(this,e)}))})),P.__privateAdd.call(void 0,this,k,(e=>{const t=new Set;Object.values(e).forEach((e=>t.add(e.configuration.chainId)));Array.from(P.__privateGet.call(void 0,this,y).keys()).filter((e=>!t.has(e))).forEach((e=>{P.__privateGet.call(void 0,this,y).delete(e)}))})),P.__privateSet.call(void 0,this,s,e),P.__privateSet.call(void 0,this,i,t),P.__privateSet.call(void 0,this,a,r),P.__privateSet.call(void 0,this,o,n),P.__privateSet.call(void 0,this,c,I),P.__privateSet.call(void 0,this,l,j),P.__privateSet.call(void 0,this,u,x),P.__privateSet.call(void 0,this,d,A),P.__privateSet.call(void 0,this,h,C),P.__privateSet.call(void 0,this,f,R),P.__privateSet.call(void 0,this,p,O),P.__privateSet.call(void 0,this,m,N),B(((e,t)=>{if(P.__privateGet.call(void 0,this,s)){const e=P.__privateGet.call(void 0,this,u).call(this);t.forEach((({op:t,path:r})=>{if("remove"===t&&"networkConfigurations"===r[0]){const t=r[1];delete e[t]}})),P.__privateGet.call(void 0,this,b).call(this,e)}}))}initialize(){if(!P.__privateGet.call(void 0,this,s))return;const e=P.__privateGet.call(void 0,this,u).call(this);P.__privateGet.call(void 0,this,b).call(this,e)}has(e){return P.__privateGet.call(void 0,this,v).has(e)}getEthQuery({networkClientId:e,chainId:t}={}){return new(0,C.default)(this.getProvider({networkClientId:e,chainId:t}))}getProvider({networkClientId:e,chainId:t}={}){if(!P.__privateGet.call(void 0,this,s))return P.__privateGet.call(void 0,this,i);const r=P.__privateMethod.call(void 0,this,T,I).call(this,{networkClientId:e,chainId:t});return r?.provider||P.__privateGet.call(void 0,this,i)}async acquireNonceLockForChainIdKey({chainId:e,key:t="global"}){let r=P.__privateGet.call(void 0,this,g).get(e);r||(r=new Map,P.__privateGet.call(void 0,this,g).set(e,r));let n=r.get(t);return n||(n=new(0,R.Mutex),r.set(t,n)),await n.acquire()}async getNonceLock(e,t){let r,n=P.__privateGet.call(void 0,this,a);if(t&&P.__privateGet.call(void 0,this,s)){const s=P.__privateGet.call(void 0,this,l).call(this,t);r=await this.acquireNonceLockForChainIdKey({chainId:s.configuration.chainId,key:e});const i=P.__privateGet.call(void 0,this,v).get(t);if(!i)throw new Error("missing nonceTracker for networkClientId");n=i.nonceTracker}try{const t=await n.getNonceLock(e);return{...t,releaseLock:()=>{t.releaseLock(),r?.()}}}catch(e){throw r?.(),e}}startIncomingTransactionPolling(e=[]){e.forEach((e=>{P.__privateGet.call(void 0,this,v).get(e)?.incomingTransactionHelper.start()}))}stopIncomingTransactionPolling(e=[]){e.forEach((e=>{P.__privateGet.call(void 0,this,v).get(e)?.incomingTransactionHelper.stop()}))}stopAllIncomingTransactionPolling(){for(const[,e]of P.__privateGet.call(void 0,this,v))e.incomingTransactionHelper.stop()}async updateIncomingTransactions(e=[]){(await Promise.allSettled(e.map((async e=>await(P.__privateGet.call(void 0,this,v).get(e)?.incomingTransactionHelper.update()))))).filter((e=>"rejected"===e.status)).forEach((e=>{x.incomingTransactionsLogger.call(void 0,"failed to update incoming transactions",e.reason)}))}stopAllTracking(){for(const[e]of P.__privateGet.call(void 0,this,v))P.__privateMethod.call(void 0,this,w,S).call(this,e)}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-PUESYN62.js"}],[2645,{"./chunk-RAOYRJ25.js":2646,"./chunk-S6VGOPUY.js":2647,"./chunk-YXSCBWTU.js":2658,"./chunk-Z4BLTVTB.js":2659,"@metamask/controller-utils":2672,"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s,i,a,o,c,l,u,d,h,f=e("./chunk-YXSCBWTU.js"),p=e("./chunk-S6VGOPUY.js"),m=e("./chunk-RAOYRJ25.js"),g=e("./chunk-Z4BLTVTB.js"),v=e("@metamask/controller-utils"),y=e("@metamask/utils").createModuleLogger.call(void 0,p.projectLogger,"linea-gas-fee-flow"),b=[v.ChainId["linea-mainnet"],v.ChainId["linea-goerli"],v.ChainId["linea-sepolia"]],w={low:1,medium:1.35,high:1.7},S={low:1,medium:1.05,high:1.1};n=new WeakSet,s=async function(e){const{ethQuery:t,transactionMeta:r}=e,n=await g.__privateMethod.call(void 0,this,i,a).call(this,r,t);y("Received Linea response",n);const s=g.__privateMethod.call(void 0,this,o,c).call(this,n.baseFeePerGas,w);y("Generated base fees",g.__privateMethod.call(void 0,this,d,h).call(this,s));const f=g.__privateMethod.call(void 0,this,o,c).call(this,n.priorityFeePerGas,S);y("Generated priority fees",g.__privateMethod.call(void 0,this,d,h).call(this,f));const p=g.__privateMethod.call(void 0,this,l,u).call(this,s,f);y("Generated max fees",g.__privateMethod.call(void 0,this,d,h).call(this,p));return{estimates:Object.values(m.GasFeeEstimateLevel).reduce(((e,t)=>({...e,[t]:{maxFeePerGas:v.toHex.call(void 0,p[t]),maxPriorityFeePerGas:v.toHex.call(void 0,f[t])}})),{type:"fee-market"})}},i=new WeakSet,a=function(e,t){return v.query.call(void 0,t,"linea_estimateGas",[{from:e.txParams.from,to:e.txParams.to,value:e.txParams.value,input:e.txParams.data,gasPrice:"0x100000000"}])},o=new WeakSet,c=function(e,t){const r=v.hexToBN.call(void 0,e);return{low:r.muln(t.low),medium:r.muln(t.medium),high:r.muln(t.high)}},l=new WeakSet,u=function(e,t){return{low:e.low.add(t.low),medium:e.medium.add(t.medium),high:e.high.add(t.high)}},d=new WeakSet,h=function(e){return Object.values(m.GasFeeEstimateLevel).map((t=>e[t].toString(10)))},r.LineaGasFeeFlow=class{constructor(){g.__privateAdd.call(void 0,this,n),g.__privateAdd.call(void 0,this,i),g.__privateAdd.call(void 0,this,o),g.__privateAdd.call(void 0,this,l),g.__privateAdd.call(void 0,this,d)}matchesTransaction(e){return b.includes(e.chainId)}async getGasFees(e){try{return await g.__privateMethod.call(void 0,this,n,s).call(this,e)}catch(t){return y("Using default flow as fallback due to error",t),(new(0,f.DefaultGasFeeFlow)).getGasFees(e)}}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-Q6Q44V4W.js"}],[2646,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e=>(e.approved="approved",e.cancelled="cancelled",e.confirmed="confirmed",e.dropped="dropped",e.failed="failed",e.rejected="rejected",e.signed="signed",e.submitted="submitted",e.unapproved="unapproved",e))(n||{}),s=(e=>(e.MM_MOBILE="metamask_mobile",e.MM_EXTENSION="metamask_extension",e.OTHER="other_device",e))(s||{}),i=(e=>(e.cancel="cancel",e.contractInteraction="contractInteraction",e.deployContract="contractDeployment",e.ethDecrypt="eth_decrypt",e.ethGetEncryptionPublicKey="eth_getEncryptionPublicKey",e.incoming="incoming",e.personalSign="personal_sign",e.retry="retry",e.simpleSend="simpleSend",e.signTypedData="eth_signTypedData",e.smart="smart",e.swap="swap",e.swapAndSend="swapAndSend",e.swapApproval="swapApproval",e.tokenMethodApprove="approve",e.tokenMethodSafeTransferFrom="safetransferfrom",e.tokenMethodTransfer="transfer",e.tokenMethodTransferFrom="transferfrom",e.tokenMethodSetApprovalForAll="setapprovalforall",e.tokenMethodIncreaseAllowance="increaseAllowance",e))(i||{}),a=(e=>(e.legacy="0x0",e.accessList="0x1",e.feeMarket="0x2",e))(a||{}),o=(e=>(e.CUSTOM="custom",e.DAPP_SUGGESTED="dappSuggested",e.MEDIUM="medium",e))(o||{}),c=(e=>(e.Low="low",e.Medium="medium",e.High="high",e))(c||{}),l=(e=>(e.FeeMarket="fee-market",e.Legacy="legacy",e.GasPrice="eth_gasPrice",e))(l||{}),u=(e=>(e.erc20="erc20",e.erc721="erc721",e.erc1155="erc1155",e))(u||{}),d=(e=>(e.ChainNotSupported="chain-not-supported",e.Disabled="disabled",e.InvalidResponse="invalid-response",e.Reverted="reverted",e))(d||{});r.TransactionStatus=n,r.WalletDevice=s,r.TransactionType=i,r.TransactionEnvelopeType=a,r.UserFeeLevel=o,r.GasFeeEstimateLevel=c,r.GasFeeEstimateType=l,r.SimulationTokenStandard=u,r.SimulationErrorCode=d}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-RAOYRJ25.js"}],[2647,{"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils"),s=n.createProjectLogger.call(void 0,"transaction-controller"),i=n.createModuleLogger.call(void 0,s,"incoming-transactions");r.createModuleLogger=n.createModuleLogger,r.projectLogger=s,r.incomingTransactionsLogger=i}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-S6VGOPUY.js"}],[2648,{"@ethersproject/abi":483,"@metamask/controller-utils":2672,"@metamask/metamask-eth-abis":1654},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@ethersproject/abi"),s=e("@metamask/controller-utils"),i=e("@metamask/metamask-eth-abis"),a=new(0,n.Interface)(i.abiERC20),o=new(0,n.Interface)(i.abiERC721),c=new(0,n.Interface)(i.abiERC1155),l=new(0,n.Interface)(i.abiFiatTokenV2);r.ESTIMATE_GAS_ERROR="eth_estimateGas rpc method error",r.determineTransactionType=async function(e,t){const{data:r,to:n}=e;if(r&&!n)return{type:"contractDeployment",getCodeResponse:void 0};const{contractCode:i,isContractAddress:u}=await async function(e,t){let r;try{r=await s.query.call(void 0,e,"getCode",[t])}catch(e){r=null}const n=!!r&&("0x"!==r&&"0x0"!==r);return{contractCode:r,isContractAddress:n}}(t,n);if(!u)return{type:"simpleSend",getCodeResponse:i};const d=0!==Number(e.value??"0"),h={type:"contractInteraction",getCodeResponse:i};if(!r||d)return h;const f=function(e){if(!e)return;try{return a.parseTransaction({data:e})}catch{}try{return o.parseTransaction({data:e})}catch{}try{return c.parseTransaction({data:e})}catch{}try{return l.parseTransaction({data:e})}catch{}return}(r)?.name;if(!f)return h;const p=["approve","setapprovalforall","transfer","transferfrom","safetransferfrom","increaseAllowance"].find((e=>e.toLowerCase()===f.toLowerCase()));return p?{type:p,getCodeResponse:i}:h}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-SD6CWFDF.js"}],[2649,{"fast-json-patch":3848,lodash:4322},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s=e("fast-json-patch"),i=(n=s)&&n.__esModule?n:{default:n},a=e("lodash"),o=["/status","/txParams/gasPrice","/txParams/gas","/estimatedBaseFee","/blockTimestamp"];function c(e,t,r){const n=i.default.compare(e,t);return n[0]&&(r&&(n[0].note=r),n[0].timestamp=Date.now()),n}function l(e){return a.cloneDeep.call(void 0,e).reduce(((e,t)=>i.default.applyPatch(e,t).newDocument))}function u(e){const t={...e};return delete t.history,a.cloneDeep.call(void 0,t)}r.MAX_TRANSACTION_HISTORY_LENGTH=100,r.DISPLAYED_TRANSACTION_HISTORY_PATHS=o,r.addInitialHistorySnapshot=function(e){const t=u(e);return a.merge.call(void 0,{},e,{history:[t]})},r.updateTransactionHistory=function(e,t){if(!e.history)return e;const r=u(e),n=c(l(e.history),r,t);if(0===n.length)return e;let s=[...e.history,n];return s.length>100&&(s=function(e){const t=e[0],r=e.slice(1),n=r.findIndex((e=>!e.some((({path:e})=>o.includes(e)))));if(-1===n)return e;const s=n===r.length-1?n-1:n+1,i=Math.min(n,s),a=r[i],u=r[i+1],d=l([t,...r.slice(0,i)]),h=l([d,a,u]),f=c(d,h,`${String(a[0].note)}, ${String(u[0].note)}`);return r.splice(i,2,f),[t,...r]}(s)),a.merge.call(void 0,{},e,{history:s})}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-TIE3CPF7.js"}],[2650,{"./chunk-Z4BLTVTB.js":2659,"@metamask/controller-utils":2672},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s,i,a=e("./chunk-Z4BLTVTB.js"),o=e("@metamask/controller-utils"),c=1e15;n=new WeakMap,s=new WeakSet,i=function(e,t){const r=Math.ceil(e/t);return o.toHex.call(void 0,r)},r.TestGasFeeFlow=class{constructor(){a.__privateAdd.call(void 0,this,s),a.__privateAdd.call(void 0,this,n,1)}matchesTransaction(e){return!0}async getGasFees(e){const{transactionMeta:t}=e,{txParams:r}=t,{gas:o}=r;if(!o)throw new Error("Cannot estimate fee without gas value");const l=parseInt(o,16),u=.5*c,d=(a.__privateGet.call(void 0,this,n)+1)*c,h=a.__privateGet.call(void 0,this,n)*c,f=d-u,p=h-u,m=d+u,g=h+u;return a.__privateSet.call(void 0,this,n,a.__privateGet.call(void 0,this,n)+1),{estimates:{type:"fee-market",low:{maxFeePerGas:a.__privateMethod.call(void 0,this,s,i).call(this,f,l),maxPriorityFeePerGas:a.__privateMethod.call(void 0,this,s,i).call(this,p,l)},medium:{maxFeePerGas:a.__privateMethod.call(void 0,this,s,i).call(this,d,l),maxPriorityFeePerGas:a.__privateMethod.call(void 0,this,s,i).call(this,h,l)},high:{maxFeePerGas:a.__privateMethod.call(void 0,this,s,i).call(this,m,l),maxPriorityFeePerGas:a.__privateMethod.call(void 0,this,s,i).call(this,g,l)}}}}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-TJMQEH57.js"}],[2651,{"@metamask/controller-utils":2672,"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/controller-utils"),s=e("@metamask/utils"),i={data:e=>s.add0x.call(void 0,c(e)),from:e=>s.add0x.call(void 0,e).toLowerCase(),gas:e=>s.add0x.call(void 0,e),gasLimit:e=>s.add0x.call(void 0,e),gasPrice:e=>s.add0x.call(void 0,e),nonce:e=>s.add0x.call(void 0,e),to:e=>s.add0x.call(void 0,e).toLowerCase(),value:e=>s.add0x.call(void 0,e),maxFeePerGas:e=>s.add0x.call(void 0,e),maxPriorityFeePerGas:e=>s.add0x.call(void 0,e),estimatedBaseFee:e=>s.add0x.call(void 0,e),type:e=>s.add0x.call(void 0,e)};var a=(e,t)=>s.add0x.call(void 0,`${parseInt(""+e*t,10).toString(16)}`);function o(e){try{return JSON.parse(JSON.stringify(e)),!0}catch{return!1}}function c(e){const t=e.toLowerCase().startsWith("0x")?e.slice(0,2):"",r=t?e.slice(2):e;return t+(r.length%2==0?r:`0${r}`)}r.ESTIMATE_GAS_ERROR="eth_estimateGas rpc method error",r.normalizeTransactionParams=function(e){const t={from:""};for(const r of s.getKnownPropertyNames.call(void 0,i))e[r]&&(t[r]=i[r](e[r]));return t.value||(t.value="0x0"),t},r.isEIP1559Transaction=function(e){const t=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);return t(e,"maxFeePerGas")&&t(e,"maxPriorityFeePerGas")},r.validateGasValues=e=>{Object.keys(e).forEach((t=>{const r=e[t];if("string"!=typeof r||!s.isStrictHexString.call(void 0,r))throw new TypeError(`expected hex string for ${t} but received: ${r}`)}))},r.isFeeMarketEIP1559Values=e=>void 0!==e?.maxFeePerGas||void 0!==e?.maxPriorityFeePerGas,r.isGasPriceValue=e=>void 0!==e?.gasPrice,r.getIncreasedPriceHex=a,r.getIncreasedPriceFromExisting=(e,t)=>a(n.convertHexToDecimal.call(void 0,e),t),r.validateMinimumIncrease=function(e,t){const r=n.convertHexToDecimal.call(void 0,e),s=n.convertHexToDecimal.call(void 0,t);if(r>=s)return e;throw new Error(`The proposed value: ${r} should meet or exceed the minimum value: ${s}`)},r.validateIfTransactionUnapproved=function(e,t){if("unapproved"!==e?.status)throw new Error(`TransactionsController: Can only call ${t} on an unapproved transaction.\n      Current tx status: ${e?.status}`)},r.normalizeTxError=function(e){return{name:e.name,message:e.message,stack:e.stack,code:e.code,rpc:o(e.value)?e.value:void 0}},r.normalizeGasFeeValues=function(e){const t=e=>"string"==typeof e?s.add0x.call(void 0,e):e;return"gasPrice"in e?{gasPrice:t(e.gasPrice)}:{maxFeePerGas:t(e.maxFeePerGas),maxPriorityFeePerGas:t(e.maxPriorityFeePerGas)}},r.padHexToEvenLength=c}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-UGFBA4GV.js"}],[2652,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n={MAINNET:"0x1",GOERLI:"0x5",BASE:"0x2105",BASE_TESTNET:"0x14a33",BSC:"0x38",BSC_TESTNET:"0x61",OPTIMISM:"0xa",OPTIMISM_TESTNET:"0x1a4",OPBNB:"0xcc",OPBNB_TESTNET:"0x15eb",OPTIMISM_SEPOLIA:"0xaa37dc",POLYGON:"0x89",POLYGON_TESTNET:"0x13881",AVALANCHE:"0xa86a",AVALANCHE_TESTNET:"0xa869",FANTOM:"0xfa",FANTOM_TESTNET:"0xfa2",SEPOLIA:"0xaa36a7",LINEA_GOERLI:"0xe704",LINEA_SEPOLIA:"0xe705",LINEA_MAINNET:"0xe708",MOONBEAM:"0x504",MOONBEAM_TESTNET:"0x507",MOONRIVER:"0x505",GNOSIS:"0x64",ARBITRUM:"0xa4b1",ZKSYNC_ERA:"0x144",ZORA:"0x76adf1",SCROLL:"0x82750",SCROLL_SEPOLIA:"0x8274f"},s="etherscan.io",i="api",a={[n.GOERLI]:{domain:s,subdomain:`${i}-goerli`},[n.MAINNET]:{domain:s,subdomain:i},[n.SEPOLIA]:{domain:s,subdomain:`${i}-sepolia`},[n.LINEA_GOERLI]:{domain:"lineascan.build",subdomain:`${i}-goerli`},[n.LINEA_SEPOLIA]:{domain:"lineascan.build",subdomain:`${i}-sepolia`},[n.LINEA_MAINNET]:{domain:"lineascan.build",subdomain:i},[n.BSC]:{domain:"bscscan.com",subdomain:i},[n.BSC_TESTNET]:{domain:"bscscan.com",subdomain:`${i}-testnet`},[n.OPTIMISM]:{domain:s,subdomain:`${i}-optimistic`},[n.OPTIMISM_SEPOLIA]:{domain:s,subdomain:`${i}-sepolia-optimistic`},[n.POLYGON]:{domain:"polygonscan.com",subdomain:i},[n.POLYGON_TESTNET]:{domain:"polygonscan.com",subdomain:`${i}-mumbai`},[n.AVALANCHE]:{domain:"snowtrace.io",subdomain:i},[n.AVALANCHE_TESTNET]:{domain:"snowtrace.io",subdomain:`${i}-testnet`},[n.FANTOM]:{domain:"ftmscan.com",subdomain:i},[n.FANTOM_TESTNET]:{domain:"ftmscan.com",subdomain:`${i}-testnet`},[n.MOONBEAM]:{domain:"moonscan.io",subdomain:`${i}-moonbeam`},[n.MOONBEAM_TESTNET]:{domain:"moonscan.io",subdomain:`${i}-moonbase`},[n.MOONRIVER]:{domain:"moonscan.io",subdomain:`${i}-moonriver`},[n.GNOSIS]:{domain:"gnosisscan.io",subdomain:`${i}-gnosis`}},o={[n.OPTIMISM]:1,[n.OPTIMISM_SEPOLIA]:1};r.CHAIN_IDS=n,r.DEFAULT_ETHERSCAN_DOMAIN=s,r.DEFAULT_ETHERSCAN_SUBDOMAIN_PREFIX=i,r.ETHERSCAN_SUPPORTED_NETWORKS=a,r.GAS_BUFFER_CHAIN_OVERRIDES=o,r.ABI_SIMULATION_ERC20_WRAPPED=[{anonymous:!1,inputs:[{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Withdrawal",type:"event"}],r.ABI_SIMULATION_ERC721_LEGACY=[{anonymous:!1,inputs:[{indexed:!1,name:"_from",type:"address"},{indexed:!1,name:"_to",type:"address"},{indexed:!1,name:"_tokenId",type:"uint256"}],name:"Transfer",type:"event"}]}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-UGN7PBON.js"}],[2653,{"./chunk-S6VGOPUY.js":2647,"./chunk-UGFBA4GV.js":2651,"./chunk-UGN7PBON.js":2652,"@metamask/controller-utils":2672,lodash:4322},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-UGFBA4GV.js"),s=e("./chunk-UGN7PBON.js"),i=e("./chunk-S6VGOPUY.js"),a=e("@metamask/controller-utils"),o=e("lodash"),c=i.createModuleLogger.call(void 0,i.projectLogger,"swaps"),l=5e3,u="0x0000000000000000000000000000000000000000",d={name:"Ether",address:u,decimals:18},h={name:"Binance Coin",address:u,decimals:18},f={name:"Matic",address:u,decimals:18},p={name:"Avalanche",address:u,decimals:18},m={name:"Test Ether",address:u,decimals:18},g={name:"Ether",address:u,decimals:18},v={...d},y={...d},b={...d},w={[s.CHAIN_IDS.MAINNET]:d,"0x539":m,[s.CHAIN_IDS.BSC]:h,[s.CHAIN_IDS.POLYGON]:f,[s.CHAIN_IDS.GOERLI]:g,[s.CHAIN_IDS.AVALANCHE]:p,[s.CHAIN_IDS.OPTIMISM]:y,[s.CHAIN_IDS.ARBITRUM]:v,[s.CHAIN_IDS.ZKSYNC_ERA]:b},S=["swap","swapAndSend","swapApproval"];function _(e,t){return!(!e||!t)&&e===w[t]?.address}function E(e){return new Promise((t=>setTimeout(t,e)))}r.UPDATE_POST_TX_BALANCE_TIMEOUT=l,r.UPDATE_POST_TX_BALANCE_ATTEMPTS=6,r.DEFAULT_TOKEN_ADDRESS=u,r.SWAPS_CHAINID_DEFAULT_TOKEN_MAP=w,r.SWAP_TRANSACTION_TYPES=S,r.updateSwapsTransaction=function(e,t,r,{isSwapsDisabled:s,cancelTransaction:i,messenger:a}){if(s||!S.includes(t))return e;if("swap"===t&&!1===r?.hasApproveTx&&e.simulationFails)throw i(e.id),new Error("Simulation failed");const c=r?.meta;if(!c)return e;let l=e;return"swapApproval"===t&&(l=function(e,{type:t,sourceTokenSymbol:r}){n.validateIfTransactionUnapproved.call(void 0,e,"updateSwapApprovalTransaction");let s={type:t,sourceTokenSymbol:r};return s=o.pickBy.call(void 0,{type:t,sourceTokenSymbol:r}),o.merge.call(void 0,{},e,s)}(e,c),a.publish("TransactionController:transactionNewSwapApproval",{transactionMeta:l})),"swapAndSend"===t&&(l=function(e,{approvalTxId:t,destinationTokenAddress:r,destinationTokenAmount:s,destinationTokenDecimals:i,destinationTokenSymbol:a,estimatedBaseFee:c,sourceTokenAddress:l,sourceTokenAmount:u,sourceTokenDecimals:d,sourceTokenSymbol:h,swapAndSendRecipient:f,swapMetaData:p,swapTokenValue:m,type:g}){n.validateIfTransactionUnapproved.call(void 0,e,"updateSwapTransaction");let v={approvalTxId:t,destinationTokenAddress:r,destinationTokenAmount:s,destinationTokenDecimals:i,destinationTokenSymbol:a,estimatedBaseFee:c,sourceTokenAddress:l,sourceTokenAmount:u,sourceTokenDecimals:d,sourceTokenSymbol:h,swapAndSendRecipient:f,swapMetaData:p,swapTokenValue:m,type:g};return v=o.pickBy.call(void 0,v),o.merge.call(void 0,{},e,v)}(e,c),a.publish("TransactionController:transactionNewSwapAndSend",{transactionMeta:l})),"swap"===t&&(l=function(e,{sourceTokenSymbol:t,destinationTokenSymbol:r,type:s,destinationTokenDecimals:i,destinationTokenAddress:a,swapMetaData:c,swapTokenValue:l,estimatedBaseFee:u,approvalTxId:d}){n.validateIfTransactionUnapproved.call(void 0,e,"updateSwapTransaction");let h={sourceTokenSymbol:t,destinationTokenSymbol:r,type:s,destinationTokenDecimals:i,destinationTokenAddress:a,swapMetaData:c,swapTokenValue:l,estimatedBaseFee:u,approvalTxId:d};return h=o.pickBy.call(void 0,h),o.merge.call(void 0,{},e,h)}(e,c),a.publish("TransactionController:transactionNewSwap",{transactionMeta:l})),l},r.updatePostTransactionBalance=async function(e,{ethQuery:t,getTransaction:r,updateTransaction:n}){c("Updating post transaction balance",e.id);const s=e.id;let i,o;for(let n=0;n<6;n++){c("Querying balance",{attempt:n});const u=await a.query.call(void 0,t,"getBalance",[e.txParams.from]);i={...r(s)??{}},o=i.approvalTxId?r(i.approvalTxId):void 0,i.postTxBalance=u.toString(16);const d=_(e.destinationTokenAddress,e.chainId);if(!d||e.preTxBalance!==i.postTxBalance){c("Finishing post balance update",{isDefaultTokenAddress:d,preTxBalance:e.preTxBalance,postTxBalance:i.postTxBalance});break}c("Waiting for balance to update",{delay:l}),await E(l)}return n(i,"TransactionController#updatePostTransactionBalance - Add post transaction balance"),c("Completed post balance update",i?.postTxBalance),{updatedTransactionMeta:i,approvalTransactionMeta:o}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-UT4M4XI3.js"}],[2654,{"./chunk-S6VGOPUY.js":2647,"./chunk-UGN7PBON.js":2652,"@metamask/controller-utils":2672,"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-UGN7PBON.js"),s=e("./chunk-S6VGOPUY.js"),i=e("@metamask/controller-utils"),a=e("@metamask/utils"),o=a.createModuleLogger.call(void 0,s.projectLogger,"gas"),c="0x5208",l=1.5;async function u(e,t){const r={...e},{data:n,value:s}=r,{gasLimit:c,number:l}=await async function(e){return await i.query.call(void 0,e,"getBlockByNumber",["latest",!1])}(t),d=i.hexToBN.call(void 0,c);r.data=n?a.add0x.call(void 0,n):n,r.gas=i.BNToHex.call(void 0,i.fractionBN.call(void 0,d,19,20)),r.value=s||"0x0";let h,f=r.gas;try{f=await i.query.call(void 0,t,"estimateGas",[r])}catch(e){h={reason:e.message,errorKey:e.errorKey,debug:{blockNumber:l,blockGasLimit:c}},o("Estimation failed",{...h,fallback:u})}return{blockGasLimit:c,estimatedGas:f,simulationFails:h}}function d(e,t,r){const n=i.hexToBN.call(void 0,e),s=i.hexToBN.call(void 0,t).muln(.9),c=n.muln(r);if(n.gt(s)){const t=a.add0x.call(void 0,e);return o("Using estimated value",t),t}if(c.lt(s)){const e=a.add0x.call(void 0,i.BNToHex.call(void 0,c));return o("Using padded estimate",e,r),e}const l=a.add0x.call(void 0,i.BNToHex.call(void 0,s));return o("Using 90% of block gas limit",l),l}r.log=o,r.FIXED_GAS=c,r.DEFAULT_GAS_MULTIPLIER=l,r.updateGas=async function(e){const{txMeta:t}=e,r={...t.txParams},[s,a]=await async function(e){const{isCustomNetwork:t,chainId:r,txMeta:s}=e;if(s.txParams.gas)return o("Using value from request",s.txParams.gas),[s.txParams.gas];if(await async function({ethQuery:e,txMeta:t,isCustomNetwork:r}){const{txParams:{to:n,data:s}}=t;if(r||!n||s)return!1;const a=await async function(e,t){return await i.query.call(void 0,e,"getCode",[t])}(e,n);return!a||"0x"===a}(e))return o("Using fixed value",c),[c];const{blockGasLimit:a,estimatedGas:h,simulationFails:f}=await u(s.txParams,e.ethQuery);if(t)return o("Using original estimate as custom network"),[h,f];const p=n.GAS_BUFFER_CHAIN_OVERRIDES[r]??l;return[d(h,a,p),f]}(e);t.txParams.gas=s,t.simulationFails=a,r.gas||(t.originalGasEstimate=t.txParams.gas),t.defaultGasEstimates||(t.defaultGasEstimates={}),t.defaultGasEstimates.gas=t.txParams.gas},r.estimateGas=u,r.addGasBuffer=d}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-V72C4MCR.js"}],[2655,{"./chunk-UGFBA4GV.js":2651,"@ethersproject/abi":483,"@metamask/controller-utils":2672,"@metamask/metamask-eth-abis":1654,"@metamask/rpc-errors":1884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-UGFBA4GV.js"),s=e("@ethersproject/abi"),i=e("@metamask/controller-utils"),a=e("@metamask/metamask-eth-abis"),o=e("@metamask/rpc-errors");function c(e,t){switch(t){case"maxFeePerGas":case"maxPriorityFeePerGas":if(e.type&&"0x2"!==e.type)throw o.rpcErrors.invalidParams(`Invalid transaction envelope type: specified type "${e.type}" but including maxFeePerGas and maxPriorityFeePerGas requires type: "0x2"`);break;default:if(e.type&&"0x2"===e.type)throw o.rpcErrors.invalidParams(`Invalid transaction envelope type: specified type "${e.type}" but included a gasPrice instead of maxFeePerGas and maxPriorityFeePerGas`)}}function l(e,t,r){if(void 0!==e[r])throw o.rpcErrors.invalidParams(`Invalid transaction params: specified ${t} but also included ${r}, these cannot be mixed`)}function u(e,t){if("string"!=typeof e[t])throw o.rpcErrors.invalidParams(`Invalid transaction params: ${t} is not a string. got: (${e[t]})`)}r.validateTransactionOrigin=async function(e,t,r,n){if(n!==i.ORIGIN_METAMASK){if(!e.includes(r))throw o.providerErrors.unauthorized({data:{origin:n}})}else if(r!==t)throw o.rpcErrors.internal({message:"Internally initiated transaction is using invalid account.",data:{origin:n,fromAddress:r,selectedAddress:t}})},r.validateTxParams=function(e,t=!0){!function(e,t){if(n.isEIP1559Transaction.call(void 0,e)&&!t)throw o.rpcErrors.invalidParams("Invalid transaction params: params specify an EIP-1559 transaction but the current network does not support EIP-1559")}(e,t),function(e){if(!e||"string"!=typeof e)throw o.rpcErrors.invalidParams(`Invalid "from" address ${e}: not a string.`);if(!i.isValidHexAddress.call(void 0,e))throw o.rpcErrors.invalidParams('Invalid "from" address.')}(e.from),function(e){if("0x"===e.to||void 0===e.to){if(!e.data)throw o.rpcErrors.invalidParams('Invalid "to" address.');delete e.to}else if(void 0!==e.to&&!i.isValidHexAddress.call(void 0,e.to))throw o.rpcErrors.invalidParams('Invalid "to" address.')}(e),function(e){if(void 0!==e){if(e.includes("-"))throw o.rpcErrors.invalidParams(`Invalid transaction value "${e}": not a positive number.`);if(e.includes("."))throw o.rpcErrors.invalidParams(`Invalid transaction value "${e}": number must be in wei.`);const t=parseInt(e,10);if(!(Number.isFinite(t)&&!Number.isNaN(t)&&!isNaN(Number(e))&&Number.isSafeInteger(t)))throw o.rpcErrors.invalidParams(`Invalid transaction value ${e}: number must be a valid number.`)}}(e.value),function(e){if(e){const t=new(0,s.Interface)(a.abiERC20);try{t.parseTransaction({data:e})}catch(e){if(e.message.match(/BUFFER_OVERRUN/u))throw o.rpcErrors.invalidParams("Invalid transaction params: data out-of-bounds, BUFFER_OVERRUN.")}}}(e.data),function(e){if(void 0!==e&&"number"!=typeof e&&"string"!=typeof e)throw o.rpcErrors.invalidParams(`Invalid transaction params: chainId is not a Number or hex string. got: (${e})`)}(e.chainId),function(e){e.gasPrice&&(c(e,"gasPrice"),l(e,"gasPrice","maxFeePerGas"),l(e,"gasPrice","maxPriorityFeePerGas"),u(e,"gasPrice"));e.maxFeePerGas&&(c(e,"maxFeePerGas"),l(e,"maxFeePerGas","gasPrice"),u(e,"maxFeePerGas"));e.maxPriorityFeePerGas&&(c(e,"maxPriorityFeePerGas"),l(e,"maxPriorityFeePerGas","gasPrice"),u(e,"maxPriorityFeePerGas"))}(e)}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-VH47Q6TS.js"}],[2656,{"./chunk-UGN7PBON.js":2652,"./chunk-YVCX6Z75.js":2657},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-YVCX6Z75.js"),s=e("./chunk-UGN7PBON.js"),i=[s.CHAIN_IDS.SCROLL,s.CHAIN_IDS.SCROLL_SEPOLIA],a=class extends n.OracleLayer1GasFeeFlow{constructor(){super("0x5300000000000000000000000000000000000002",!0)}matchesTransaction(e){return i.includes(e.chainId)}};r.ScrollLayer1GasFeeFlow=a}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-WR5F34OW.js"}],[2657,{"./chunk-S6VGOPUY.js":2647,"./chunk-Z4BLTVTB.js":2659,"@ethereumjs/common":441,"@ethereumjs/tx":449,"@ethersproject/contracts":506,"@ethersproject/providers":544,"@metamask/utils":2739,buffer:3520,lodash:4322},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n,s,i,a,o,c,l,u,d,h,f=e("./chunk-S6VGOPUY.js"),p=e("./chunk-Z4BLTVTB.js"),m=e("@ethereumjs/common"),g=e("@ethereumjs/tx"),v=e("@ethersproject/contracts"),y=e("@ethersproject/providers"),b=e("@metamask/utils"),w=e("lodash"),S=b.createModuleLogger.call(void 0,f.projectLogger,"oracle-layer1-gas-fee-flow"),_=[{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"getL1Fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];n=new WeakMap,s=new WeakMap,i=new WeakSet,a=async function(e){const{provider:t,transactionMeta:r}=e,i=new(0,v.Contract)(p.__privateGet.call(void 0,this,n),_,new(0,y.Web3Provider)(t)),a=p.__privateMethod.call(void 0,this,o,c).call(this,r,p.__privateGet.call(void 0,this,s)).serialize(),l=await i.getL1Fee(a);if(void 0===l)throw new Error("No value returned from oracle contract");return{layer1Fee:l.toHexString()}},o=new WeakSet,c=function(e,r){const n=p.__privateMethod.call(void 0,this,l,u).call(this,e),s=p.__privateMethod.call(void 0,this,d,h).call(this,e);let i=g.TransactionFactory.fromTxData(n,{common:s});if(r){const e=t.from("abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789","hex");i=i.sign(e)}return i},l=new WeakSet,u=function(e){return{...w.omit.call(void 0,e.txParams,"gas"),gasLimit:e.txParams.gas}},d=new WeakSet,h=function(e){const t=Number(e.chainId);return m.Common.custom({chainId:t,defaultHardfork:m.Hardfork.London})},r.OracleLayer1GasFeeFlow=class{constructor(e,t){p.__privateAdd.call(void 0,this,i),p.__privateAdd.call(void 0,this,o),p.__privateAdd.call(void 0,this,l),p.__privateAdd.call(void 0,this,d),p.__privateAdd.call(void 0,this,n,void 0),p.__privateAdd.call(void 0,this,s,void 0),p.__privateSet.call(void 0,this,n,e),p.__privateSet.call(void 0,this,s,t??!1)}async getLayer1Fee(e){try{return await p.__privateMethod.call(void 0,this,i,a).call(this,e)}catch(e){throw S("Failed to get oracle layer 1 gas fee",e),new Error("Failed to get oracle layer 1 gas fee")}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-YVCX6Z75.js"}],[2658,{"./chunk-3ZRHCVVS.js":2630,"./chunk-RAOYRJ25.js":2646,"./chunk-S6VGOPUY.js":2647,"./chunk-Z4BLTVTB.js":2659,"@metamask/gas-fee-controller":1446,"@metamask/utils":2739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s,i,a,o,c,l,u,d,h,f=e("./chunk-3ZRHCVVS.js"),p=e("./chunk-S6VGOPUY.js"),m=e("./chunk-RAOYRJ25.js"),g=e("./chunk-Z4BLTVTB.js"),v=e("@metamask/gas-fee-controller"),y=e("@metamask/utils").createModuleLogger.call(void 0,p.projectLogger,"default-gas-fee-flow");n=new WeakSet,s=function(e){return{type:"fee-market",...Object.values(m.GasFeeEstimateLevel).reduce(((t,r)=>({...t,[r]:g.__privateMethod.call(void 0,this,l,u).call(this,e,r)})),{})}},i=new WeakSet,a=function(e){return{type:"legacy",...Object.values(m.GasFeeEstimateLevel).reduce(((t,r)=>({...t,[r]:g.__privateMethod.call(void 0,this,d,h).call(this,e,r)})),{})}},o=new WeakSet,c=function(e){return{type:"eth_gasPrice",gasPrice:f.gweiDecimalToWeiHex.call(void 0,e.gasPrice)}},l=new WeakSet,u=function(e,t){return{maxFeePerGas:f.gweiDecimalToWeiHex.call(void 0,e[t].suggestedMaxFeePerGas),maxPriorityFeePerGas:f.gweiDecimalToWeiHex.call(void 0,e[t].suggestedMaxPriorityFeePerGas)}},d=new WeakSet,h=function(e,t){return f.gweiDecimalToWeiHex.call(void 0,e[t])},r.DefaultGasFeeFlow=class{constructor(){g.__privateAdd.call(void 0,this,n),g.__privateAdd.call(void 0,this,i),g.__privateAdd.call(void 0,this,o),g.__privateAdd.call(void 0,this,l),g.__privateAdd.call(void 0,this,d)}matchesTransaction(e){return!0}async getGasFees(e){const{gasFeeControllerData:t}=e,{gasEstimateType:r,gasFeeEstimates:l}=t;let u;switch(r){case v.GAS_ESTIMATE_TYPES.FEE_MARKET:y("Using fee market estimates",l),u=g.__privateMethod.call(void 0,this,n,s).call(this,l);break;case v.GAS_ESTIMATE_TYPES.LEGACY:y("Using legacy estimates",l),u=g.__privateMethod.call(void 0,this,i,a).call(this,l);break;case v.GAS_ESTIMATE_TYPES.ETH_GASPRICE:y("Using eth_gasPrice estimates",l),u=g.__privateMethod.call(void 0,this,o,c).call(this,l);break;default:throw new Error(`Unsupported gas estimate type: ${r}`)}return{estimates:u}}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-YXSCBWTU.js"}],[2659,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};r.__privateGet=(e,t,r)=>(n(e,t,"read from private field"),r?r.call(e):t.get(e)),r.__privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},r.__privateSet=(e,t,r,s)=>(n(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),r.__privateMethod=(e,t,r)=>(n(e,t,"access private method"),r)}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/chunk-Z4BLTVTB.js"}],[2660,{"./chunk-2XKEAKQG.js":2629,"./chunk-3ZRHCVVS.js":2630,"./chunk-5KMU2IAT.js":2631,"./chunk-7LXE4KHV.js":2632,"./chunk-7MKQDZKY.js":2633,"./chunk-DLOQPH4M.js":2634,"./chunk-DTDTOMTB.js":2635,"./chunk-EQT25RSP.js":2636,"./chunk-FDUCRHYT.js":2637,"./chunk-HMOSP33F.js":2638,"./chunk-IT3SYNZ6.js":2639,"./chunk-KT6UAKBB.js":2640,"./chunk-NYKRCWBG.js":2641,"./chunk-OQNGSDIH.js":2642,"./chunk-PRUNMTRD.js":2643,"./chunk-PUESYN62.js":2644,"./chunk-Q6Q44V4W.js":2645,"./chunk-RAOYRJ25.js":2646,"./chunk-S6VGOPUY.js":2647,"./chunk-SD6CWFDF.js":2648,"./chunk-TIE3CPF7.js":2649,"./chunk-TJMQEH57.js":2650,"./chunk-UGFBA4GV.js":2651,"./chunk-UGN7PBON.js":2652,"./chunk-UT4M4XI3.js":2653,"./chunk-V72C4MCR.js":2654,"./chunk-VH47Q6TS.js":2655,"./chunk-WR5F34OW.js":2656,"./chunk-YVCX6Z75.js":2657,"./chunk-YXSCBWTU.js":2658,"./chunk-Z4BLTVTB.js":2659},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-OQNGSDIH.js");e("./chunk-VH47Q6TS.js"),e("./chunk-Q6Q44V4W.js"),e("./chunk-YXSCBWTU.js"),e("./chunk-NYKRCWBG.js"),e("./chunk-WR5F34OW.js"),e("./chunk-YVCX6Z75.js"),e("./chunk-TJMQEH57.js");var s=e("./chunk-TIE3CPF7.js");e("./chunk-PRUNMTRD.js"),e("./chunk-IT3SYNZ6.js"),e("./chunk-KT6UAKBB.js");var i=e("./chunk-SD6CWFDF.js");e("./chunk-DTDTOMTB.js"),e("./chunk-PUESYN62.js"),e("./chunk-5KMU2IAT.js"),e("./chunk-7LXE4KHV.js"),e("./chunk-3ZRHCVVS.js"),e("./chunk-UT4M4XI3.js");var a=e("./chunk-UGFBA4GV.js");e("./chunk-V72C4MCR.js"),e("./chunk-HMOSP33F.js"),e("./chunk-EQT25RSP.js"),e("./chunk-FDUCRHYT.js"),e("./chunk-UGN7PBON.js"),e("./chunk-7MKQDZKY.js"),e("./chunk-2XKEAKQG.js");var o=e("./chunk-DLOQPH4M.js");e("./chunk-S6VGOPUY.js");var c=e("./chunk-RAOYRJ25.js");e("./chunk-Z4BLTVTB.js"),r.CANCEL_RATE=n.CANCEL_RATE,r.DISPLAYED_TRANSACTION_HISTORY_PATHS=s.DISPLAYED_TRANSACTION_HISTORY_PATHS,r.GasFeeEstimateLevel=c.GasFeeEstimateLevel,r.GasFeeEstimateType=c.GasFeeEstimateType,r.HARDFORK=n.HARDFORK,r.MAX_TRANSACTION_HISTORY_LENGTH=s.MAX_TRANSACTION_HISTORY_LENGTH,r.SimulationErrorCode=c.SimulationErrorCode,r.SimulationTokenStandard=c.SimulationTokenStandard,r.TransactionController=n.TransactionController,r.TransactionEnvelopeType=c.TransactionEnvelopeType,r.TransactionStatus=c.TransactionStatus,r.TransactionType=c.TransactionType,r.UserFeeLevel=c.UserFeeLevel,r.WalletDevice=c.WalletDevice,r.determineTransactionType=i.determineTransactionType,r.isEIP1559Transaction=a.isEIP1559Transaction,r.mergeGasFeeEstimates=o.mergeGasFeeEstimates,r.normalizeTransactionParams=a.normalizeTransactionParams}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/index.js"}],[2661,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=class{constructor(e={},t={}){this.defaultConfig={},this.defaultState={},this.disabled=!1,this.name="BaseController",this.internalConfig=this.defaultConfig,this.internalState=this.defaultState,this.internalListeners=[],this.initialState=t,this.initialConfig=e}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,t=!1,r=!0){if(r){this.internalConfig=t?e:Object.assign(this.internalConfig,e);for(const e of Object.keys(this.internalConfig)){const t=this.internalConfig[e];void 0!==t&&(this[e]=t)}}else for(const t of Object.keys(e))if(void 0!==this.internalConfig[t]){const r=e[t];this.internalConfig[t]=r,this[t]=r}}notify(){this.disabled||this.internalListeners.forEach((e=>{e(this.internalState)}))}subscribe(e){this.internalListeners.push(e)}unsubscribe(e){const t=this.internalListeners.findIndex((t=>e===t));return t>-1&&this.internalListeners.splice(t,1),t>-1}update(e,t=!1){this.internalState=t?Object.assign({},e):Object.assign({},this.internalState,e),this.notify()}},s=n;r.BaseControllerV1=n,r.BaseControllerV1_default=s}}},{package:"@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/chunk-FTHCJ6HY.js"}],[2662,{"./chunk-UJFCPTF3.js":2664,"./chunk-Z4BLTVTB.js":2665},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s,i,a,o=e("./chunk-UJFCPTF3.js"),c=e("./chunk-Z4BLTVTB.js");n=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,r.ControllerMessenger=class{constructor(){c.__privateAdd.call(void 0,this,n,new Map),c.__privateAdd.call(void 0,this,s,new Map),c.__privateAdd.call(void 0,this,i,new Map),c.__privateAdd.call(void 0,this,a,new Map)}registerActionHandler(e,t){if(c.__privateGet.call(void 0,this,n).has(e))throw new Error(`A handler for ${e} has already been registered`);c.__privateGet.call(void 0,this,n).set(e,t)}unregisterActionHandler(e){c.__privateGet.call(void 0,this,n).delete(e)}clearActions(){c.__privateGet.call(void 0,this,n).clear()}call(e,...t){const r=c.__privateGet.call(void 0,this,n).get(e);if(!r)throw new Error(`A handler for ${e} has not been registered`);return r(...t)}registerInitialEventPayload({eventType:e,getPayload:t}){c.__privateGet.call(void 0,this,i).set(e,t)}publish(e,...t){const r=c.__privateGet.call(void 0,this,s).get(e);if(r)for(const[e,n]of r.entries())try{if(n){const r=c.__privateGet.call(void 0,this,a).get(e),s=n(...t);s!==r&&(c.__privateGet.call(void 0,this,a).set(e,s),e(s,r))}else e(...t)}catch(e){setTimeout((()=>{throw e}))}}subscribe(e,t,r){let n=c.__privateGet.call(void 0,this,s).get(e);if(n||(n=new Map,c.__privateGet.call(void 0,this,s).set(e,n)),n.set(t,r),r){const n=c.__privateGet.call(void 0,this,i).get(e);if(n){const e=r(...n());c.__privateGet.call(void 0,this,a).set(t,e)}}}unsubscribe(e,t){const r=c.__privateGet.call(void 0,this,s).get(e);if(!r||!r.has(t))throw new Error(`Subscription not found for event: ${e}`);r.get(t)&&c.__privateGet.call(void 0,this,a).delete(t),r.delete(t)}clearEventSubscriptions(e){c.__privateGet.call(void 0,this,s).delete(e)}clearSubscriptions(){c.__privateGet.call(void 0,this,s).clear()}getRestricted({name:e,allowedActions:t,allowedEvents:r}){return new(0,o.RestrictedControllerMessenger)({controllerMessenger:this,name:e,allowedActions:t,allowedEvents:r})}}}}},{package:"@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/chunk-G42723LG.js"}],[2663,{"./chunk-Z4BLTVTB.js":2665,immer:4126},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s=e("./chunk-Z4BLTVTB.js"),i=e("immer");i.enablePatches.call(void 0);function a(e,t,r){return Object.keys(e).reduce(((n,s)=>{try{const i=t[s];if(!i)throw new Error(`No metadata found for '${String(s)}'`);const a=i[r],o=e[s];return"function"==typeof a?n[s]=a(o):a&&(n[s]=o),n}catch(e){return setTimeout((()=>{throw e})),n}}),{})}n=new WeakMap,r.BaseController=class{constructor({messenger:e,metadata:t,name:r,state:a}){s.__privateAdd.call(void 0,this,n,void 0),this.messagingSystem=e,this.name=r,s.__privateSet.call(void 0,this,n,i.freeze.call(void 0,a,!0)),this.metadata=t,this.messagingSystem.registerActionHandler(`${r}:getState`,(()=>this.state)),this.messagingSystem.registerInitialEventPayload({eventType:`${r}:stateChange`,getPayload:()=>[this.state,[]]})}get state(){return s.__privateGet.call(void 0,this,n)}set state(e){throw new Error("Controller state cannot be directly mutated; use 'update' method instead.")}update(e){const[t,r,a]=i.produceWithPatches.call(void 0,s.__privateGet.call(void 0,this,n),e);return s.__privateSet.call(void 0,this,n,t),this.messagingSystem.publish(`${this.name}:stateChange`,t,r),{nextState:t,patches:r,inversePatches:a}}applyPatches(e){const t=i.applyPatches.call(void 0,s.__privateGet.call(void 0,this,n),e);s.__privateSet.call(void 0,this,n,t),this.messagingSystem.publish(`${this.name}:stateChange`,t,e)}destroy(){this.messagingSystem.clearEventSubscriptions(`${this.name}:stateChange`)}},r.getAnonymizedState=function(e,t){return a(e,t,"anonymous")},r.getPersistentState=function(e,t){return a(e,t,"persist")}}}},{package:"@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/chunk-IURK6TKD.js"}],[2664,{"./chunk-Z4BLTVTB.js":2665},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s,i,a,o,c,l,u,d,h,f=e("./chunk-Z4BLTVTB.js");n=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,o=new WeakSet,c=function(e){const t=f.__privateGet.call(void 0,this,a);return f.__privateMethod.call(void 0,this,d,h).call(this,e)||null!==t&&t.includes(e)},l=new WeakSet,u=function(e){const t=f.__privateGet.call(void 0,this,i);return f.__privateMethod.call(void 0,this,d,h).call(this,e)||null!==t&&t.includes(e)},d=new WeakSet,h=function(e){return e.startsWith(`${f.__privateGet.call(void 0,this,s)}:`)},r.RestrictedControllerMessenger=class{constructor({controllerMessenger:e,name:t,allowedActions:r,allowedEvents:c}){f.__privateAdd.call(void 0,this,o),f.__privateAdd.call(void 0,this,l),f.__privateAdd.call(void 0,this,d),f.__privateAdd.call(void 0,this,n,void 0),f.__privateAdd.call(void 0,this,s,void 0),f.__privateAdd.call(void 0,this,i,void 0),f.__privateAdd.call(void 0,this,a,void 0),f.__privateSet.call(void 0,this,n,e),f.__privateSet.call(void 0,this,s,t),f.__privateSet.call(void 0,this,i,r),f.__privateSet.call(void 0,this,a,c)}registerActionHandler(e,t){if(!f.__privateMethod.call(void 0,this,d,h).call(this,e))throw new Error(`Only allowed registering action handlers prefixed by '${f.__privateGet.call(void 0,this,s)}:'`);f.__privateGet.call(void 0,this,n).registerActionHandler(e,t)}unregisterActionHandler(e){if(!f.__privateMethod.call(void 0,this,d,h).call(this,e))throw new Error(`Only allowed unregistering action handlers prefixed by '${f.__privateGet.call(void 0,this,s)}:'`);f.__privateGet.call(void 0,this,n).unregisterActionHandler(e)}call(e,...t){if(!f.__privateMethod.call(void 0,this,l,u).call(this,e))throw new Error(`Action missing from allow list: ${e}`);return f.__privateGet.call(void 0,this,n).call(e,...t)}registerInitialEventPayload({eventType:e,getPayload:t}){if(!f.__privateMethod.call(void 0,this,d,h).call(this,e))throw new Error(`Only allowed publishing events prefixed by '${f.__privateGet.call(void 0,this,s)}:'`);f.__privateGet.call(void 0,this,n).registerInitialEventPayload({eventType:e,getPayload:t})}publish(e,...t){if(!f.__privateMethod.call(void 0,this,d,h).call(this,e))throw new Error(`Only allowed publishing events prefixed by '${f.__privateGet.call(void 0,this,s)}:'`);f.__privateGet.call(void 0,this,n).publish(e,...t)}subscribe(e,t,r){if(!f.__privateMethod.call(void 0,this,o,c).call(this,e))throw new Error(`Event missing from allow list: ${e}`);return r?f.__privateGet.call(void 0,this,n).subscribe(e,t,r):f.__privateGet.call(void 0,this,n).subscribe(e,t)}unsubscribe(e,t){if(!f.__privateMethod.call(void 0,this,o,c).call(this,e))throw new Error(`Event missing from allow list: ${e}`);f.__privateGet.call(void 0,this,n).unsubscribe(e,t)}clearEventSubscriptions(e){if(!f.__privateMethod.call(void 0,this,d,h).call(this,e))throw new Error(`Only allowed clearing events prefixed by '${f.__privateGet.call(void 0,this,s)}:'`);f.__privateGet.call(void 0,this,n).clearEventSubscriptions(e)}}}}},{package:"@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/chunk-UJFCPTF3.js"}],[2665,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};r.__privateGet=(e,t,r)=>(n(e,t,"read from private field"),r?r.call(e):t.get(e)),r.__privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},r.__privateSet=(e,t,r,s)=>(n(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),r.__privateMethod=(e,t,r)=>(n(e,t,"access private method"),r)}}},{package:"@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/chunk-Z4BLTVTB.js"}],[2666,{"./chunk-FTHCJ6HY.js":2661,"./chunk-G42723LG.js":2662,"./chunk-IURK6TKD.js":2663,"./chunk-UJFCPTF3.js":2664,"./chunk-Z4BLTVTB.js":2665},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-FTHCJ6HY.js"),s=e("./chunk-IURK6TKD.js"),i=e("./chunk-G42723LG.js"),a=e("./chunk-UJFCPTF3.js");e("./chunk-Z4BLTVTB.js"),r.BaseController=s.BaseController,r.BaseControllerV1=n.BaseControllerV1,r.ControllerMessenger=i.ControllerMessenger,r.RestrictedControllerMessenger=a.RestrictedControllerMessenger,r.getAnonymizedState=s.getAnonymizedState,r.getPersistentState=s.getPersistentState}}},{package:"@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/index.js"}],[2667,{"./chunk-PFNSOF67.js":2671,"@ethereumjs/util":461,"@metamask/ethjs-unit":1440,"@metamask/utils":2683,"bn.js":3472,buffer:3520,"eth-ens-namehash":3712,"fast-deep-equal":3842},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var s=e("./chunk-PFNSOF67.js"),i=e("@ethereumjs/util"),a=e("@metamask/ethjs-unit"),o=e("@metamask/utils"),c=n(e("bn.js")),l=n(e("eth-ens-namehash")),u=n(e("fast-deep-equal")),d=new Error("timeout"),h=["__proto__","constructor","prototype"];function f(e){return e?new(0,c.default)(o.remove0x.call(void 0,e),16):new(0,c.default)(0)}async function p(e,t){const r=await fetch(e,t);if(!r.ok)throw new Error(`Fetch failed with status '${r.status}' for request '${String(e)}'`);return r}async function m(e,t){const r=await p(e,t);return await r.json()}r.PROTOTYPE_POLLUTION_BLOCKLIST=h,r.isSafeDynamicKey=function(e){return"string"==typeof e&&!h.some((t=>e===t))},r.isSafeChainId=function(e){if(!o.isHexString.call(void 0,e))return!1;const t=Number.parseInt(e,o.isStrictHexString.call(void 0,e)?16:10);return Number.isSafeInteger(t)&&t>0&&t<=s.MAX_SAFE_CHAIN_ID},r.BNToHex=function(e){return o.add0x.call(void 0,e.toString(16))},r.fractionBN=function(e,t,r){const n=new(0,c.default)(t),s=new(0,c.default)(r);return e.mul(n).div(s)},r.gweiDecToWEIBN=function(e){if(Number.isNaN(e))return new(0,c.default)(0);const t=e.toString().split("."),r=t[0]||"0";let n=t[1]||"";if(!n)return a.toWei.call(void 0,r,"gwei");if(n.length<=9)return a.toWei.call(void 0,`${r}.${n}`,"gwei");const s=n.slice(9)[0];n=n.slice(0,9);let i=a.toWei.call(void 0,`${r}.${n}`,"gwei");return Number(s)>=5&&(i=i.add(new(0,c.default)(1))),i},r.weiHexToGweiDec=function(e){const t=new(0,c.default)(o.remove0x.call(void 0,e),16);return a.fromWei.call(void 0,t,"gwei")},r.getBuyURL=function(e="1",t,r=5){switch(e){case"1":return`https://buy.coinbase.com/?code=9ec56d01-7e81-5017-930c-513daa27bb6a&amount=${r}&address=${t}&crypto_currency=ETH`;case"5":return"https://goerli-faucet.slock.it/";case"11155111":return"https://sepoliafaucet.net/";default:return}},r.hexToBN=f,r.hexToText=function(e){try{const r=o.remove0x.call(void 0,e);return t.from(r,"hex").toString("utf8")}catch(t){return e}},r.fromHex=function(e){return c.default.isBN(e)?e:new(0,c.default)(f(e).toString(10))},r.toHex=function(e){return"string"==typeof e&&o.isStrictHexString.call(void 0,e)?e:`0x${c.default.isBN(e)?e.toString(16):new(0,c.default)(e.toString(),10).toString(16)}`},r.safelyExecute=async function(e,t=!1){try{return await e()}catch(e){return void(t&&console.error(e))}},r.safelyExecuteWithTimeout=async function(e,t=!1,r=500){try{return await Promise.race([e(),new Promise(((e,t)=>setTimeout((()=>{t(d)}),r)))])}catch(e){return void(t&&console.error(e))}},r.toChecksumHexAddress=function(e){if("string"!=typeof e)return e;const t=o.add0x.call(void 0,e);return o.isHexString.call(void 0,t)?i.toChecksumAddress.call(void 0,t):t},r.isValidHexAddress=function(e,{allowNonPrefixed:t=!0}={}){const r=t?o.add0x.call(void 0,e):e;return!!o.isStrictHexString.call(void 0,r)&&i.isValidAddress.call(void 0,r)},r.isSmartContractCode=function(e){return!!e&&("0x"!==e&&"0x0"!==e)},r.successfulFetch=p,r.handleFetch=m,r.fetchWithErrorHandling=async function({url:e,options:t,timeout:r,errorCodesToCatch:n}){let s;try{s=r?Promise.race([await m(e,t),new Promise(((e,t)=>setTimeout((()=>{t(d)}),r)))]):await m(e,t)}catch(e){!function(e,t=[]){if(!e)return;if(!(e instanceof Error))throw e;if(!t.some((t=>e.message.includes(`Fetch failed with status '${t}'`)))&&!e.message.includes("Failed to fetch")&&e!==d)throw e;console.error(e)}(e,n)}return s},r.timeoutFetch=async function(e,t,r=500){return Promise.race([p(e,t),new Promise(((e,t)=>setTimeout((()=>{t(d)}),r)))])},r.normalizeEnsName=function(e){if("."===e)return e;if(e&&"string"==typeof e)try{const t=l.default.normalize(e.trim());if(t.match(/^(([\w\d-]+)\.)*[\w\d-]{7,}\.(eth|test)$/u))return t}catch(e){}return null},r.query=function(e,t,r=[]){return new Promise(((n,s)=>{const i=(e,t)=>{e?s(e):n(t)};t in e&&"function"==typeof e[t]?e[t](...r,i):e.sendAsync({method:t,params:r},i)}))},r.convertHexToDecimal=(e="0x0")=>o.isStrictHexString.call(void 0,e)?parseInt(e,16):Number(e)?Number(e):0,r.isPlainObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)},r.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},r.isValidJson=function(e){try{return u.default.call(void 0,e,JSON.parse(JSON.stringify(e)))}catch(e){return!1}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/transaction-controller>@metamask/controller-utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/dist/chunk-2CQ3YJMB.js"}],[2668,{"@metamask/utils":2683},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils"),s=n.createProjectLogger.call(void 0,"controller-utils");r.createModuleLogger=n.createModuleLogger,r.projectLogger=s}}},{package:"@metamask/transaction-controller>@metamask/controller-utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/dist/chunk-DBJSLKNR.js"}],[2669,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n={mainnet:"mainnet",goerli:"goerli",sepolia:"sepolia","linea-goerli":"linea-goerli","linea-sepolia":"linea-sepolia","linea-mainnet":"linea-mainnet"},s={...n,rpc:"rpc"};var i=(e=>(e.Mainnet="mainnet",e.Goerli="goerli",e.Sepolia="sepolia",e.LineaGoerli="linea-goerli",e.LineaSepolia="linea-sepolia",e.LineaMainnet="linea-mainnet",e.Aurora="aurora",e))(i||{}),a={mainnet:"0x1",goerli:"0x5",sepolia:"0xaa36a7",aurora:"0x4e454152","linea-goerli":"0xe704","linea-sepolia":"0xe705","linea-mainnet":"0xe708"},o=(e=>(e.mainnet="ETH",e.goerli="GoerliETH",e.sepolia="SepoliaETH",e["linea-goerli"]="LineaETH",e["linea-sepolia"]="LineaETH",e["linea-mainnet"]="ETH",e.rpc="",e))(o||{});r.InfuraNetworkType=n,r.NetworkType=s,r.isNetworkType=function(e){return Object.values(s).includes(e)},r.isInfuraNetworkType=function(e){return Object.keys(n).includes(e)},r.BuiltInNetworkName=i,r.ChainId=a,r.NetworksTicker=o}}},{package:"@metamask/transaction-controller>@metamask/controller-utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/dist/chunk-F775U3C2.js"}],[2670,{"./chunk-DBJSLKNR.js":2668,"@metamask/utils":2683,"@spruceid/siwe-parser":3010,buffer:3520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-DBJSLKNR.js"),s=e("@metamask/utils"),i=e("@spruceid/siwe-parser"),a=n.createModuleLogger.call(void 0,n.projectLogger,"detect-siwe");function o(e){try{const n="string"!=typeof(r=e)?r:s.remove0x.call(void 0,r),i=t.from(n,"hex");return 32===i.length?e:i.toString("utf8")}catch(t){return a(t),e}var r}var c={"http:":"80","https:":"443"},l=(e,t)=>e.match(/^[^/:]*:\/\//u)?new URL(e):new URL(`${t}//${e}`);r.parseDomainParts=l,r.isValidSIWEOrigin=e=>{try{const{origin:t,siwe:r}=e;if(!t||!r?.parsedMessage?.domain)return!1;const n=new URL(t),s=l(r.parsedMessage.domain,n.protocol);return 0===s.hostname.localeCompare(n.hostname,void 0,{sensitivity:"accent"})&&(""!==s.port&&s.port!==n.port?""===n.port&&s.port===c[n.protocol]:""===s.username||s.username===n.username)}catch(e){return a(e),!1}},r.detectSIWE=e=>{try{const{data:t}=e,r=o(t);return{isSIWEMessage:!0,parsedMessage:new(0,i.ParsedMessage)(r)}}catch(e){return{isSIWEMessage:!1,parsedMessage:null}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/transaction-controller>@metamask/controller-utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/dist/chunk-M6G3ISXG.js"}],[2671,{"./chunk-F775U3C2.js":2669},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-F775U3C2.js"),s={[n.NetworkType.goerli]:{chainId:n.ChainId.goerli,ticker:"GoerliETH",rpcPrefs:{blockExplorerUrl:`https://${n.NetworkType.goerli}.etherscan.io`}},[n.NetworkType.sepolia]:{chainId:n.ChainId.sepolia,ticker:"SepoliaETH",rpcPrefs:{blockExplorerUrl:`https://${n.NetworkType.sepolia}.etherscan.io`}},[n.NetworkType.mainnet]:{chainId:n.ChainId.mainnet,ticker:"ETH",rpcPrefs:{blockExplorerUrl:"https://etherscan.io"}},[n.NetworkType["linea-goerli"]]:{chainId:n.ChainId["linea-goerli"],ticker:"LineaETH",rpcPrefs:{blockExplorerUrl:"https://goerli.lineascan.build"}},[n.NetworkType["linea-sepolia"]]:{chainId:n.ChainId["linea-sepolia"],ticker:"LineaETH",rpcPrefs:{blockExplorerUrl:"https://sepolia.lineascan.build"}},[n.NetworkType["linea-mainnet"]]:{chainId:n.ChainId["linea-mainnet"],ticker:"ETH",rpcPrefs:{blockExplorerUrl:"https://lineascan.build"}},[n.NetworkType.rpc]:{chainId:void 0,blockExplorerUrl:void 0,ticker:void 0,rpcPrefs:void 0}},i=(e=>(e.AddEthereumChain="wallet_addEthereumChain",e.ConnectAccounts="connect_accounts",e.EthDecrypt="eth_decrypt",e.EthGetEncryptionPublicKey="eth_getEncryptionPublicKey",e.EthSignTypedData="eth_signTypedData",e.PersonalSign="personal_sign",e.ResultError="result_error",e.ResultSuccess="result_success",e.SnapDialogAlert="snap_dialog:alert",e.SnapDialogConfirmation="snap_dialog:confirmation",e.SnapDialogPrompt="snap_dialog:prompt",e.SnapDialogDefault="snap_dialog",e.SwitchEthereumChain="wallet_switchEthereumChain",e.Transaction="transaction",e.Unlock="unlock",e.WalletConnect="wallet_connect",e.WalletRequestPermissions="wallet_requestPermissions",e.WatchAsset="wallet_watchAsset",e))(i||{}),a={[n.ChainId.goerli]:"goerli",[n.ChainId.sepolia]:"sepolia",[n.ChainId.mainnet]:"mainnet",[n.ChainId["linea-goerli"]]:"linea-goerli",[n.ChainId["linea-sepolia"]]:"linea-sepolia",[n.ChainId["linea-mainnet"]]:"linea-mainnet",[n.ChainId.aurora]:"aurora"};r.RPC="rpc",r.FALL_BACK_VS_CURRENCY="ETH",r.IPFS_DEFAULT_GATEWAY_URL="https://cloudflare-ipfs.com/ipfs/",r.GANACHE_CHAIN_ID="0x539",r.MAX_SAFE_CHAIN_ID=0xfffffffffffec,r.ERC721="ERC721",r.ERC1155="ERC1155",r.ERC20="ERC20",r.ERC721_INTERFACE_ID="0x80ac58cd",r.ERC721_METADATA_INTERFACE_ID="0x5b5e139f",r.ERC721_ENUMERABLE_INTERFACE_ID="0x780e9d63",r.ERC1155_INTERFACE_ID="0xd9b67a26",r.ERC1155_METADATA_URI_INTERFACE_ID="0x0e89341c",r.ERC1155_TOKEN_RECEIVER_INTERFACE_ID="0x4e2312e0",r.GWEI="gwei",r.ASSET_TYPES={NATIVE:"NATIVE",TOKEN:"TOKEN",NFT:"NFT",UNKNOWN:"UNKNOWN"},r.TESTNET_TICKER_SYMBOLS={GOERLI:"GoerliETH",SEPOLIA:"SepoliaETH",LINEA_GOERLI:"LineaETH",LINEA_SEPOLIA:"LineaETH"},r.BUILT_IN_NETWORKS=s,r.OPENSEA_PROXY_URL="https://proxy.api.cx.metamask.io/opensea/v1/api/v2",r.NFT_API_BASE_URL="https://nft.api.cx.metamask.io",r.NFT_API_VERSION="1",r.NFT_API_TIMEOUT=15e3,r.ORIGIN_METAMASK="metamask",r.ApprovalType=i,r.CHAIN_ID_TO_ETHERS_NETWORK_NAME_MAP=a}}},{package:"@metamask/transaction-controller>@metamask/controller-utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/dist/chunk-PFNSOF67.js"}],[2672,{"./chunk-2CQ3YJMB.js":2667,"./chunk-DBJSLKNR.js":2668,"./chunk-F775U3C2.js":2669,"./chunk-M6G3ISXG.js":2670,"./chunk-PFNSOF67.js":2671},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-M6G3ISXG.js");e("./chunk-DBJSLKNR.js");var s=e("./chunk-2CQ3YJMB.js"),i=e("./chunk-PFNSOF67.js"),a=e("./chunk-F775U3C2.js");r.ASSET_TYPES=i.ASSET_TYPES,r.ApprovalType=i.ApprovalType,r.BNToHex=s.BNToHex,r.BUILT_IN_NETWORKS=i.BUILT_IN_NETWORKS,r.BuiltInNetworkName=a.BuiltInNetworkName,r.CHAIN_ID_TO_ETHERS_NETWORK_NAME_MAP=i.CHAIN_ID_TO_ETHERS_NETWORK_NAME_MAP,r.ChainId=a.ChainId,r.ERC1155=i.ERC1155,r.ERC1155_INTERFACE_ID=i.ERC1155_INTERFACE_ID,r.ERC1155_METADATA_URI_INTERFACE_ID=i.ERC1155_METADATA_URI_INTERFACE_ID,r.ERC1155_TOKEN_RECEIVER_INTERFACE_ID=i.ERC1155_TOKEN_RECEIVER_INTERFACE_ID,r.ERC20=i.ERC20,r.ERC721=i.ERC721,r.ERC721_ENUMERABLE_INTERFACE_ID=i.ERC721_ENUMERABLE_INTERFACE_ID,r.ERC721_INTERFACE_ID=i.ERC721_INTERFACE_ID,r.ERC721_METADATA_INTERFACE_ID=i.ERC721_METADATA_INTERFACE_ID,r.FALL_BACK_VS_CURRENCY=i.FALL_BACK_VS_CURRENCY,r.GANACHE_CHAIN_ID=i.GANACHE_CHAIN_ID,r.GWEI=i.GWEI,r.IPFS_DEFAULT_GATEWAY_URL=i.IPFS_DEFAULT_GATEWAY_URL,r.InfuraNetworkType=a.InfuraNetworkType,r.MAX_SAFE_CHAIN_ID=i.MAX_SAFE_CHAIN_ID,r.NFT_API_BASE_URL=i.NFT_API_BASE_URL,r.NFT_API_TIMEOUT=i.NFT_API_TIMEOUT,r.NFT_API_VERSION=i.NFT_API_VERSION,r.NetworkType=a.NetworkType,r.NetworksTicker=a.NetworksTicker,r.OPENSEA_PROXY_URL=i.OPENSEA_PROXY_URL,r.ORIGIN_METAMASK=i.ORIGIN_METAMASK,r.RPC=i.RPC,r.TESTNET_TICKER_SYMBOLS=i.TESTNET_TICKER_SYMBOLS,r.convertHexToDecimal=s.convertHexToDecimal,r.detectSIWE=n.detectSIWE,r.fetchWithErrorHandling=s.fetchWithErrorHandling,r.fractionBN=s.fractionBN,r.fromHex=s.fromHex,r.getBuyURL=s.getBuyURL,r.gweiDecToWEIBN=s.gweiDecToWEIBN,r.handleFetch=s.handleFetch,r.hexToBN=s.hexToBN,r.hexToText=s.hexToText,r.isInfuraNetworkType=a.isInfuraNetworkType,r.isNetworkType=a.isNetworkType,r.isNonEmptyArray=s.isNonEmptyArray,r.isPlainObject=s.isPlainObject,r.isSafeChainId=s.isSafeChainId,r.isSafeDynamicKey=s.isSafeDynamicKey,r.isSmartContractCode=s.isSmartContractCode,r.isValidHexAddress=s.isValidHexAddress,r.isValidJson=s.isValidJson,r.isValidSIWEOrigin=n.isValidSIWEOrigin,r.normalizeEnsName=s.normalizeEnsName,r.parseDomainParts=n.parseDomainParts,r.query=s.query,r.safelyExecute=s.safelyExecute,r.safelyExecuteWithTimeout=s.safelyExecuteWithTimeout,r.successfulFetch=s.successfulFetch,r.timeoutFetch=s.timeoutFetch,r.toChecksumHexAddress=s.toChecksumHexAddress,r.toHex=s.toHex,r.weiHexToGweiDec=s.weiHexToGweiDec}}},{package:"@metamask/transaction-controller>@metamask/controller-utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/dist/index.js"}],[2673,{"./errors.cjs":2681,"@metamask/superstruct":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.assertExhaustive=r.assertStruct=r.assert=r.AssertionError=void 0;const n=e("@metamask/superstruct"),s=e("./errors.cjs");function i(e,t){return r=e,Boolean("string"==typeof r?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var r}class a extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}r.AssertionError=a,r.assert=function(e,t="Assertion failed.",r=a){if(!e){if(t instanceof Error)throw t;throw i(r,t)}},r.assertStruct=function(e,t,r="Assertion failed",o=a){try{(0,n.assert)(e,t)}catch(e){throw i(o,`${r}: ${function(e){return(0,s.getErrorMessage)(e).replace(/\.$/u,"")}(e)}.`)}},r.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/assert.cjs"}],[2674,{"./assert.cjs":2673,"@metamask/superstruct":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.base64=void 0;const n=e("@metamask/superstruct"),s=e("./assert.cjs");r.base64=(e,t={})=>{const r=t.paddingRequired??!1,i=t.characterSet??"base64";let a,o;return"base64"===i?a=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===i),a=String.raw`[-_A-Za-z0-9]`),o=r?new RegExp(`^(?:${a}{4})*(?:${a}{3}=|${a}{2}==)?$`,"u"):new RegExp(`^(?:${a}{4})*(?:${a}{2,3}|${a}{3}=|${a}{2}==)?$`,"u"),(0,n.pattern)(e,o)}}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/base64.cjs"}],[2675,{"./assert.cjs":2673,"./hex.cjs":2682,"@scure/base":2797,buffer:3520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.createDataView=r.concatBytes=r.valueToBytes=r.base64ToBytes=r.stringToBytes=r.numberToBytes=r.signedBigIntToBytes=r.bigIntToBytes=r.hexToBytes=r.bytesToBase64=r.bytesToString=r.bytesToNumber=r.bytesToSignedBigInt=r.bytesToBigInt=r.bytesToHex=r.assertIsBytes=r.isBytes=void 0;const n=e("@scure/base"),s=e("./assert.cjs"),i=e("./hex.cjs"),a=48,o=58,c=87;const l=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function d(e){(0,s.assert)(u(e),"Value must be a Uint8Array.")}function h(e){if(d(e),0===e.length)return"0x";const t=l(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,i.add0x)(r.join(""))}function f(e){d(e);const t=h(e);return BigInt(t)}function p(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,i.assertIsHexString)(e);const t=(0,i.remove0x)(e).toLowerCase(),r=t.length%2==0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=r.charCodeAt(2*e),s=r.charCodeAt(2*e+1),i=t-(t<o?a:c),l=s-(s<o?a:c);n[e]=16*i+l}return n}function m(e){(0,s.assert)("bigint"==typeof e,"Value must be a bigint."),(0,s.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return p(e.toString(16))}function g(e){(0,s.assert)("number"==typeof e,"Value must be a number."),(0,s.assert)(e>=0,"Value must be a non-negative number."),(0,s.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return p(e.toString(16))}function v(e){return(0,s.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function y(e){if("bigint"==typeof e)return m(e);if("number"==typeof e)return g(e);if("string"==typeof e)return e.startsWith("0x")?p(e):v(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}r.isBytes=u,r.assertIsBytes=d,r.bytesToHex=h,r.bytesToBigInt=f,r.bytesToSignedBigInt=function(e){d(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)},r.bytesToNumber=function(e){d(e);const t=f(e);return(0,s.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},r.bytesToString=function(e){return d(e),(new TextDecoder).decode(e)},r.bytesToBase64=function(e){return d(e),n.base64.encode(e)},r.hexToBytes=p,r.bigIntToBytes=m,r.signedBigIntToBytes=function(e,t){(0,s.assert)("bigint"==typeof e,"Value must be a bigint."),(0,s.assert)("number"==typeof t,"Byte length must be a number."),(0,s.assert)(t>0,"Byte length must be greater than 0."),(0,s.assert)(function(e,t){(0,s.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let e=0;e<n.length;e++)n[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()},r.numberToBytes=g,r.stringToBytes=v,r.base64ToBytes=function(e){return(0,s.assert)("string"==typeof e,"Value must be a string."),n.base64.decode(e)},r.valueToBytes=y,r.concatBytes=function(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const s=y(e[n]);t[n]=s,r+=s.length}const n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n},r.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/bytes.cjs"}],[2676,{"@metamask/superstruct":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toCaipChainId=r.parseCaipAccountId=r.parseCaipChainId=r.isCaipAccountAddress=r.isCaipAccountId=r.isCaipReference=r.isCaipNamespace=r.isCaipChainId=r.KnownCaipNamespace=r.CaipAccountAddressStruct=r.CaipAccountIdStruct=r.CaipReferenceStruct=r.CaipNamespaceStruct=r.CaipChainIdStruct=r.CAIP_ACCOUNT_ADDRESS_REGEX=r.CAIP_ACCOUNT_ID_REGEX=r.CAIP_REFERENCE_REGEX=r.CAIP_NAMESPACE_REGEX=r.CAIP_CHAIN_ID_REGEX=void 0;const n=e("@metamask/superstruct");function s(e){return(0,n.is)(e,r.CaipNamespaceStruct)}function i(e){return(0,n.is)(e,r.CaipReferenceStruct)}r.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,r.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,r.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,r.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,r.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,r.CaipChainIdStruct=(0,n.pattern)((0,n.string)(),r.CAIP_CHAIN_ID_REGEX),r.CaipNamespaceStruct=(0,n.pattern)((0,n.string)(),r.CAIP_NAMESPACE_REGEX),r.CaipReferenceStruct=(0,n.pattern)((0,n.string)(),r.CAIP_REFERENCE_REGEX),r.CaipAccountIdStruct=(0,n.pattern)((0,n.string)(),r.CAIP_ACCOUNT_ID_REGEX),r.CaipAccountAddressStruct=(0,n.pattern)((0,n.string)(),r.CAIP_ACCOUNT_ADDRESS_REGEX),function(e){e.Eip155="eip155",e.Wallet="wallet"}(r.KnownCaipNamespace||(r.KnownCaipNamespace={})),r.isCaipChainId=function(e){return(0,n.is)(e,r.CaipChainIdStruct)},r.isCaipNamespace=s,r.isCaipReference=i,r.isCaipAccountId=function(e){return(0,n.is)(e,r.CaipAccountIdStruct)},r.isCaipAccountAddress=function(e){return(0,n.is)(e,r.CaipAccountAddressStruct)},r.parseCaipChainId=function(e){const t=r.CAIP_CHAIN_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}},r.parseCaipAccountId=function(e){const t=r.CAIP_ACCOUNT_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},r.toCaipChainId=function(e,t){if(!s(e))throw new Error(`Invalid "namespace", must match: ${r.CAIP_NAMESPACE_REGEX.toString()}`);if(!i(t))throw new Error(`Invalid "reference", must match: ${r.CAIP_REFERENCE_REGEX.toString()}`);return`${e}:${t}`}}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/caip-types.cjs"}],[2677,{"./base64.cjs":2674,"@metamask/superstruct":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ChecksumStruct=void 0;const n=e("@metamask/superstruct"),s=e("./base64.cjs");r.ChecksumStruct=(0,n.size)((0,s.base64)((0,n.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/checksum.cjs"}],[2678,{"./assert.cjs":2673,"./bytes.cjs":2675,"./hex.cjs":2682,"@metamask/superstruct":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHex=r.createBytes=r.createBigInt=r.createNumber=void 0;const n=e("@metamask/superstruct"),s=e("./assert.cjs"),i=e("./bytes.cjs"),a=e("./hex.cjs"),o=(0,n.union)([(0,n.number)(),(0,n.bigint)(),(0,n.string)(),a.StrictHexStruct]),c=(0,n.coerce)((0,n.number)(),o,Number),l=(0,n.coerce)((0,n.bigint)(),o,BigInt),u=((0,n.union)([a.StrictHexStruct,(0,n.instance)(Uint8Array)]),(0,n.coerce)((0,n.instance)(Uint8Array),(0,n.union)([a.StrictHexStruct]),i.hexToBytes)),d=(0,n.coerce)(a.StrictHexStruct,(0,n.instance)(Uint8Array),i.bytesToHex);r.createNumber=function(e){try{const t=(0,n.create)(e,c);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof n.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},r.createBigInt=function(e){try{return(0,n.create)(e,l)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},r.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,n.create)(e,u)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},r.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,n.create)(e,d)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/coercers.cjs"}],[2679,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,s,i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},a=this&&this.__classPrivateFieldSet||function(e,t,r,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,r):s?s.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.FrozenSet=r.FrozenMap=void 0;class o{get size(){return i(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return i(this,n,"f")[Symbol.iterator]()}constructor(e){n.set(this,void 0),a(this,n,new Map(e),"f"),Object.freeze(this)}entries(){return i(this,n,"f").entries()}forEach(e,t){return i(this,n,"f").forEach(((r,n,s)=>e.call(t,r,n,this)))}get(e){return i(this,n,"f").get(e)}has(e){return i(this,n,"f").has(e)}keys(){return i(this,n,"f").keys()}values(){return i(this,n,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}r.FrozenMap=o;class c{get size(){return i(this,s,"f").size}[(s=new WeakMap,Symbol.iterator)](){return i(this,s,"f")[Symbol.iterator]()}constructor(e){s.set(this,void 0),a(this,s,new Set(e),"f"),Object.freeze(this)}entries(){return i(this,s,"f").entries()}forEach(e,t){return i(this,s,"f").forEach(((r,n,s)=>e.call(t,r,n,this)))}has(e){return i(this,s,"f").has(e)}keys(){return i(this,s,"f").keys()}values(){return i(this,s,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}r.FrozenSet=c,Object.freeze(o),Object.freeze(o.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/collections.cjs"}],[2680,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/encryption-types.cjs"}],[2681,{"./misc.cjs":2687,"pony-cause":4459},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.wrapError=r.getErrorMessage=r.isErrorWithStack=r.isErrorWithMessage=r.isErrorWithCode=void 0;const n=e("pony-cause"),s=e("./misc.cjs");function i(e){return"object"==typeof e&&null!==e&&"code"in e}function a(e){return"object"==typeof e&&null!==e&&"message"in e}r.isErrorWithCode=i,r.isErrorWithMessage=a,r.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},r.getErrorMessage=function(e){return a(e)&&"string"==typeof e.message?e.message:(0,s.isNullOrUndefined)(e)?"":String(e)},r.wrapError=function(e,t){if((r=e)instanceof Error||(0,s.isObject)(r)&&"Error"===r.constructor.name){let r;return r=2===Error.length?new Error(t,{cause:e}):new n.ErrorWithCause(t,{cause:e}),i(e)&&(r.code=e.code),r}var r;return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/errors.cjs"}],[2682,{"./assert.cjs":2673,"./bytes.cjs":2675,"@metamask/superstruct":2618,"@noble/hashes/sha3":2779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.remove0x=r.add0x=r.isValidChecksumAddress=r.getChecksumAddress=r.isValidHexAddress=r.assertIsStrictHexString=r.assertIsHexString=r.isStrictHexString=r.isHexString=r.HexChecksumAddressStruct=r.HexAddressStruct=r.StrictHexStruct=r.HexStruct=void 0;const n=e("@metamask/superstruct"),s=e("@noble/hashes/sha3"),i=e("./assert.cjs"),a=e("./bytes.cjs");function o(e){return(0,n.is)(e,r.HexStruct)}function c(e){return(0,n.is)(e,r.StrictHexStruct)}function l(e){(0,i.assert)((0,n.is)(e,r.HexChecksumAddressStruct),"Invalid hex address.");const t=d(e.toLowerCase()),o=d((0,a.bytesToHex)((0,s.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const r=o[t];return(0,i.assert)((0,n.is)(r,(0,n.string)()),"Hash shorter than address."),parseInt(r,16)>7?e.toUpperCase():e})).join("")}`}function u(e){return!!(0,n.is)(e,r.HexChecksumAddressStruct)&&l(e)===e}function d(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}r.HexStruct=(0,n.pattern)((0,n.string)(),/^(?:0x)?[0-9a-f]+$/iu),r.StrictHexStruct=(0,n.pattern)((0,n.string)(),/^0x[0-9a-f]+$/iu),r.HexAddressStruct=(0,n.pattern)((0,n.string)(),/^0x[0-9a-f]{40}$/u),r.HexChecksumAddressStruct=(0,n.pattern)((0,n.string)(),/^0x[0-9a-fA-F]{40}$/u),r.isHexString=o,r.isStrictHexString=c,r.assertIsHexString=function(e){(0,i.assert)(o(e),"Value must be a hexadecimal string.")},r.assertIsStrictHexString=function(e){(0,i.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},r.isValidHexAddress=function(e){return(0,n.is)(e,r.HexAddressStruct)||u(e)},r.getChecksumAddress=l,r.isValidChecksumAddress=u,r.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},r.remove0x=d}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/hex.cjs"}],[2683,{"./assert.cjs":2673,"./base64.cjs":2674,"./bytes.cjs":2675,"./caip-types.cjs":2676,"./checksum.cjs":2677,"./coercers.cjs":2678,"./collections.cjs":2679,"./encryption-types.cjs":2680,"./errors.cjs":2681,"./hex.cjs":2682,"./json.cjs":2684,"./keyring.cjs":2685,"./logging.cjs":2686,"./misc.cjs":2687,"./number.cjs":2688,"./opaque.cjs":2689,"./promise.cjs":2690,"./time.cjs":2691,"./transaction-types.cjs":2692,"./versions.cjs":2693},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),s(e("./assert.cjs"),r),s(e("./base64.cjs"),r),s(e("./bytes.cjs"),r),s(e("./caip-types.cjs"),r),s(e("./checksum.cjs"),r),s(e("./coercers.cjs"),r),s(e("./collections.cjs"),r),s(e("./encryption-types.cjs"),r),s(e("./errors.cjs"),r),s(e("./hex.cjs"),r),s(e("./json.cjs"),r),s(e("./keyring.cjs"),r),s(e("./logging.cjs"),r),s(e("./misc.cjs"),r),s(e("./number.cjs"),r),s(e("./opaque.cjs"),r),s(e("./promise.cjs"),r),s(e("./time.cjs"),r),s(e("./transaction-types.cjs"),r),s(e("./versions.cjs"),r)}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/index.cjs"}],[2684,{"./assert.cjs":2673,"./misc.cjs":2687,"@metamask/superstruct":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getJsonRpcIdValidator=r.assertIsJsonRpcError=r.isJsonRpcError=r.assertIsJsonRpcFailure=r.isJsonRpcFailure=r.assertIsJsonRpcSuccess=r.isJsonRpcSuccess=r.assertIsJsonRpcResponse=r.isJsonRpcResponse=r.assertIsPendingJsonRpcResponse=r.isPendingJsonRpcResponse=r.JsonRpcResponseStruct=r.JsonRpcFailureStruct=r.JsonRpcSuccessStruct=r.PendingJsonRpcResponseStruct=r.assertIsJsonRpcRequest=r.isJsonRpcRequest=r.assertIsJsonRpcNotification=r.isJsonRpcNotification=r.JsonRpcNotificationStruct=r.JsonRpcRequestStruct=r.JsonRpcParamsStruct=r.JsonRpcErrorStruct=r.JsonRpcIdStruct=r.JsonRpcVersionStruct=r.jsonrpc2=r.getJsonSize=r.getSafeJson=r.isValidJson=r.JsonStruct=r.UnsafeJsonStruct=r.exactOptional=r.object=void 0;const n=e("@metamask/superstruct"),s=e("./assert.cjs"),i=e("./misc.cjs");function a({path:e,branch:t}){const r=e[e.length-1];return(0,i.hasProperty)(t[t.length-2],r)}function o(e){return new n.Struct({...e,type:`optional ${e.type}`,validator:(t,r)=>!a(r)||e.validator(t,r),refiner:(t,r)=>!a(r)||e.refiner(t,r)})}r.object=e=>(0,n.object)(e),r.exactOptional=o;function c(e){return(0,n.create)(e,r.JsonStruct)}r.UnsafeJsonStruct=(0,n.union)([(0,n.literal)(null),(0,n.boolean)(),(0,n.define)("finite number",(e=>(0,n.is)(e,(0,n.number)())&&Number.isFinite(e))),(0,n.string)(),(0,n.array)((0,n.lazy)((()=>r.UnsafeJsonStruct))),(0,n.record)((0,n.string)(),(0,n.lazy)((()=>r.UnsafeJsonStruct)))]),r.JsonStruct=(0,n.coerce)(r.UnsafeJsonStruct,(0,n.any)(),(e=>((0,s.assertStruct)(e,r.UnsafeJsonStruct),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t)))))),r.isValidJson=function(e){try{return c(e),!0}catch{return!1}},r.getSafeJson=c,r.getJsonSize=function(e){(0,s.assertStruct)(e,r.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},r.jsonrpc2="2.0",r.JsonRpcVersionStruct=(0,n.literal)(r.jsonrpc2),r.JsonRpcIdStruct=(0,n.nullable)((0,n.union)([(0,n.number)(),(0,n.string)()])),r.JsonRpcErrorStruct=(0,r.object)({code:(0,n.integer)(),message:(0,n.string)(),data:o(r.JsonStruct),stack:o((0,n.string)())}),r.JsonRpcParamsStruct=(0,n.union)([(0,n.record)((0,n.string)(),r.JsonStruct),(0,n.array)(r.JsonStruct)]),r.JsonRpcRequestStruct=(0,r.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,method:(0,n.string)(),params:o(r.JsonRpcParamsStruct)}),r.JsonRpcNotificationStruct=(0,r.object)({jsonrpc:r.JsonRpcVersionStruct,method:(0,n.string)(),params:o(r.JsonRpcParamsStruct)}),r.isJsonRpcNotification=function(e){return(0,n.is)(e,r.JsonRpcNotificationStruct)},r.assertIsJsonRpcNotification=function(e,t){(0,s.assertStruct)(e,r.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},r.isJsonRpcRequest=function(e){return(0,n.is)(e,r.JsonRpcRequestStruct)},r.assertIsJsonRpcRequest=function(e,t){(0,s.assertStruct)(e,r.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},r.PendingJsonRpcResponseStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:(0,n.optional)((0,n.unknown)()),error:(0,n.optional)(r.JsonRpcErrorStruct)}),r.JsonRpcSuccessStruct=(0,r.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:r.JsonStruct}),r.JsonRpcFailureStruct=(0,r.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,error:r.JsonRpcErrorStruct}),r.JsonRpcResponseStruct=(0,n.union)([r.JsonRpcSuccessStruct,r.JsonRpcFailureStruct]),r.isPendingJsonRpcResponse=function(e){return(0,n.is)(e,r.PendingJsonRpcResponseStruct)},r.assertIsPendingJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,r.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},r.isJsonRpcResponse=function(e){return(0,n.is)(e,r.JsonRpcResponseStruct)},r.assertIsJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,r.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},r.isJsonRpcSuccess=function(e){return(0,n.is)(e,r.JsonRpcSuccessStruct)},r.assertIsJsonRpcSuccess=function(e,t){(0,s.assertStruct)(e,r.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},r.isJsonRpcFailure=function(e){return(0,n.is)(e,r.JsonRpcFailureStruct)},r.assertIsJsonRpcFailure=function(e,t){(0,s.assertStruct)(e,r.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},r.isJsonRpcError=function(e){return(0,n.is)(e,r.JsonRpcErrorStruct)},r.assertIsJsonRpcError=function(e,t){(0,s.assertStruct)(e,r.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},r.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)}}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/json.cjs"}],[2685,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/keyring.cjs"}],[2686,{debug:3665},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.createProjectLogger=void 0;const s=(0,n(e("debug")).default)("metamask");r.createProjectLogger=function(e){return s.extend(e)},r.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/logging.cjs"}],[2687,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateNumberSize=r.calculateStringSize=r.isASCII=r.isPlainObject=r.ESCAPE_CHARACTERS_REGEXP=r.JsonSize=r.getKnownPropertyNames=r.hasProperty=r.isObject=r.isNullOrUndefined=r.isNonEmptyArray=void 0,r.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},r.isNullOrUndefined=function(e){return null===e||e===undefined},r.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function n(e){return e.charCodeAt(0)<=127}r.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),r.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(r.JsonSize||(r.JsonSize={})),r.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,r.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},r.isASCII=n,r.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>n(t)?e+1:e+2),0)+(e.match(r.ESCAPE_CHARACTERS_REGEXP)??[]).length},r.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/misc.cjs"}],[2688,{"./assert.cjs":2673,"./hex.cjs":2682},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hexToBigInt=r.hexToNumber=r.bigIntToHex=r.numberToHex=void 0;const n=e("./assert.cjs"),s=e("./hex.cjs");r.numberToHex=e=>((0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16)));r.bigIntToHex=e=>((0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16)));r.hexToNumber=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,n.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};r.hexToBigInt=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/number.cjs"}],[2689,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/opaque.cjs"}],[2690,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeferredPromise=void 0,r.createDeferredPromise=function({suppressUnhandledRejection:e=!1}={}){let t,r;const n=new Promise(((e,n)=>{t=e,r=n}));return e&&n.catch((e=>{})),{promise:n,resolve:t,reject:r}}}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/promise.cjs"}],[2691,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timeSince=r.inMilliseconds=r.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(r.Duration||(r.Duration={}));const n=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};r.inMilliseconds=function(e,t){return n(e,"count"),e*t},r.timeSince=function(e){return n(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/time.cjs"}],[2692,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/transaction-types.cjs"}],[2693,{"./assert.cjs":2673,"@metamask/superstruct":2618,semver:4785},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.satisfiesVersionRange=r.gtRange=r.gtVersion=r.assertIsSemVerRange=r.assertIsSemVerVersion=r.isValidSemVerRange=r.isValidSemVerVersion=r.VersionRangeStruct=r.VersionStruct=void 0;const n=e("@metamask/superstruct"),s=e("semver"),i=e("./assert.cjs");r.VersionStruct=(0,n.refine)((0,n.string)(),"Version",(e=>null!==(0,s.valid)(e)||`Expected SemVer version, got "${e}"`)),r.VersionRangeStruct=(0,n.refine)((0,n.string)(),"Version range",(e=>null!==(0,s.validRange)(e)||`Expected SemVer range, got "${e}"`)),r.isValidSemVerVersion=function(e){return(0,n.is)(e,r.VersionStruct)},r.isValidSemVerRange=function(e){return(0,n.is)(e,r.VersionRangeStruct)},r.assertIsSemVerVersion=function(e){(0,i.assertStruct)(e,r.VersionStruct)},r.assertIsSemVerRange=function(e){(0,i.assertStruct)(e,r.VersionRangeStruct)},r.gtVersion=function(e,t){return(0,s.gt)(e,t)},r.gtRange=function(e,t){return(0,s.gtr)(e,t)},r.satisfiesVersionRange=function(e,t){return(0,s.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/transaction-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/versions.cjs"}],[2718,{debug:3665},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s=e("debug"),i=((n=s)&&n.__esModule?n:{default:n}).default.call(void 0,"metamask");r.createProjectLogger=function(e){return i.extend(e)},r.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-2LBGT4GH.js"}],[2719,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};r.__privateGet=(e,t,r)=>(n(e,t,"read from private field"),r?r.call(e):t.get(e)),r.__privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},r.__privateSet=(e,t,r,s)=>(n(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r)}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-3W5G4CYI.js"}],[2720,{"./chunk-6ZDHSOUV.js":2724,semver:4785,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-6ZDHSOUV.js"),s=e("semver"),i=e("superstruct"),a=i.refine.call(void 0,i.string.call(void 0),"Version",(e=>null!==s.valid.call(void 0,e)||`Expected SemVer version, got "${e}"`)),o=i.refine.call(void 0,i.string.call(void 0),"Version range",(e=>null!==s.validRange.call(void 0,e)||`Expected SemVer range, got "${e}"`));r.VersionStruct=a,r.VersionRangeStruct=o,r.isValidSemVerVersion=function(e){return i.is.call(void 0,e,a)},r.isValidSemVerRange=function(e){return i.is.call(void 0,e,o)},r.assertIsSemVerVersion=function(e){n.assertStruct.call(void 0,e,a)},r.assertIsSemVerRange=function(e){n.assertStruct.call(void 0,e,o)},r.gtVersion=function(e,t){return s.gt.call(void 0,e,t)},r.gtRange=function(e,t){return s.gtr.call(void 0,e,t)},r.satisfiesVersionRange=function(e,t){return s.satisfies.call(void 0,e,t,{includePrerelease:!0})}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-4D6XQBHA.js"}],[2721,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e=>(e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year",e))(n||{}),s=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};r.Duration=n,r.inMilliseconds=function(e,t){return s(e,"count"),e*t},r.timeSince=function(e){return s(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-4RMX5YWE.js"}],[2722,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-5AVWINSB.js"}],[2723,{"./chunk-6ZDHSOUV.js":2724,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){return null!=e?e:t()}Object.defineProperty(r,"__esModule",{value:!0});var s=e("./chunk-6ZDHSOUV.js"),i=e("superstruct");r.base64=(e,t={})=>{const r=n(t.paddingRequired,(()=>!1)),a=n(t.characterSet,(()=>"base64"));let o,c;return"base64"===a?o=String.raw`[A-Za-z0-9+\/]`:(s.assert.call(void 0,"base64url"===a),o=String.raw`[-_A-Za-z0-9]`),c=r?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),i.pattern.call(void 0,e,c)}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-6NZW4WK4.js"}],[2724,{"./chunk-IZC266HS.js":2729,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-IZC266HS.js"),s=e("superstruct");function i(e){return Boolean("string"==typeof function(e){let t=undefined,r=e[0],n=1;for(;n<e.length;){const s=e[n],i=e[n+1];if(n+=2,("optionalAccess"===s||"optionalCall"===s)&&null==r)return undefined;"access"===s||"optionalAccess"===s?(t=r,r=i(r)):"call"!==s&&"optionalCall"!==s||(r=i(((...e)=>r.call(t,...e))),t=undefined)}return r}([e,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.constructor,"optionalAccess",e=>e.name]))}function a(e,t){return i(e)?new e({message:t}):e({message:t})}var o=class extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}};r.AssertionError=o,r.assert=function(e,t="Assertion failed.",r=o){if(!e){if(t instanceof Error)throw t;throw a(r,t)}},r.assertStruct=function(e,t,r="Assertion failed",i=o){try{s.assert.call(void 0,e,t)}catch(e){throw a(i,`${r}: ${function(e){return n.getErrorMessage.call(void 0,e).replace(/\.$/u,"")}(e)}.`)}},r.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-6ZDHSOUV.js"}],[2725,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeferredPromise=function({suppressUnhandledRejection:e=!1}={}){let t,r;const n=new Promise(((e,n)=>{t=e,r=n}));return e&&n.catch((e=>{})),{promise:n,resolve:t,reject:r}}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-C6HGFEYL.js"}],[2726,{"./chunk-6ZDHSOUV.js":2724,"./chunk-QEPVHEP7.js":2732,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-QEPVHEP7.js"),s=e("./chunk-6ZDHSOUV.js"),i=e("superstruct"),a=i.union.call(void 0,[i.number.call(void 0),i.bigint.call(void 0),i.string.call(void 0),n.StrictHexStruct]),o=i.coerce.call(void 0,i.number.call(void 0),a,Number),c=i.coerce.call(void 0,i.bigint.call(void 0),a,BigInt),l=(i.union.call(void 0,[n.StrictHexStruct,i.instance.call(void 0,Uint8Array)]),i.coerce.call(void 0,i.instance.call(void 0,Uint8Array),i.union.call(void 0,[n.StrictHexStruct]),n.hexToBytes)),u=i.coerce.call(void 0,n.StrictHexStruct,i.instance.call(void 0,Uint8Array),n.bytesToHex);r.createNumber=function(e){try{const t=i.create.call(void 0,e,o);return s.assert.call(void 0,Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof i.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},r.createBigInt=function(e){try{return i.create.call(void 0,e,c)}catch(e){if(e instanceof i.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},r.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return i.create.call(void 0,e,l)}catch(e){if(e instanceof i.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},r.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return i.create.call(void 0,e,u)}catch(e){if(e instanceof i.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-DHVKFDHQ.js"}],[2727,{"./chunk-6NZW4WK4.js":2723,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-6NZW4WK4.js"),s=e("superstruct"),i=s.size.call(void 0,n.base64.call(void 0,s.string.call(void 0),{paddingRequired:!0}),44,44);r.ChecksumStruct=i}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-E4C7EW4R.js"}],[2728,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-EQMZL4XU.js"}],[2729,{"./chunk-QVEKZRZ2.js":2733,"pony-cause":4459},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-QVEKZRZ2.js"),s=e("pony-cause");function i(e){return"object"==typeof e&&null!==e&&"code"in e}function a(e){return"object"==typeof e&&null!==e&&"message"in e}r.isErrorWithCode=i,r.isErrorWithMessage=a,r.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},r.getErrorMessage=function(e){return a(e)&&"string"==typeof e.message?e.message:n.isNullOrUndefined.call(void 0,e)?"":String(e)},r.wrapError=function(e,t){if((r=e)instanceof Error||n.isObject.call(void 0,r)&&"Error"===r.constructor.name){let r;return r=2===Error.length?new Error(t,{cause:e}):new(0,s.ErrorWithCause)(t,{cause:e}),i(e)&&(r.code=e.code),r}var r;return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-IZC266HS.js"}],[2730,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-LC2CRSWD.js"}],[2731,{"./chunk-6ZDHSOUV.js":2724,"./chunk-QVEKZRZ2.js":2733,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-6ZDHSOUV.js"),s=e("./chunk-QVEKZRZ2.js"),i=e("superstruct"),a=e=>i.object.call(void 0,e);function o({path:e,branch:t}){const r=e[e.length-1];return s.hasProperty.call(void 0,t[t.length-2],r)}function c(e){return new(0,i.Struct)({...e,type:`optional ${e.type}`,validator:(t,r)=>!o(r)||e.validator(t,r),refiner:(t,r)=>!o(r)||e.refiner(t,r)})}var l=i.union.call(void 0,[i.literal.call(void 0,null),i.boolean.call(void 0),i.define.call(void 0,"finite number",(e=>i.is.call(void 0,e,i.number.call(void 0))&&Number.isFinite(e))),i.string.call(void 0),i.array.call(void 0,i.lazy.call(void 0,(()=>l))),i.record.call(void 0,i.string.call(void 0),i.lazy.call(void 0,(()=>l)))]),u=i.coerce.call(void 0,l,i.any.call(void 0),(e=>(n.assertStruct.call(void 0,e,l),JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t}))))));function d(e){return i.create.call(void 0,e,u)}var h=i.literal.call(void 0,"2.0"),f=i.nullable.call(void 0,i.union.call(void 0,[i.number.call(void 0),i.string.call(void 0)])),p=a({code:i.integer.call(void 0),message:i.string.call(void 0),data:c(u),stack:c(i.string.call(void 0))}),m=i.union.call(void 0,[i.record.call(void 0,i.string.call(void 0),u),i.array.call(void 0,u)]),g=a({id:f,jsonrpc:h,method:i.string.call(void 0),params:c(m)}),v=a({jsonrpc:h,method:i.string.call(void 0),params:c(m)});var y=i.object.call(void 0,{id:f,jsonrpc:h,result:i.optional.call(void 0,i.unknown.call(void 0)),error:i.optional.call(void 0,p)}),b=a({id:f,jsonrpc:h,result:u}),w=a({id:f,jsonrpc:h,error:p}),S=i.union.call(void 0,[b,w]);r.object=a,r.exactOptional=c,r.UnsafeJsonStruct=l,r.JsonStruct=u,r.isValidJson=function(e){try{return d(e),!0}catch(e){return!1}},r.getSafeJson=d,r.getJsonSize=function(e){n.assertStruct.call(void 0,e,u,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},r.jsonrpc2="2.0",r.JsonRpcVersionStruct=h,r.JsonRpcIdStruct=f,r.JsonRpcErrorStruct=p,r.JsonRpcParamsStruct=m,r.JsonRpcRequestStruct=g,r.JsonRpcNotificationStruct=v,r.isJsonRpcNotification=function(e){return i.is.call(void 0,e,v)},r.assertIsJsonRpcNotification=function(e,t){n.assertStruct.call(void 0,e,v,"Invalid JSON-RPC notification",t)},r.isJsonRpcRequest=function(e){return i.is.call(void 0,e,g)},r.assertIsJsonRpcRequest=function(e,t){n.assertStruct.call(void 0,e,g,"Invalid JSON-RPC request",t)},r.PendingJsonRpcResponseStruct=y,r.JsonRpcSuccessStruct=b,r.JsonRpcFailureStruct=w,r.JsonRpcResponseStruct=S,r.isPendingJsonRpcResponse=function(e){return i.is.call(void 0,e,y)},r.assertIsPendingJsonRpcResponse=function(e,t){n.assertStruct.call(void 0,e,y,"Invalid pending JSON-RPC response",t)},r.isJsonRpcResponse=function(e){return i.is.call(void 0,e,S)},r.assertIsJsonRpcResponse=function(e,t){n.assertStruct.call(void 0,e,S,"Invalid JSON-RPC response",t)},r.isJsonRpcSuccess=function(e){return i.is.call(void 0,e,b)},r.assertIsJsonRpcSuccess=function(e,t){n.assertStruct.call(void 0,e,b,"Invalid JSON-RPC success response",t)},r.isJsonRpcFailure=function(e){return i.is.call(void 0,e,w)},r.assertIsJsonRpcFailure=function(e,t){n.assertStruct.call(void 0,e,w,"Invalid JSON-RPC failure response",t)},r.isJsonRpcError=function(e){return i.is.call(void 0,e,p)},r.assertIsJsonRpcError=function(e,t){n.assertStruct.call(void 0,e,p,"Invalid JSON-RPC error",t)},r.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-OLLG4H35.js"}],[2732,{"./chunk-6ZDHSOUV.js":2724,"@noble/hashes/sha3":2779,"@scure/base":2797,buffer:3520,superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-6ZDHSOUV.js"),s=e("@noble/hashes/sha3"),i=e("superstruct"),a=e("@scure/base"),o=48,c=58,l=87;var u=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function d(e){return e instanceof Uint8Array}function h(e){n.assert.call(void 0,d(e),"Value must be a Uint8Array.")}function f(e){if(h(e),0===e.length)return"0x";const t=u(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return P(r.join(""))}function p(e){h(e);const t=f(e);return BigInt(t)}function m(e){if("0x"===function(e){let t=undefined,r=e[0],n=1;for(;n<e.length;){const s=e[n],i=e[n+1];if(n+=2,("optionalAccess"===s||"optionalCall"===s)&&null==r)return undefined;"access"===s||"optionalAccess"===s?(t=r,r=i(r)):"call"!==s&&"optionalCall"!==s||(r=i(((...e)=>r.call(t,...e))),t=undefined)}return r}([e,"optionalAccess",e=>e.toLowerCase,"optionalCall",e=>e()]))return new Uint8Array;I(e);const t=A(e).toLowerCase(),r=t.length%2==0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=r.charCodeAt(2*e),s=r.charCodeAt(2*e+1),i=t-(t<c?o:l),a=s-(s<c?o:l);n[e]=16*i+a}return n}function g(e){n.assert.call(void 0,"bigint"==typeof e,"Value must be a bigint."),n.assert.call(void 0,e>=BigInt(0),"Value must be a non-negative bigint.");return m(e.toString(16))}function v(e){n.assert.call(void 0,"number"==typeof e,"Value must be a number."),n.assert.call(void 0,e>=0,"Value must be a non-negative number."),n.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return m(e.toString(16))}function y(e){return n.assert.call(void 0,"string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function b(e){if("bigint"==typeof e)return g(e);if("number"==typeof e)return v(e);if("string"==typeof e)return e.startsWith("0x")?m(e):y(e);if(d(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}var w=i.pattern.call(void 0,i.string.call(void 0),/^(?:0x)?[0-9a-f]+$/iu),S=i.pattern.call(void 0,i.string.call(void 0),/^0x[0-9a-f]+$/iu),_=i.pattern.call(void 0,i.string.call(void 0),/^0x[0-9a-f]{40}$/u),E=i.pattern.call(void 0,i.string.call(void 0),/^0x[0-9a-fA-F]{40}$/u);function k(e){return i.is.call(void 0,e,w)}function T(e){return i.is.call(void 0,e,S)}function I(e){n.assert.call(void 0,k(e),"Value must be a hexadecimal string.")}function j(e){n.assert.call(void 0,i.is.call(void 0,e,E),"Invalid hex address.");const t=A(e.toLowerCase()),r=A(f(s.keccak_256.call(void 0,t)));return`0x${t.split("").map(((e,t)=>{const s=r[t];return n.assert.call(void 0,i.is.call(void 0,s,i.string.call(void 0)),"Hash shorter than address."),parseInt(s,16)>7?e.toUpperCase():e})).join("")}`}function x(e){return!!i.is.call(void 0,e,E)&&j(e)===e}function P(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function A(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}r.HexStruct=w,r.StrictHexStruct=S,r.HexAddressStruct=_,r.HexChecksumAddressStruct=E,r.isHexString=k,r.isStrictHexString=T,r.assertIsHexString=I,r.assertIsStrictHexString=function(e){n.assert.call(void 0,T(e),'Value must be a hexadecimal string, starting with "0x".')},r.isValidHexAddress=function(e){return i.is.call(void 0,e,_)||x(e)},r.getChecksumAddress=j,r.isValidChecksumAddress=x,r.add0x=P,r.remove0x=A,r.isBytes=d,r.assertIsBytes=h,r.bytesToHex=f,r.bytesToBigInt=p,r.bytesToSignedBigInt=function(e){h(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)},r.bytesToNumber=function(e){h(e);const t=p(e);return n.assert.call(void 0,t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},r.bytesToString=function(e){return h(e),(new TextDecoder).decode(e)},r.bytesToBase64=function(e){return h(e),a.base64.encode(e)},r.hexToBytes=m,r.bigIntToBytes=g,r.signedBigIntToBytes=function(e,t){n.assert.call(void 0,"bigint"==typeof e,"Value must be a bigint."),n.assert.call(void 0,"number"==typeof t,"Byte length must be a number."),n.assert.call(void 0,t>0,"Byte length must be greater than 0."),n.assert.call(void 0,function(e,t){n.assert.call(void 0,t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let r=e;const s=new Uint8Array(t);for(let e=0;e<s.length;e++)s[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return s.reverse()},r.numberToBytes=v,r.stringToBytes=y,r.base64ToBytes=function(e){return n.assert.call(void 0,"string"==typeof e,"Value must be a string."),a.base64.decode(e)},r.valueToBytes=b,r.concatBytes=function(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const s=b(e[n]);t[n]=s,r+=s.length}const n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n},r.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-QEPVHEP7.js"}],[2733,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e=>(e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date",e))(n||{}),s=/"|\\|\n|\r|\t/gu;function i(e){return e.charCodeAt(0)<=127}r.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},r.isNullOrUndefined=function(e){return null==e},r.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)},r.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),r.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},r.JsonSize=n,r.ESCAPE_CHARACTERS_REGEXP=s,r.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},r.isASCII=i,r.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>i(t)?e+1:e+2),0)+(t=e.match(s),r=()=>[],null!=t?t:r()).length;var t,r},r.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-QVEKZRZ2.js"}],[2734,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-RKRGAFXY.js"}],[2735,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-UOTVU7OQ.js"}],[2736,{"./chunk-6ZDHSOUV.js":2724,"./chunk-QEPVHEP7.js":2732},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-QEPVHEP7.js"),s=e("./chunk-6ZDHSOUV.js");r.numberToHex=e=>(s.assert.call(void 0,"number"==typeof e,"Value must be a number."),s.assert.call(void 0,e>=0,"Value must be a non-negative number."),s.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),n.add0x.call(void 0,e.toString(16))),r.bigIntToHex=e=>(s.assert.call(void 0,"bigint"==typeof e,"Value must be a bigint."),s.assert.call(void 0,e>=0,"Value must be a non-negative bigint."),n.add0x.call(void 0,e.toString(16))),r.hexToNumber=e=>{n.assertIsHexString.call(void 0,e);const t=parseInt(e,16);return s.assert.call(void 0,Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},r.hexToBigInt=e=>(n.assertIsHexString.call(void 0,e),BigInt(n.add0x.call(void 0,e)))}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-VFXTVNXN.js"}],[2737,{superstruct:4828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){let t=undefined,r=e[0],n=1;for(;n<e.length;){const s=e[n],i=e[n+1];if(n+=2,("optionalAccess"===s||"optionalCall"===s)&&null==r)return undefined;"access"===s||"optionalAccess"===s?(t=r,r=i(r)):"call"!==s&&"optionalCall"!==s||(r=i(((...e)=>r.call(t,...e))),t=undefined)}return r}Object.defineProperty(r,"__esModule",{value:!0});var s=e("superstruct"),i=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,a=/^[-a-z0-9]{3,8}$/u,o=/^[-_a-zA-Z0-9]{1,32}$/u,c=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,l=/^[-.%a-zA-Z0-9]{1,128}$/u,u=s.pattern.call(void 0,s.string.call(void 0),i),d=s.pattern.call(void 0,s.string.call(void 0),a),h=s.pattern.call(void 0,s.string.call(void 0),o),f=s.pattern.call(void 0,s.string.call(void 0),c),p=s.pattern.call(void 0,s.string.call(void 0),l),m=(e=>(e.Eip155="eip155",e))(m||{});function g(e){return s.is.call(void 0,e,d)}function v(e){return s.is.call(void 0,e,h)}r.CAIP_CHAIN_ID_REGEX=i,r.CAIP_NAMESPACE_REGEX=a,r.CAIP_REFERENCE_REGEX=o,r.CAIP_ACCOUNT_ID_REGEX=c,r.CAIP_ACCOUNT_ADDRESS_REGEX=l,r.CaipChainIdStruct=u,r.CaipNamespaceStruct=d,r.CaipReferenceStruct=h,r.CaipAccountIdStruct=f,r.CaipAccountAddressStruct=p,r.KnownCaipNamespace=m,r.isCaipChainId=function(e){return s.is.call(void 0,e,u)},r.isCaipNamespace=g,r.isCaipReference=v,r.isCaipAccountId=function(e){return s.is.call(void 0,e,f)},r.isCaipAccountAddress=function(e){return s.is.call(void 0,e,p)},r.parseCaipChainId=function(e){const t=i.exec(e);if(!n([t,"optionalAccess",e=>e.groups]))throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}},r.parseCaipAccountId=function(e){const t=c.exec(e);if(!n([t,"optionalAccess",e=>e.groups]))throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},r.toCaipChainId=function(e,t){if(!g(e))throw new Error(`Invalid "namespace", must match: ${a.toString()}`);if(!v(t))throw new Error(`Invalid "reference", must match: ${o.toString()}`);return`${e}:${t}`}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-YWAID473.js"}],[2738,{"./chunk-3W5G4CYI.js":2719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,s,i=e("./chunk-3W5G4CYI.js"),a=class{constructor(e){i.__privateAdd.call(void 0,this,n,void 0),i.__privateSet.call(void 0,this,n,new Map(e)),Object.freeze(this)}get size(){return i.__privateGet.call(void 0,this,n).size}[Symbol.iterator](){return i.__privateGet.call(void 0,this,n)[Symbol.iterator]()}entries(){return i.__privateGet.call(void 0,this,n).entries()}forEach(e,t){return i.__privateGet.call(void 0,this,n).forEach(((r,n,s)=>e.call(t,r,n,this)))}get(e){return i.__privateGet.call(void 0,this,n).get(e)}has(e){return i.__privateGet.call(void 0,this,n).has(e)}keys(){return i.__privateGet.call(void 0,this,n).keys()}values(){return i.__privateGet.call(void 0,this,n).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}};n=new WeakMap;var o=class{constructor(e){i.__privateAdd.call(void 0,this,s,void 0),i.__privateSet.call(void 0,this,s,new Set(e)),Object.freeze(this)}get size(){return i.__privateGet.call(void 0,this,s).size}[Symbol.iterator](){return i.__privateGet.call(void 0,this,s)[Symbol.iterator]()}entries(){return i.__privateGet.call(void 0,this,s).entries()}forEach(e,t){return i.__privateGet.call(void 0,this,s).forEach(((r,n,s)=>e.call(t,r,n,this)))}has(e){return i.__privateGet.call(void 0,this,s).has(e)}keys(){return i.__privateGet.call(void 0,this,s).keys()}values(){return i.__privateGet.call(void 0,this,s).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}};s=new WeakMap,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(o),Object.freeze(o.prototype),r.FrozenMap=a,r.FrozenSet=o}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/chunk-Z2RGWDD7.js"}],[2739,{"./chunk-2LBGT4GH.js":2718,"./chunk-3W5G4CYI.js":2719,"./chunk-4D6XQBHA.js":2720,"./chunk-4RMX5YWE.js":2721,"./chunk-5AVWINSB.js":2722,"./chunk-6NZW4WK4.js":2723,"./chunk-6ZDHSOUV.js":2724,"./chunk-C6HGFEYL.js":2725,"./chunk-DHVKFDHQ.js":2726,"./chunk-E4C7EW4R.js":2727,"./chunk-EQMZL4XU.js":2728,"./chunk-IZC266HS.js":2729,"./chunk-LC2CRSWD.js":2730,"./chunk-OLLG4H35.js":2731,"./chunk-QEPVHEP7.js":2732,"./chunk-QVEKZRZ2.js":2733,"./chunk-RKRGAFXY.js":2734,"./chunk-UOTVU7OQ.js":2735,"./chunk-VFXTVNXN.js":2736,"./chunk-YWAID473.js":2737,"./chunk-Z2RGWDD7.js":2738},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),e("./chunk-5AVWINSB.js");var n=e("./chunk-VFXTVNXN.js");e("./chunk-LC2CRSWD.js");var s=e("./chunk-C6HGFEYL.js"),i=e("./chunk-4RMX5YWE.js");e("./chunk-UOTVU7OQ.js");var a=e("./chunk-4D6XQBHA.js"),o=e("./chunk-OLLG4H35.js");e("./chunk-RKRGAFXY.js");var c=e("./chunk-2LBGT4GH.js"),l=e("./chunk-YWAID473.js"),u=e("./chunk-E4C7EW4R.js"),d=e("./chunk-6NZW4WK4.js"),h=e("./chunk-DHVKFDHQ.js"),f=e("./chunk-QEPVHEP7.js"),p=e("./chunk-6ZDHSOUV.js"),m=e("./chunk-IZC266HS.js"),g=e("./chunk-QVEKZRZ2.js"),v=e("./chunk-Z2RGWDD7.js");e("./chunk-3W5G4CYI.js"),e("./chunk-EQMZL4XU.js"),r.AssertionError=p.AssertionError,r.CAIP_ACCOUNT_ADDRESS_REGEX=l.CAIP_ACCOUNT_ADDRESS_REGEX,r.CAIP_ACCOUNT_ID_REGEX=l.CAIP_ACCOUNT_ID_REGEX,r.CAIP_CHAIN_ID_REGEX=l.CAIP_CHAIN_ID_REGEX,r.CAIP_NAMESPACE_REGEX=l.CAIP_NAMESPACE_REGEX,r.CAIP_REFERENCE_REGEX=l.CAIP_REFERENCE_REGEX,r.CaipAccountAddressStruct=l.CaipAccountAddressStruct,r.CaipAccountIdStruct=l.CaipAccountIdStruct,r.CaipChainIdStruct=l.CaipChainIdStruct,r.CaipNamespaceStruct=l.CaipNamespaceStruct,r.CaipReferenceStruct=l.CaipReferenceStruct,r.ChecksumStruct=u.ChecksumStruct,r.Duration=i.Duration,r.ESCAPE_CHARACTERS_REGEXP=g.ESCAPE_CHARACTERS_REGEXP,r.FrozenMap=v.FrozenMap,r.FrozenSet=v.FrozenSet,r.HexAddressStruct=f.HexAddressStruct,r.HexChecksumAddressStruct=f.HexChecksumAddressStruct,r.HexStruct=f.HexStruct,r.JsonRpcErrorStruct=o.JsonRpcErrorStruct,r.JsonRpcFailureStruct=o.JsonRpcFailureStruct,r.JsonRpcIdStruct=o.JsonRpcIdStruct,r.JsonRpcNotificationStruct=o.JsonRpcNotificationStruct,r.JsonRpcParamsStruct=o.JsonRpcParamsStruct,r.JsonRpcRequestStruct=o.JsonRpcRequestStruct,r.JsonRpcResponseStruct=o.JsonRpcResponseStruct,r.JsonRpcSuccessStruct=o.JsonRpcSuccessStruct,r.JsonRpcVersionStruct=o.JsonRpcVersionStruct,r.JsonSize=g.JsonSize,r.JsonStruct=o.JsonStruct,r.KnownCaipNamespace=l.KnownCaipNamespace,r.PendingJsonRpcResponseStruct=o.PendingJsonRpcResponseStruct,r.StrictHexStruct=f.StrictHexStruct,r.UnsafeJsonStruct=o.UnsafeJsonStruct,r.VersionRangeStruct=a.VersionRangeStruct,r.VersionStruct=a.VersionStruct,r.add0x=f.add0x,r.assert=p.assert,r.assertExhaustive=p.assertExhaustive,r.assertIsBytes=f.assertIsBytes,r.assertIsHexString=f.assertIsHexString,r.assertIsJsonRpcError=o.assertIsJsonRpcError,r.assertIsJsonRpcFailure=o.assertIsJsonRpcFailure,r.assertIsJsonRpcNotification=o.assertIsJsonRpcNotification,r.assertIsJsonRpcRequest=o.assertIsJsonRpcRequest,r.assertIsJsonRpcResponse=o.assertIsJsonRpcResponse,r.assertIsJsonRpcSuccess=o.assertIsJsonRpcSuccess,r.assertIsPendingJsonRpcResponse=o.assertIsPendingJsonRpcResponse,r.assertIsSemVerRange=a.assertIsSemVerRange,r.assertIsSemVerVersion=a.assertIsSemVerVersion,r.assertIsStrictHexString=f.assertIsStrictHexString,r.assertStruct=p.assertStruct,r.base64=d.base64,r.base64ToBytes=f.base64ToBytes,r.bigIntToBytes=f.bigIntToBytes,r.bigIntToHex=n.bigIntToHex,r.bytesToBase64=f.bytesToBase64,r.bytesToBigInt=f.bytesToBigInt,r.bytesToHex=f.bytesToHex,r.bytesToNumber=f.bytesToNumber,r.bytesToSignedBigInt=f.bytesToSignedBigInt,r.bytesToString=f.bytesToString,r.calculateNumberSize=g.calculateNumberSize,r.calculateStringSize=g.calculateStringSize,r.concatBytes=f.concatBytes,r.createBigInt=h.createBigInt,r.createBytes=h.createBytes,r.createDataView=f.createDataView,r.createDeferredPromise=s.createDeferredPromise,r.createHex=h.createHex,r.createModuleLogger=c.createModuleLogger,r.createNumber=h.createNumber,r.createProjectLogger=c.createProjectLogger,r.exactOptional=o.exactOptional,r.getChecksumAddress=f.getChecksumAddress,r.getErrorMessage=m.getErrorMessage,r.getJsonRpcIdValidator=o.getJsonRpcIdValidator,r.getJsonSize=o.getJsonSize,r.getKnownPropertyNames=g.getKnownPropertyNames,r.getSafeJson=o.getSafeJson,r.gtRange=a.gtRange,r.gtVersion=a.gtVersion,r.hasProperty=g.hasProperty,r.hexToBigInt=n.hexToBigInt,r.hexToBytes=f.hexToBytes,r.hexToNumber=n.hexToNumber,r.inMilliseconds=i.inMilliseconds,r.isASCII=g.isASCII,r.isBytes=f.isBytes,r.isCaipAccountAddress=l.isCaipAccountAddress,r.isCaipAccountId=l.isCaipAccountId,r.isCaipChainId=l.isCaipChainId,r.isCaipNamespace=l.isCaipNamespace,r.isCaipReference=l.isCaipReference,r.isErrorWithCode=m.isErrorWithCode,r.isErrorWithMessage=m.isErrorWithMessage,r.isErrorWithStack=m.isErrorWithStack,r.isHexString=f.isHexString,r.isJsonRpcError=o.isJsonRpcError,r.isJsonRpcFailure=o.isJsonRpcFailure,r.isJsonRpcNotification=o.isJsonRpcNotification,r.isJsonRpcRequest=o.isJsonRpcRequest,r.isJsonRpcResponse=o.isJsonRpcResponse,r.isJsonRpcSuccess=o.isJsonRpcSuccess,r.isNonEmptyArray=g.isNonEmptyArray,r.isNullOrUndefined=g.isNullOrUndefined,r.isObject=g.isObject,r.isPendingJsonRpcResponse=o.isPendingJsonRpcResponse,r.isPlainObject=g.isPlainObject,r.isStrictHexString=f.isStrictHexString,r.isValidChecksumAddress=f.isValidChecksumAddress,r.isValidHexAddress=f.isValidHexAddress,r.isValidJson=o.isValidJson,r.isValidSemVerRange=a.isValidSemVerRange,r.isValidSemVerVersion=a.isValidSemVerVersion,r.jsonrpc2=o.jsonrpc2,r.numberToBytes=f.numberToBytes,r.numberToHex=n.numberToHex,r.object=o.object,r.parseCaipAccountId=l.parseCaipAccountId,r.parseCaipChainId=l.parseCaipChainId,r.remove0x=f.remove0x,r.satisfiesVersionRange=a.satisfiesVersionRange,r.signedBigIntToBytes=f.signedBigIntToBytes,r.stringToBytes=f.stringToBytes,r.timeSince=i.timeSince,r.toCaipChainId=l.toCaipChainId,r.valueToBytes=f.valueToBytes,r.wrapError=m.wrapError}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/index.js"}],[2741,{"./utils":2751,assert:3516,buffer:3520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const s=n(e("assert")),i=e("./utils");let a=[];var o;!function(e){e.STANDARD="standard",e.URI="uri",e.MINIMAL="minimal"}(o||(o={}));const c=e=>"ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom".slice(4*e,4*e+4),l=e=>`${e}${i.getCRCHex(t.from(e,"hex"))}`,u=(e,r)=>{const n=l(e);return t.from(n,"hex").reduce(((e,t)=>[...e,c(t)]),[]).join(r)},d=e=>{const r=l(e);return t.from(r,"hex").reduce(((e,t)=>e+(e=>{const t=c(e);return`${t[0]}${t[3]}`})(t)),"")},h=(e,r,n)=>{const o=(4==n?e.split(r):i.partition(e,2)).map((e=>((e,r)=>{s.default(e.length===r,"Invalid Bytewords: word.length does not match wordLength provided");const n=26;if(0===a.length){a=[...new Array(676)].map((()=>-1));for(let e=0;e<256;e++){const t=c(e);let r=t[0].charCodeAt(0)-"a".charCodeAt(0),s=t[3].charCodeAt(0)-"a".charCodeAt(0);a[s*n+r]=e}}let i=e[0].toLowerCase().charCodeAt(0)-"a".charCodeAt(0),o=e[4==r?3:1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0);s.default(0<=i&&i<n&&0<=o&&o<n,"Invalid Bytewords: invalid word");let l=a[o*n+i];if(s.default(-1!==l,"Invalid Bytewords: value not in lookup table"),4==r){const t=c(l);let r=e[1].toLowerCase(),n=e[2].toLowerCase();s.default(r===t[1]&&n===t[2],"Invalid Bytewords: invalid middle letters of word")}return t.from([l]).toString("hex")})(e,n))).join("");s.default(o.length>=5,"Invalid Bytewords: invalid decoded string length");const[l,u]=i.split(t.from(o,"hex"),4),d=i.getCRCHex(l);return s.default(d===u.toString("hex"),"Invalid Checksum"),l.toString("hex")};r.default={decode:(e,t=o.MINIMAL)=>{switch(t){case o.STANDARD:return h(e," ",4);case o.URI:return h(e,"-",4);case o.MINIMAL:return h(e,"",2);default:throw new Error(`Invalid style ${t}`)}},encode:(e,t=o.MINIMAL)=>{switch(t){case o.STANDARD:return u(e," ");case o.URI:return u(e,"-");case o.MINIMAL:return d(e);default:throw new Error(`Invalid style ${t}`)}},STYLES:o}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/bytewords.js"}],[2742,{buffer:3520,"cbor-sync":3533},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.cborDecode=r.cborEncode=void 0;const n=e("cbor-sync");r.cborEncode=e=>n.encode(e);r.cborDecode=e=>n.decode(t.isBuffer(e)?e:t.from(e,"hex"))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/cbor.js"}],[2743,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidChecksumError=r.InvalidSequenceComponentError=r.InvalidTypeError=r.InvalidPathLengthError=r.InvalidSchemeError=void 0;class n extends Error{constructor(){super("Invalid Scheme"),this.name="InvalidSchemeError"}}r.InvalidSchemeError=n;class s extends Error{constructor(){super("Invalid Path"),this.name="InvalidPathLengthError"}}r.InvalidPathLengthError=s;class i extends Error{constructor(){super("Invalid Type"),this.name="InvalidTypeError"}}r.InvalidTypeError=i;class a extends Error{constructor(){super("Invalid Sequence Component"),this.name="InvalidSequenceComponentError"}}r.InvalidSequenceComponentError=a;class o extends Error{constructor(){super("Invalid Checksum"),this.name="InvalidChecksumError"}}r.InvalidChecksumError=o}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/errors.js"}],[2744,{"./errors":2743,"./fountainUtils":2746,"./utils":2751,buffer:3520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.FountainDecoderPart=void 0;const n=e("./utils"),s=e("./fountainUtils"),i=e("./errors");class a{constructor(e,t){this._indexes=e,this._fragment=t}get indexes(){return this._indexes}get fragment(){return this._fragment}static fromEncoderPart(e){const t=s.chooseFragments(e.seqNum,e.seqLength,e.checksum),r=e.fragment;return new a(t,r)}isSimple(){return 1===this.indexes.length}}r.FountainDecoderPart=a;class o{constructor(){this.result=undefined,this.expectedMessageLength=0,this.expectedChecksum=0,this.expectedFragmentLength=0,this.processedPartsCount=0,this.expectedPartIndexes=[],this.lastPartIndexes=[],this.queuedParts=[],this.receivedPartIndexes=[],this.mixedParts=[],this.simpleParts=[]}validatePart(e){if(0===this.expectedPartIndexes.length)[...new Array(e.seqLength)].forEach(((e,t)=>this.expectedPartIndexes.push(t))),this.expectedMessageLength=e.messageLength,this.expectedChecksum=e.checksum,this.expectedFragmentLength=e.fragment.length;else{if(this.expectedPartIndexes.length!==e.seqLength)return!1;if(this.expectedMessageLength!==e.messageLength)return!1;if(this.expectedChecksum!==e.checksum)return!1;if(this.expectedFragmentLength!==e.fragment.length)return!1}return!0}reducePartByPart(e,t){if(n.arrayContains(e.indexes,t.indexes)){const r=n.setDifference(e.indexes,t.indexes),s=n.bufferXOR(e.fragment,t.fragment);return new a(r,s)}return e}reduceMixedBy(e){const t=[];this.mixedParts.map((({value:t})=>this.reducePartByPart(t,e))).forEach((e=>{e.isSimple()?this.queuedParts.push(e):t.push({key:e.indexes,value:e})})),this.mixedParts=t}processSimplePart(e){const t=e.indexes[0];if(!this.receivedPartIndexes.includes(t))if(this.simpleParts.push({key:e.indexes,value:e}),this.receivedPartIndexes.push(t),n.arraysEqual(this.receivedPartIndexes,this.expectedPartIndexes)){const e=this.simpleParts.map((({value:e})=>e)).sort(((e,t)=>e.indexes[0]-t.indexes[0])),t=o.joinFragments(e.map((e=>e.fragment)),this.expectedMessageLength);n.getCRC(t)===this.expectedChecksum?this.result=t:this.error=new i.InvalidChecksumError}else this.reduceMixedBy(e)}processMixedPart(e){if(this.mixedParts.some((({key:t})=>n.arraysEqual(t,e.indexes))))return;let t=this.simpleParts.reduce(((e,{value:t})=>this.reducePartByPart(e,t)),e);t=this.mixedParts.reduce(((e,{value:t})=>this.reducePartByPart(e,t)),t),t.isSimple()?this.queuedParts.push(t):(this.reduceMixedBy(t),this.mixedParts.push({key:t.indexes,value:t}))}processQueuedItem(){if(0===this.queuedParts.length)return;const e=this.queuedParts.shift();e.isSimple()?this.processSimplePart(e):this.processMixedPart(e)}receivePart(e){if(this.isComplete())return!1;if(!this.validatePart(e))return!1;const t=a.fromEncoderPart(e);for(this.lastPartIndexes=t.indexes,this.queuedParts.push(t);!this.isComplete()&&this.queuedParts.length>0;)this.processQueuedItem();return this.processedPartsCount+=1,!0}isComplete(){return Boolean(this.result!==undefined&&this.result.length>0)}isSuccess(){return Boolean(this.error===undefined&&this.isComplete())}resultMessage(){return this.isSuccess()?this.result:t.from([])}isFailure(){return this.error!==undefined}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.expectedPartIndexes.length}getExpectedPartIndexes(){return[...this.expectedPartIndexes]}getReceivedPartIndexes(){return[...this.receivedPartIndexes]}getLastPartIndexes(){return[...this.lastPartIndexes]}estimatedPercentComplete(){if(this.isComplete())return 1;const e=this.expectedPartCount();return 0===e?0:Math.min(.99,this.processedPartsCount/(1.75*e))}getProgress(){if(this.isComplete())return 1;const e=this.expectedPartCount();return 0===e?0:this.receivedPartIndexes.length/e}}r.default=o,o.joinFragments=(e,r)=>t.concat(e).slice(0,r)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/fountainDecoder.js"}],[2745,{"./cbor":2742,"./fountainUtils":2746,"./utils":2751,assert:3516,buffer:3520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.FountainEncoderPart=void 0;const s=n(e("assert")),i=e("./utils"),a=e("./fountainUtils"),o=e("./cbor");class c{constructor(e,t,r,n,s){this._seqNum=e,this._seqLength=t,this._messageLength=r,this._checksum=n,this._fragment=s}get messageLength(){return this._messageLength}get fragment(){return this._fragment}get seqNum(){return this._seqNum}get seqLength(){return this._seqLength}get checksum(){return this._checksum}cbor(){const e=o.cborEncode([this._seqNum,this._seqLength,this._messageLength,this._checksum,this._fragment]);return t.from(e)}description(){return`seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`}static fromCBOR(e){const[r,n,i,a,l]=o.cborDecode(e);return s.default("number"==typeof r),s.default("number"==typeof n),s.default("number"==typeof i),s.default("number"==typeof a),s.default(t.isBuffer(l)&&l.length>0),new c(r,n,i,a,t.from(l))}}r.FountainEncoderPart=c;class l{constructor(e,t=100,r=0,n=10){const s=l.findNominalFragmentLength(e.length,n,t);this._messageLength=e.length,this._fragments=l.partitionMessage(e,s),this.fragmentLength=s,this.seqNum=i.toUint32(r),this.checksum=i.getCRC(e)}get fragmentsLength(){return this._fragments.length}get fragments(){return this._fragments}get messageLength(){return this._messageLength}isComplete(){return this.seqNum>=this._fragments.length}isSinglePart(){return 1===this._fragments.length}seqLength(){return this._fragments.length}mix(e){return e.reduce(((e,t)=>i.bufferXOR(this._fragments[t],e)),t.alloc(this.fragmentLength,0))}nextPart(){this.seqNum=i.toUint32(this.seqNum+1);const e=a.chooseFragments(this.seqNum,this._fragments.length,this.checksum),t=this.mix(e);return new c(this.seqNum,this._fragments.length,this._messageLength,this.checksum,t)}static findNominalFragmentLength(e,t,r){s.default(e>0),s.default(t>0),s.default(r>=t);const n=Math.ceil(e/t);let i=0;for(let t=1;t<=n&&(i=Math.ceil(e/t),!(i<=r));t++);return i}static partitionMessage(e,r){let n,s=t.from(e),a=[];for(;s.length>0;)[n,s]=i.split(s,-r),n=t.alloc(r,0).fill(n,0,n.length),a.push(n);return a}}r.default=l}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/fountainEncoder.js"}],[2746,{"./utils":2751,"./xoshiro":2752,"@keystonehq/alias-sampling":598,buffer:3520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.chooseFragments=r.shuffle=r.chooseDegree=void 0;const s=e("./utils"),i=n(e("./xoshiro")),a=n(e("@keystonehq/alias-sampling"));r.chooseDegree=(e,t)=>{const r=[...new Array(e)].map(((e,t)=>1/(t+1)));return a.default(r,undefined,t.nextDouble).next()+1};r.shuffle=(e,t)=>{let r=[...e],n=[];for(;r.length>0;){let e=t.nextInt(0,r.length-1),s=r[e];r.splice(e,1),n.push(s)}return n};r.chooseFragments=(e,n,a)=>{if(e<=n)return[e-1];{const o=t.concat([s.intToBytes(e),s.intToBytes(a)]),c=new i.default(o),l=r.chooseDegree(n,c),u=[...new Array(n)].map(((e,t)=>t));return r.shuffle(u,c).slice(0,l)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/fountainUtils.js"}],[2747,{"./ur":2748,"./urDecoder":2749,"./urEncoder":2750},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.URDecoder=r.UREncoder=r.UR=void 0;const s=n(e("./ur"));r.UR=s.default;const i=n(e("./urEncoder"));r.UREncoder=i.default;const a=n(e("./urDecoder"));r.URDecoder=a.default}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/index.js"}],[2748,{"./cbor":2742,"./errors":2743,"./utils":2751,buffer:3520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});const n=e("./errors"),s=e("./utils"),i=e("./cbor");class a{constructor(e,t="bytes"){if(this._cborPayload=e,this._type=t,!s.isURType(this._type))throw new n.InvalidTypeError}static fromBuffer(e){return new a(i.cborEncode(e))}static from(e,r){return a.fromBuffer(t.from(e,r))}decodeCBOR(){return i.cborDecode(this._cborPayload)}get type(){return this._type}get cbor(){return this._cborPayload}equals(e){return this.type===e.type&&this.cbor.equals(e.cbor)}}r.default=a}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/ur.js"}],[2749,{"./bytewords":2741,"./errors":2743,"./fountainDecoder":2744,"./fountainEncoder":2745,"./ur":2748,"./utils":2751,assert:3516,buffer:3520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const s=n(e("./fountainDecoder")),i=n(e("./bytewords")),a=n(e("assert")),o=e("./utils"),c=e("./errors"),l=n(e("./ur")),u=e("./fountainEncoder");class d{constructor(e=new s.default,t="bytes"){this.fountainDecoder=e,this.type=t,a.default(o.isURType(t),"Invalid UR type"),this.expected_type=""}static decodeBody(e,r){const n=i.default.decode(r,i.default.STYLES.MINIMAL);return new l.default(t.from(n,"hex"),e)}validatePart(e){return this.expected_type?this.expected_type===e:!!o.isURType(e)&&(this.expected_type=e,!0)}static decode(e){const[t,r]=this.parse(e);if(0===r.length)throw new c.InvalidPathLengthError;const n=r[0];return d.decodeBody(t,n)}static parse(e){const t=e.toLowerCase();if("ur:"!==t.slice(0,3))throw new c.InvalidSchemeError;const r=t.slice(3).split("/"),n=r[0];if(r.length<2)throw new c.InvalidPathLengthError;if(!o.isURType(n))throw new c.InvalidTypeError;return[n,r.slice(1)]}static parseSequenceComponent(e){const t=e.split("-");if(2!==t.length)throw new c.InvalidSequenceComponentError;const r=o.toUint32(Number(t[0])),n=Number(t[1]);if(r<1||n<1)throw new c.InvalidSequenceComponentError;return[r,n]}receivePart(e){if(this.result!==undefined)return!1;const[t,r]=d.parse(e);if(!this.validatePart(t))return!1;if(1===r.length)return this.result=d.decodeBody(t,r[0]),!0;if(2!==r.length)throw new c.InvalidPathLengthError;const[n,s]=r,[a,o]=d.parseSequenceComponent(n),h=i.default.decode(s,i.default.STYLES.MINIMAL),f=u.FountainEncoderPart.fromCBOR(h);return a===f.seqNum&&o===f.seqLength&&(!!this.fountainDecoder.receivePart(f)&&(this.fountainDecoder.isSuccess()?this.result=new l.default(this.fountainDecoder.resultMessage(),t):this.fountainDecoder.isFailure()&&(this.error=new c.InvalidSchemeError),!0))}resultUR(){return this.result?this.result:new l.default(t.from([]))}isComplete(){return this.result&&this.result.cbor.length>0}isSuccess(){return!this.error&&this.isComplete()}isError(){return this.error!==undefined}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.fountainDecoder.expectedPartCount()}expectedPartIndexes(){return this.fountainDecoder.getExpectedPartIndexes()}receivedPartIndexes(){return this.fountainDecoder.getReceivedPartIndexes()}lastPartIndexes(){return this.fountainDecoder.getLastPartIndexes()}estimatedPercentComplete(){return this.fountainDecoder.estimatedPercentComplete()}getProgress(){return this.fountainDecoder.getProgress()}}r.default=d}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/urDecoder.js"}],[275,{"../../../shared/constants/app":4962,"../../../ui/helpers/utils/util":5906,"../lib/util":135,"../translate":278,"@metamask/etherscan-link":1428,"@metamask/transaction-controller":2660,lodash:4322,"webextension-polyfill":4941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,s=(n=e("webextension-polyfill"))&&n.__esModule?n:{default:n},i=e("@metamask/etherscan-link"),a=e("lodash"),o=e("@metamask/transaction-controller"),c=e("../lib/util"),l=e("../../../shared/constants/app"),u=e("../../../ui/helpers/utils/util"),d=e("../translate");r.default=class{reload(){s.default.runtime.reload()}async openTab(e){return await s.default.tabs.create(e)}async openWindow(e){return await s.default.windows.create(e)}async focusWindow(e){await s.default.windows.update(e,{focused:!0})}async updateWindowPosition(e,t,r){await s.default.windows.update(e,{left:t,top:r})}async getLastFocusedWindow(){return await s.default.windows.getLastFocused()}async closeCurrentWindow(){const e=await s.default.windows.getCurrent();s.default.windows.remove(e.id)}getVersion(){const{version:e,version_name:t}=s.default.runtime.getManifest(),r=e.split(".");if(t){if(r.length<4)throw new Error(`Version missing build number: '${e}'`);return t}if(![3,4].includes(r.length))throw new Error(`Invalid version: ${e}`);if(r[2].match(/[^\d]/u)){const[t,n,s]=r,i=s.match(/^(\d+)([A-Za-z]+)(\d)+$/u);if(null===i)throw new Error(`Version contains invalid prerelease: ${e}`);const[,a,o,c]=i;return`${t}.${n}.${a}-${o}.${c}`}return e}getExtensionURL(e=null,t=null){let r=s.default.runtime.getURL("home.html");return e&&(r+=`#${e}`),t&&(r+=`?${t}`),r}openExtensionInBrowser(e=null,t=null,r=!1){const n=this.getExtensionURL(e,t,r);this.openTab({url:n}),(0,c.getEnvironmentType)()===l.ENVIRONMENT_TYPE_BACKGROUND||r||window.close()}getPlatformInfo(e){try{return void e(s.default.runtime.getPlatformInfo())}catch(t){return void e(t)}}async showTransactionNotification(e,t){const{status:r,txReceipt:{status:n}={}}=e;r===o.TransactionStatus.confirmed?"0x0"===n?await this._showFailedTransaction(e,"Transaction encountered an error."):await this._showConfirmedTransaction(e,t):r===o.TransactionStatus.failed&&await this._showFailedTransaction(e)}addOnRemovedListener(e){s.default.windows.onRemoved.addListener(e)}async getAllWindows(){return await s.default.windows.getAll()}async getActiveTabs(){return await s.default.tabs.query({active:!0})}async currentTab(){return await s.default.tabs.getCurrent()}async switchToTab(e){return await s.default.tabs.update(e,{highlighted:!0})}async switchToAnotherURL(e,t){await s.default.tabs.update(e,{url:t})}async closeTab(e){await s.default.tabs.remove(e)}async _showConfirmedTransaction(e,t){this._subscribeToNotificationClicked();const r=(0,i.getBlockExplorerLink)(e,t),n=parseInt(e.txParams.nonce,16),s=(0,a.startCase)((0,a.toLower)((0,u.getURLHostName)(r).replace(/([.]\w+)$/u,""))),o=(0,d.t)("notificationTransactionSuccessTitle");let c=(0,d.t)("notificationTransactionSuccessMessage",n);r.length&&(c+=` ${(0,d.t)("notificationTransactionSuccessView",s)}`),await this._showNotification(o,c,r)}async _showFailedTransaction(e,t){const r=parseInt(e.txParams.nonce,16),n=(0,d.t)("notificationTransactionFailedTitle");let s=(0,d.t)("notificationTransactionFailedMessage",r,t||e.error.message);await this._showNotification(n,s)}async _showNotification(e,t,r){const n=await s.default.runtime.getURL("../../images/icon-64.png");await s.default.notifications.create(r,{type:"basic",title:e,iconUrl:n,message:t})}_subscribeToNotificationClicked(){s.default.notifications.onClicked.hasListener(this._viewOnEtherscan)||s.default.notifications.onClicked.addListener(this._viewOnEtherscan)}_viewOnEtherscan(e){e.startsWith("https://")&&s.default.tabs.create({url:e})}}}}},{package:"$root$",file:"app/scripts/platforms/extension.js"}],[2750,{"./bytewords":2741,"./fountainEncoder":2745},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const s=n(e("./fountainEncoder")),i=n(e("./bytewords"));class a{constructor(e,t,r,n){this.ur=e,this.fountainEncoder=new s.default(e.cbor,t,r,n)}get fragmentsLength(){return this.fountainEncoder.fragmentsLength}get fragments(){return this.fountainEncoder.fragments}get messageLength(){return this.fountainEncoder.messageLength}get cbor(){return this.ur.cbor}encodeWhole(){return[...new Array(this.fragmentsLength)].map((()=>this.nextPart()))}nextPart(){const e=this.fountainEncoder.nextPart();return this.fountainEncoder.isSinglePart()?a.encodeSinglePart(this.ur):a.encodePart(this.ur.type,e)}static encodeUri(e,t){return[e,t.join("/")].join(":")}static encodeUR(e){return a.encodeUri("ur",e)}static encodePart(e,t){const r=`${t.seqNum}-${t.seqLength}`,n=i.default.encode(t.cbor().toString("hex"),i.default.STYLES.MINIMAL);return a.encodeUR([e,r,n])}static encodeSinglePart(e){const t=i.default.encode(e.cbor.toString("hex"),i.default.STYLES.MINIMAL);return a.encodeUR([e.type,t])}}r.default=a}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/urEncoder.js"}],[2751,{buffer:3520,crc:3608,"sha.js":4807},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.bufferXOR=r.setDifference=r.arrayContains=r.arraysEqual=r.hasPrefix=r.isURType=r.intToBytes=r.toUint32=r.getCRCHex=r.getCRC=r.split=r.partition=r.sha256Hash=void 0;const s=n(e("sha.js")),i=e("crc");r.sha256Hash=e=>s.default("sha256").update(e).digest();r.partition=(e,t)=>e.match(new RegExp(".{1,"+t+"}","g"))||[e];r.split=(e,t)=>[e.slice(0,-t),e.slice(-t)];r.getCRC=e=>i.crc32(e);r.getCRCHex=e=>i.crc32(e).toString(16).padStart(8,"0");r.toUint32=e=>e>>>0;r.intToBytes=e=>{const r=new ArrayBuffer(4);return new DataView(r).setUint32(0,e,!1),t.from(r)};r.isURType=e=>e.split("").every(((t,r)=>{let n=e.charCodeAt(r);return"a".charCodeAt(0)<=n&&n<="z".charCodeAt(0)||("0".charCodeAt(0)<=n&&n<="9".charCodeAt(0)||n==="-".charCodeAt(0))}));r.hasPrefix=(e,t)=>0===e.indexOf(t);r.arraysEqual=(e,t)=>e.length===t.length&&e.every((e=>t.includes(e)));r.arrayContains=(e,t)=>t.every((t=>e.includes(t)));r.setDifference=(e,t)=>e.filter((e=>t.indexOf(e)<0));r.bufferXOR=(e,r)=>{const n=Math.max(e.length,r.length),s=t.allocUnsafe(n);for(let t=0;t<n;++t)s[t]=e[t]^r[t];return s}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/utils.js"}],[2752,{"./utils":2751,"bignumber.js":2753,jsbi:4160},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const s=e("./utils"),i=n(e("bignumber.js")),a=n(e("jsbi")),o=(e,t)=>a.default.bitwiseXor(a.default.asUintN(64,a.default.leftShift(e,a.default.BigInt(t))),a.default.BigInt(a.default.asUintN(64,a.default.signedRightShift(e,a.default.subtract(a.default.BigInt(64),a.default.BigInt(t))))));r.default=class{constructor(e){this.next=()=>new i.default(this.roll().toString()),this.nextDouble=()=>new i.default(this.roll().toString()).div(0x10000000000000000),this.nextInt=(e,t)=>Math.floor(this.nextDouble().toNumber()*(t-e+1)+e),this.nextByte=()=>this.nextInt(0,255),this.nextData=e=>[...new Array(e)].map((()=>this.nextByte()));const t=s.sha256Hash(e);this.s=[a.default.BigInt(0),a.default.BigInt(0),a.default.BigInt(0),a.default.BigInt(0)],this.setS(t)}setS(e){for(let t=0;t<4;t++){let r=8*t,n=a.default.BigInt(0);for(let t=0;t<8;t++)n=a.default.asUintN(64,a.default.leftShift(n,a.default.BigInt(8))),n=a.default.asUintN(64,a.default.bitwiseOr(n,a.default.BigInt(e[r+t])));this.s[t]=a.default.asUintN(64,n)}}roll(){const e=a.default.asUintN(64,a.default.multiply(o(a.default.asUintN(64,a.default.multiply(this.s[1],a.default.BigInt(5))),7),a.default.BigInt(9))),t=a.default.asUintN(64,a.default.leftShift(this.s[1],a.default.BigInt(17)));return this.s[2]=a.default.asUintN(64,a.default.bitwiseXor(this.s[2],a.default.BigInt(this.s[0]))),this.s[3]=a.default.asUintN(64,a.default.bitwiseXor(this.s[3],a.default.BigInt(this.s[1]))),this.s[1]=a.default.asUintN(64,a.default.bitwiseXor(this.s[1],a.default.BigInt(this.s[2]))),this.s[0]=a.default.asUintN(64,a.default.bitwiseXor(this.s[0],a.default.BigInt(this.s[3]))),this.s[2]=a.default.asUintN(64,a.default.bitwiseXor(this.s[2],a.default.BigInt(t))),this.s[3]=a.default.asUintN(64,o(this.s[3],45)),e}}}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/xoshiro.js"}],[2753,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){!function(e){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,i=Math.floor,a="[BigNumber Error] ",o=a+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,u=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,f=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,r,n=1,s=e.length,i=e[0]+"";n<s;){for(t=e[n++]+"",r=l-t.length;r--;t="0"+t);i+=t}for(s=i.length;48===i.charCodeAt(--s););return i.slice(0,s+1||1)}function g(e,t){var r,n,s=e.c,i=t.c,a=e.s,o=t.s,c=e.e,l=t.e;if(!a||!o)return null;if(r=s&&!s[0],n=i&&!i[0],r||n)return r?n?0:-o:a;if(a!=o)return a;if(r=a<0,n=c==l,!s||!i)return n?0:!s^r?1:-1;if(!n)return c>l^r?1:-1;for(o=(c=s.length)<(l=i.length)?c:l,a=0;a<o;a++)if(s[a]!=i[a])return s[a]>i[a]^r?1:-1;return c==l?0:c>l^r?1:-1}function v(e,t,r,n){if(e<t||e>r||e!==i(e))throw Error(a+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function y(e){var t=e.c.length-1;return p(e.e/l)==t&&e.c[t]%2!=0}function b(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,r){var n,s;if(t<0){for(s=r+".";++t;s+=r);e=s+e}else if(++t>(n=e.length)){for(s=r,t-=n;--t;s+=r);e+=s}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}r=function e(t){var r,S,_,E,k,T,I,j,x,P,A=$.prototype={constructor:$,toString:null,valueOf:null},C=new $(1),R=20,O=4,N=-7,B=21,M=-1e7,L=1e7,F=!1,D=1,H=0,G={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},U="0123456789abcdefghijklmnopqrstuvwxyz",V=!0;function $(e,t){var r,s,a,c,d,h,f,p,m=this;if(!(m instanceof $))return new $(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>L?m.c=m.e=null:e.e<M?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,d=e;d>=10;d/=10,c++);return void(c>L?m.c=m.e=null:(m.e=c,m.c=[e]))}p=String(e)}else{if(!n.test(p=String(e)))return _(m,p,h);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(c=p.indexOf("."))>-1&&(p=p.replace(".","")),(d=p.search(/e/i))>0?(c<0&&(c=d),c+=+p.slice(d+1),p=p.substring(0,d)):c<0&&(c=p.length)}else{if(v(t,2,U.length,"Base"),10==t&&V)return z(m=new $(e),R+m.e+1,O);if(p=String(e),h="number"==typeof e){if(0*e!=0)return _(m,p,h,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,$.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(o+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(r=U.slice(0,t),c=d=0,f=p.length;d<f;d++)if(r.indexOf(s=p.charAt(d))<0){if("."==s){if(d>c){c=f;continue}}else if(!a&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){a=!0,d=-1,c=0;continue}return _(m,String(e),h,t)}h=!1,(c=(p=S(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):c=p.length}for(d=0;48===p.charCodeAt(d);d++);for(f=p.length;48===p.charCodeAt(--f););if(p=p.slice(d,++f)){if(f-=d,h&&$.DEBUG&&f>15&&(e>u||e!==i(e)))throw Error(o+m.s*e);if((c=c-d-1)>L)m.c=m.e=null;else if(c<M)m.c=[m.e=0];else{if(m.e=c,m.c=[],d=(c+1)%l,c<0&&(d+=l),d<f){for(d&&m.c.push(+p.slice(0,d)),f-=l;d<f;)m.c.push(+p.slice(d,d+=l));d=l-(p=p.slice(d)).length}else d-=f;for(;d--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function W(e,t,r,n){var s,i,a,o,c;if(null==r?r=O:v(r,0,8),!e.c)return e.toString();if(s=e.c[0],a=e.e,null==t)c=m(e.c),c=1==n||2==n&&(a<=N||a>=B)?b(c,a):w(c,a,"0");else if(i=(e=z(new $(e),t,r)).e,o=(c=m(e.c)).length,1==n||2==n&&(t<=i||i<=N)){for(;o<t;c+="0",o++);c=b(c,i)}else if(t-=a,c=w(c,i,"0"),i+1>o){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=i-o)>0)for(i+1==o&&(c+=".");t--;c+="0");return e.s<0&&s?"-"+c:c}function J(e,t){for(var r,n,s=1,i=new $(e[0]);s<e.length;s++)(!(n=new $(e[s])).s||(r=g(i,n))===t||0===r&&i.s===t)&&(i=n);return i}function q(e,t,r){for(var n=1,s=t.length;!t[--s];t.pop());for(s=t[0];s>=10;s/=10,n++);return(r=n+r*l-1)>L?e.c=e.e=null:r<M?e.c=[e.e=0]:(e.e=r,e.c=t),e}function z(e,t,r,n){var a,o,u,h,f,p,m,g=e.c,v=d;if(g){e:{for(a=1,h=g[0];h>=10;h/=10,a++);if((o=t-a)<0)o+=l,u=t,f=g[p=0],m=i(f/v[a-u-1]%10);else if((p=s((o+1)/l))>=g.length){if(!n)break e;for(;g.length<=p;g.push(0));f=m=0,a=1,u=(o%=l)-l+1}else{for(f=h=g[p],a=1;h>=10;h/=10,a++);m=(u=(o%=l)-l+a)<0?0:i(f/v[a-u-1]%10)}if(n=n||t<0||null!=g[p+1]||(u<0?f:f%v[a-u-1]),n=r<4?(m||n)&&(0==r||r==(e.s<0?3:2)):m>5||5==m&&(4==r||n||6==r&&(o>0?u>0?f/v[a-u]:0:g[p-1])%10&1||r==(e.s<0?8:7)),t<1||!g[0])return g.length=0,n?(t-=e.e+1,g[0]=v[(l-t%l)%l],e.e=-t||0):g[0]=e.e=0,e;if(0==o?(g.length=p,h=1,p--):(g.length=p+1,h=v[l-o],g[p]=u>0?i(f/v[a-u]%v[u])*h:0),n)for(;;){if(0==p){for(o=1,u=g[0];u>=10;u/=10,o++);for(u=g[0]+=h,h=1;u>=10;u/=10,h++);o!=h&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[p]+=h,g[p]!=c)break;g[p--]=0,h=1}for(o=g.length;0===g[--o];g.pop());}e.e>L?e.c=e.e=null:e.e<M&&(e.c=[e.e=0])}return e}function K(e){var t,r=e.e;return null===r?e.toString():(t=m(e.c),t=r<=N||r>=B?b(t,r):w(t,r,"0"),e.s<0?"-"+t:t)}return $.clone=e,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=$.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(v(r=e[t],0,f,t),R=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(v(r=e[t],0,8,t),O=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(v(r[0],-f,0,t),v(r[1],0,f,t),N=r[0],B=r[1]):(v(r,-f,f,t),N=-(B=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)v(r[0],-f,-1,t),v(r[1],1,f,t),M=r[0],L=r[1];else{if(v(r,-f,f,t),!r)throw Error(a+t+" cannot be zero: "+r);M=-(L=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(a+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw F=!r,Error(a+"crypto unavailable");F=r}else F=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(v(r=e[t],0,9,t),D=r),e.hasOwnProperty(t="POW_PRECISION")&&(v(r=e[t],0,f,t),H=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(a+t+" not an object: "+r);G=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(a+t+" invalid: "+r);V="0123456789"==r.slice(0,10),U=r}}return{DECIMAL_PLACES:R,ROUNDING_MODE:O,EXPONENTIAL_AT:[N,B],RANGE:[M,L],CRYPTO:F,MODULO_MODE:D,POW_PRECISION:H,FORMAT:G,ALPHABET:U}},$.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!$.DEBUG)return!0;var t,r,n=e.c,s=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===o||-1===o)&&s>=-f&&s<=f&&s===i(s)){if(0===n[0]){if(0===s&&1===n.length)return!0;break e}if((t=(s+1)%l)<1&&(t+=l),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=c||r!==i(r))break e;if(0!==r)return!0}}}else if(null===n&&null===s&&(null===o||1===o||-1===o))return!0;throw Error(a+"Invalid BigNumber: "+e)},$.maximum=$.max=function(){return J(arguments,-1)},$.minimum=$.min=function(){return J(arguments,1)},$.random=(E=9007199254740992,k=Math.random()*E&2097151?function(){return i(Math.random()*E)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,o,c,u=0,h=[],p=new $(C);if(null==e?e=R:v(e,0,f),o=s(e/l),F)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));u<o;)(c=131072*t[u]+(t[u+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[u]=r[0],t[u+1]=r[1]):(h.push(c%1e14),u+=2);u=o/2}else{if(!crypto.randomBytes)throw F=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(o*=7);u<o;)(c=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(h.push(c%1e14),u+=7);u=o/7}if(!F)for(;u<o;)(c=k())<9e15&&(h[u++]=c%1e14);for(o=h[--u],e%=l,o&&e&&(c=d[l-e],h[u]=i(o/c)*c);0===h[u];h.pop(),u--);if(u<0)h=[n=0];else{for(n=-1;0===h[0];h.splice(0,1),n-=l);for(u=1,c=h[0];c>=10;c/=10,u++);u<l&&(n-=l-u)}return p.e=n,p.c=h,p}),$.sum=function(){for(var e=1,t=arguments,r=new $(t[0]);e<t.length;)r=r.plus(t[e++]);return r},S=function(){var e="0123456789";function t(e,t,r,n){for(var s,i,a=[0],o=0,c=e.length;o<c;){for(i=a.length;i--;a[i]*=t);for(a[0]+=n.indexOf(e.charAt(o++)),s=0;s<a.length;s++)a[s]>r-1&&(null==a[s+1]&&(a[s+1]=0),a[s+1]+=a[s]/r|0,a[s]%=r)}return a.reverse()}return function(n,s,i,a,o){var c,l,u,d,h,f,p,g,v=n.indexOf("."),y=R,b=O;for(v>=0&&(d=H,H=0,n=n.replace(".",""),f=(g=new $(s)).pow(n.length-v),H=d,g.c=t(w(m(f.c),f.e,"0"),10,i,e),g.e=g.c.length),u=d=(p=t(n,s,i,o?(c=U,e):(c=e,U))).length;0==p[--d];p.pop());if(!p[0])return c.charAt(0);if(v<0?--u:(f.c=p,f.e=u,f.s=a,p=(f=r(f,g,y,b,i)).c,h=f.r,u=f.e),v=p[l=u+y+1],d=i/2,h=h||l<0||null!=p[l+1],h=b<4?(null!=v||h)&&(0==b||b==(f.s<0?3:2)):v>d||v==d&&(4==b||h||6==b&&1&p[l-1]||b==(f.s<0?8:7)),l<1||!p[0])n=h?w(c.charAt(1),-y,c.charAt(0)):c.charAt(0);else{if(p.length=l,h)for(--i;++p[--l]>i;)p[l]=0,l||(++u,p=[1].concat(p));for(d=p.length;!p[--d];);for(v=0,n="";v<=d;n+=c.charAt(p[v++]));n=w(n,u,c.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,s,i,a,o=0,c=e.length,l=t%h,u=t/h|0;for(e=e.slice();c--;)o=((s=l*(i=e[c]%h)+(n=u*i+(a=e[c]/h|0)*l)%h*h+o)/r|0)+(n/h|0)+u*a,e[c]=s%r;return o&&(e=[o].concat(e)),e}function t(e,t,r,n){var s,i;if(r!=n)i=r>n?1:-1;else for(s=i=0;s<r;s++)if(e[s]!=t[s]){i=e[s]>t[s]?1:-1;break}return i}function r(e,t,r,n){for(var s=0;r--;)e[r]-=s,s=e[r]<t[r]?1:0,e[r]=s*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,s,a,o,u){var d,h,f,m,g,v,y,b,w,S,_,E,k,T,I,j,x,P=n.s==s.s?1:-1,A=n.c,C=s.c;if(!(A&&A[0]&&C&&C[0]))return new $(n.s&&s.s&&(A?!C||A[0]!=C[0]:C)?A&&0==A[0]||!C?0*P:P/0:NaN);for(w=(b=new $(P)).c=[],P=a+(h=n.e-s.e)+1,u||(u=c,h=p(n.e/l)-p(s.e/l),P=P/l|0),f=0;C[f]==(A[f]||0);f++);if(C[f]>(A[f]||0)&&h--,P<0)w.push(1),m=!0;else{for(T=A.length,j=C.length,f=0,P+=2,(g=i(u/(C[0]+1)))>1&&(C=e(C,g,u),A=e(A,g,u),j=C.length,T=A.length),k=j,_=(S=A.slice(0,j)).length;_<j;S[_++]=0);x=C.slice(),x=[0].concat(x),I=C[0],C[1]>=u/2&&I++;do{if(g=0,(d=t(C,S,j,_))<0){if(E=S[0],j!=_&&(E=E*u+(S[1]||0)),(g=i(E/I))>1)for(g>=u&&(g=u-1),y=(v=e(C,g,u)).length,_=S.length;1==t(v,S,y,_);)g--,r(v,j<y?x:C,y,u),y=v.length,d=1;else 0==g&&(d=g=1),y=(v=C.slice()).length;if(y<_&&(v=[0].concat(v)),r(S,v,_,u),_=S.length,-1==d)for(;t(C,S,j,_)<1;)g++,r(S,j<_?x:C,_,u),_=S.length}else 0===d&&(g++,S=[0]);w[f++]=g,S[0]?S[_++]=A[k]||0:(S=[A[k]],_=1)}while((k++<T||null!=S[0])&&P--);m=null!=S[0],w[0]||w.splice(0,1)}if(u==c){for(f=1,P=w[0];P>=10;P/=10,f++);z(b,a+(b.e=f+h*l-1)+1,o,m)}else b.e=h,b.r=+m;return b}}(),T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,I=/^([^.]+)\.$/,j=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g,_=function(e,t,r,n){var s,i=r?t:t.replace(P,"");if(x.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!r&&(i=i.replace(T,(function(e,t,r){return s="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=s?e:t})),n&&(s=n,i=i.replace(I,"$1").replace(j,"0.$1")),t!=i))return new $(i,s);if($.DEBUG)throw Error(a+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new $(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return g(this,new $(e,t))},A.decimalPlaces=A.dp=function(e,t){var r,n,s,i=this;if(null!=e)return v(e,0,f),null==t?t=O:v(t,0,8),z(new $(i),e+i.e+1,t);if(!(r=i.c))return null;if(n=((s=r.length-1)-p(this.e/l))*l,s=r[s])for(;s%10==0;s/=10,n--);return n<0&&(n=0),n},A.dividedBy=A.div=function(e,t){return r(this,new $(e,t),R,O)},A.dividedToIntegerBy=A.idiv=function(e,t){return r(this,new $(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var r,n,o,c,u,d,h,f,p=this;if((e=new $(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+K(e));if(null!=t&&(t=new $(t)),u=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return f=new $(Math.pow(+K(p),u?e.s*(2-y(e)):+K(e))),t?f.mod(t):f;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new $(NaN);(n=!d&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||u&&p.c[1]>=24e7:p.c[0]<8e13||u&&p.c[0]<=9999975e7)))return c=p.s<0&&y(e)?-0:0,p.e>-1&&(c=1/c),new $(d?1/c:c);H&&(c=s(H/l+2))}for(u?(r=new $(.5),d&&(e.s=1),h=y(e)):h=(o=Math.abs(+K(e)))%2,f=new $(C);;){if(h){if(!(f=f.times(p)).c)break;c?f.c.length>c&&(f.c.length=c):n&&(f=f.mod(t))}if(o){if(0===(o=i(o/2)))break;h=o%2}else if(z(e=e.times(r),e.e+1,1),e.e>14)h=y(e);else{if(0===(o=+K(e)))break;h=o%2}p=p.times(p),c?p.c&&p.c.length>c&&(p.c.length=c):n&&(p=p.mod(t))}return n?f:(d&&(f=C.div(f)),t?f.mod(t):c?z(f,H,O,undefined):f)},A.integerValue=function(e){var t=new $(this);return null==e?e=O:v(e,0,8),z(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===g(this,new $(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return g(this,new $(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=g(this,new $(e,t)))||0===t},A.isInteger=function(){return!!this.c&&p(this.e/l)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return g(this,new $(e,t))<0},A.isLessThanOrEqualTo=A.lte=function(e,t){return-1===(t=g(this,new $(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var r,n,s,i,a=this,o=a.s;if(t=(e=new $(e,t)).s,!o||!t)return new $(NaN);if(o!=t)return e.s=-t,a.plus(e);var u=a.e/l,d=e.e/l,h=a.c,f=e.c;if(!u||!d){if(!h||!f)return h?(e.s=-t,e):new $(f?a:NaN);if(!h[0]||!f[0])return f[0]?(e.s=-t,e):new $(h[0]?a:3==O?-0:0)}if(u=p(u),d=p(d),h=h.slice(),o=u-d){for((i=o<0)?(o=-o,s=h):(d=u,s=f),s.reverse(),t=o;t--;s.push(0));s.reverse()}else for(n=(i=(o=h.length)<(t=f.length))?o:t,o=t=0;t<n;t++)if(h[t]!=f[t]){i=h[t]<f[t];break}if(i&&(s=h,h=f,f=s,e.s=-e.s),(t=(n=f.length)-(r=h.length))>0)for(;t--;h[r++]=0);for(t=c-1;n>o;){if(h[--n]<f[n]){for(r=n;r&&!h[--r];h[r]=t);--h[r],h[n]+=c}h[n]-=f[n]}for(;0==h[0];h.splice(0,1),--d);return h[0]?q(e,h,d):(e.s=3==O?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var n,s,i=this;return e=new $(e,t),!i.c||!e.s||e.c&&!e.c[0]?new $(NaN):!e.c||i.c&&!i.c[0]?new $(i):(9==D?(s=e.s,e.s=1,n=r(i,e,0,3),e.s=s,n.s*=s):n=r(i,e,0,D),(e=i.minus(n.times(e))).c[0]||1!=D||(e.s=i.s),e)},A.multipliedBy=A.times=function(e,t){var r,n,s,i,a,o,u,d,f,m,g,v,y,b,w,S=this,_=S.c,E=(e=new $(e,t)).c;if(!(_&&E&&_[0]&&E[0]))return!S.s||!e.s||_&&!_[0]&&!E||E&&!E[0]&&!_?e.c=e.e=e.s=null:(e.s*=S.s,_&&E?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=p(S.e/l)+p(e.e/l),e.s*=S.s,(u=_.length)<(m=E.length)&&(y=_,_=E,E=y,s=u,u=m,m=s),s=u+m,y=[];s--;y.push(0));for(b=c,w=h,s=m;--s>=0;){for(r=0,g=E[s]%w,v=E[s]/w|0,i=s+(a=u);i>s;)r=((d=g*(d=_[--a]%w)+(o=v*d+(f=_[a]/w|0)*g)%w*w+y[i]+r)/b|0)+(o/w|0)+v*f,y[i--]=d%b;y[i]=r}return r?++n:y.splice(0,1),q(e,y,n)},A.negated=function(){var e=new $(this);return e.s=-e.s||null,e},A.plus=function(e,t){var r,n=this,s=n.s;if(t=(e=new $(e,t)).s,!s||!t)return new $(NaN);if(s!=t)return e.s=-t,n.minus(e);var i=n.e/l,a=e.e/l,o=n.c,u=e.c;if(!i||!a){if(!o||!u)return new $(s/0);if(!o[0]||!u[0])return u[0]?e:new $(o[0]?n:0*s)}if(i=p(i),a=p(a),o=o.slice(),s=i-a){for(s>0?(a=i,r=u):(s=-s,r=o),r.reverse();s--;r.push(0));r.reverse()}for((s=o.length)-(t=u.length)<0&&(r=u,u=o,o=r,t=s),s=0;t;)s=(o[--t]=o[t]+u[t]+s)/c|0,o[t]=c===o[t]?0:o[t]%c;return s&&(o=[s].concat(o),++a),q(e,o,a)},A.precision=A.sd=function(e,t){var r,n,s,i=this;if(null!=e&&e!==!!e)return v(e,1,f),null==t?t=O:v(t,0,8),z(new $(i),e,t);if(!(r=i.c))return null;if(n=(s=r.length-1)*l+1,s=r[s]){for(;s%10==0;s/=10,n--);for(s=r[0];s>=10;s/=10,n++);}return e&&i.e+1>n&&(n=i.e+1),n},A.shiftedBy=function(e){return v(e,-9007199254740991,u),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,n,s,i,a=this,o=a.c,c=a.s,l=a.e,u=R+4,d=new $("0.5");if(1!==c||!o||!o[0])return new $(!c||c<0&&(!o||o[0])?NaN:o?a:1/0);if(0==(c=Math.sqrt(+K(a)))||c==1/0?(((t=m(o)).length+l)%2==0&&(t+="0"),c=Math.sqrt(+t),l=p((l+1)/2)-(l<0||l%2),n=new $(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new $(c+""),n.c[0])for((c=(l=n.e)+u)<3&&(c=0);;)if(i=n,n=d.times(i.plus(r(a,i,u,1))),m(i.c).slice(0,c)===(t=m(n.c)).slice(0,c)){if(n.e<l&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(s||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(z(n,n.e+R+2,1),e=!n.times(n).eq(a));break}if(!s&&(z(i,i.e+R+2,0),i.times(i).eq(a))){n=i;break}u+=4,c+=4,s=1}return z(n,n.e+R+1,O,e)},A.toExponential=function(e,t){return null!=e&&(v(e,0,f),e++),W(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(v(e,0,f),e=e+this.e+1),W(this,e,t)},A.toFormat=function(e,t,r){var n,s=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=G;else if("object"!=typeof r)throw Error(a+"Argument not an object: "+r);if(n=s.toFixed(e,t),s.c){var i,o=n.split("."),c=+r.groupSize,l=+r.secondaryGroupSize,u=r.groupSeparator||"",d=o[0],h=o[1],f=s.s<0,p=f?d.slice(1):d,m=p.length;if(l&&(i=c,c=l,l=i,m-=i),c>0&&m>0){for(i=m%c||c,d=p.substr(0,i);i<m;i+=c)d+=u+p.substr(i,c);l>0&&(d+=u+p.slice(i)),f&&(d="-"+d)}n=h?d+(r.decimalSeparator||"")+((l=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):d}return(r.prefix||"")+n+(r.suffix||"")},A.toFraction=function(e){var t,n,s,i,o,c,u,h,f,p,g,v,y=this,b=y.c;if(null!=e&&(!(u=new $(e)).isInteger()&&(u.c||1!==u.s)||u.lt(C)))throw Error(a+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+K(u));if(!b)return new $(y);for(t=new $(C),f=n=new $(C),s=h=new $(C),v=m(b),o=t.e=v.length-y.e-1,t.c[0]=d[(c=o%l)<0?l+c:c],e=!e||u.comparedTo(t)>0?o>0?t:f:u,c=L,L=1/0,u=new $(v),h.c[0]=0;p=r(u,t,0,1),1!=(i=n.plus(p.times(s))).comparedTo(e);)n=s,s=i,f=h.plus(p.times(i=f)),h=i,t=u.minus(p.times(i=t)),u=i;return i=r(e.minus(n),s,0,1),h=h.plus(i.times(f)),n=n.plus(i.times(s)),h.s=f.s=y.s,g=r(f,s,o*=2,O).minus(y).abs().comparedTo(r(h,n,o,O).minus(y).abs())<1?[f,s]:[h,n],L=c,g},A.toNumber=function(){return+K(this)},A.toPrecision=function(e,t){return null!=e&&v(e,1,f),W(this,e,t,2)},A.toString=function(e){var t,r=this,n=r.s,s=r.e;return null===s?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=s<=N||s>=B?b(m(r.c),s):w(m(r.c),s,"0"):10===e&&V?t=w(m((r=z(new $(r),R+s+1,O)).c),r.e,"0"):(v(e,2,U.length,"Base"),t=S(w(m(r.c),s,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return K(this)},A._isBigNumber=!0,null!=t&&$.set(t),$}(),r.default=r.BigNumber=r,"function"==typeof define&&define.amd?define((function(){return r})):void 0!==t&&t.exports?t.exports=r:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=r)}(this)}}},{package:"@ngraveio/bc-ur>bignumber.js",file:"node_modules/@ngraveio/bc-ur/node_modules/bignumber.js/bignumber.js"}],[2760,{"./abstract/weierstrass.js":2767,"@noble/hashes/hmac":2774,"@noble/hashes/utils":2781},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getHash=a,r.createCurve=function(e,t){const r=t=>(0,i.weierstrass)({...e,...a(t)});return Object.freeze({...r(t),create:r})};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/hmac"),s=e("@noble/hashes/utils"),i=e("./abstract/weierstrass.js");function a(e){return{hash:e,hmac:(t,...r)=>(0,n.hmac)(e,t,(0,s.concatBytes)(...r)),randomBytes:s.randomBytes}}}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/_shortw_utils.js"}],[2761,{"./modular.js":2764,"./utils.js":2766},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>{if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error(`Wrong window size=${e}, should be [1..${t}]`)},s=e=>{n(e);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}};return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,s=t;for(;r>i;)r&a&&(n=n.add(s)),s=s.double(),r>>=a;return n},precomputeWindow(e,t){const{windows:r,windowSize:n}=s(t),i=[];let a=e,o=a;for(let e=0;e<r;e++){o=a,i.push(o);for(let e=1;e<n;e++)o=o.add(a),i.push(o);a=o.double()}return i},wNAF(t,n,i){const{windows:o,windowSize:c}=s(t);let l=e.ZERO,u=e.BASE;const d=BigInt(2**t-1),h=2**t,f=BigInt(t);for(let e=0;e<o;e++){const t=e*c;let s=Number(i&d);i>>=f,s>c&&(s-=h,i+=a);const o=t,p=t+Math.abs(s)-1,m=e%2!=0,g=s<0;0===s?u=u.add(r(m,n[o])):l=l.add(r(g,n[p]))}return{p:l,f:u}},wNAFCached(e,t,r){const n=c.get(e)||1;let s=o.get(e);return s||(s=this.precomputeWindow(e,n),1!==n&&o.set(e,r(s))),this.wNAF(n,s,t)},setWindowSize(e,t){n(t),c.set(e,t),o.delete(e)}}},r.validateBasic=function(e){return(0,n.validateField)(e.Fp),(0,s.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./modular.js"),s=e("./utils.js"),i=BigInt(0),a=BigInt(1),o=new WeakMap,c=new WeakMap}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/abstract/curve.js"}],[2762,{"./curve.js":2761,"./modular.js":2764,"./utils.js":2766},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.twistedEdwards=function(e){const t=function(e){const t=(0,n.validateBasic)(e);return i.validateObject(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n:h,prehash:f,hash:p,randomBytes:m,nByteLength:g,h:v}=t,y=l<<BigInt(8*g)-c,b=r.create,w=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(e){return{isValid:!1,value:o}}}),S=t.adjustScalarBytes||(e=>e),_=t.domain||((e,t,r)=>{if((0,a.abool)("phflag",r),t.length||r)throw new Error("Contexts/pre-hash are not supported");return e});function E(e,t){i.aInRange("coordinate "+e,t,o,y)}function k(e){if(!(e instanceof j))throw new Error("ExtendedPoint expected")}const T=(0,a.memoized)(((e,t)=>{const{ex:n,ey:s,ez:i}=e,a=e.is0();null==t&&(t=a?u:r.inv(i));const l=b(n*t),d=b(s*t),h=b(i*t);if(a)return{x:o,y:c};if(h!==c)throw new Error("invZ was invalid");return{x:l,y:d}})),I=(0,a.memoized)((e=>{const{a:r,d:n}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:s,ey:i,ez:a,et:o}=e,c=b(s*s),l=b(i*i),u=b(a*a),d=b(u*u),h=b(c*r);if(b(u*b(h+l))!==b(d+b(n*b(c*l))))throw new Error("bad point: equation left != right (1)");if(b(s*i)!==b(a*o))throw new Error("bad point: equation left != right (2)");return!0}));class j{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,E("x",e),E("y",t),E("z",r),E("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof j)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};return E("x",t),E("y",r),new j(t,r,c,b(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.ez)));return e.map(((e,r)=>e.toAffine(t[r]))).map(j.fromAffine)}_setWindowSize(e){A.setWindowSize(this,e)}assertValidity(){I(this)}equals(e){k(e);const{ex:t,ey:r,ez:n}=this,{ex:s,ey:i,ez:a}=e,o=b(t*a),c=b(s*n),l=b(r*a),u=b(i*n);return o===c&&l===u}is0(){return this.equals(j.ZERO)}negate(){return new j(b(-this.ex),this.ey,this.ez,b(-this.et))}double(){const{a:e}=t,{ex:r,ey:n,ez:s}=this,i=b(r*r),a=b(n*n),o=b(l*b(s*s)),c=b(e*i),u=r+n,d=b(b(u*u)-i-a),h=c+a,f=h-o,p=c-a,m=b(d*f),g=b(h*p),v=b(d*p),y=b(f*h);return new j(m,g,y,v)}add(e){k(e);const{a:r,d:n}=t,{ex:s,ey:i,ez:a,et:c}=this,{ex:u,ey:d,ez:h,et:f}=e;if(r===BigInt(-1)){const e=b((i-s)*(d+u)),t=b((i+s)*(d-u)),r=b(t-e);if(r===o)return this.double();const n=b(a*l*f),p=b(c*l*h),m=p+n,g=t+e,v=p-n,y=b(m*r),w=b(g*v),S=b(m*v),_=b(r*g);return new j(y,w,_,S)}const p=b(s*u),m=b(i*d),g=b(c*n*f),v=b(a*h),y=b((s+i)*(u+d)-p-m),w=v-g,S=v+g,_=b(m-r*p),E=b(y*w),T=b(S*_),I=b(y*_),x=b(w*S);return new j(E,T,x,I)}subtract(e){return this.add(e.negate())}wNAF(e){return A.wNAFCached(this,e,j.normalizeZ)}multiply(e){const t=e;i.aInRange("scalar",t,c,h);const{p:r,f:n}=this.wNAF(t);return j.normalizeZ([r,n])[0]}multiplyUnsafe(e){const t=e;return i.aInRange("scalar",t,o,h),t===o?P:this.equals(P)||t===c?this:this.equals(x)?this.wNAF(t).p:A.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(v).is0()}isTorsionFree(){return A.unsafeLadder(this,h).is0()}toAffine(e){return T(this,e)}clearCofactor(){const{h:e}=t;return e===c?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){const{d:s,a:l}=t,u=r.BYTES;e=(0,a.ensureBytes)("pointHex",e,u),(0,a.abool)("zip215",n);const d=e.slice(),h=e[u-1];d[u-1]=-129&h;const f=i.bytesToNumberLE(d),p=n?y:r.ORDER;i.aInRange("pointHex.y",f,o,p);const m=b(f*f),g=b(m-c),v=b(s*m-l);let{isValid:S,value:_}=w(g,v);if(!S)throw new Error("Point.fromHex: invalid y coordinate");const E=(_&c)===c,k=!!(128&h);if(!n&&_===o&&k)throw new Error("Point.fromHex: x=0 and x_0=1");return k!==E&&(_=b(-_)),j.fromAffine({x:_,y:f})}static fromPrivateKey(e){return O(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=i.numberToBytesLE(t,r.BYTES);return n[n.length-1]|=e&c?128:0,n}toHex(){return i.bytesToHex(this.toRawBytes())}}j.BASE=new j(t.Gx,t.Gy,c,b(t.Gx*t.Gy)),j.ZERO=new j(o,c,c,o);const{BASE:x,ZERO:P}=j,A=(0,n.wNAF)(j,8*g);function C(e){return(0,s.mod)(e,h)}function R(e){return C(i.bytesToNumberLE(e))}function O(e){const t=g;e=(0,a.ensureBytes)("private key",e,t);const r=(0,a.ensureBytes)("hashed private key",p(e),2*t),n=S(r.slice(0,t)),s=r.slice(t,2*t),i=R(n),o=x.multiply(i),c=o.toRawBytes();return{head:n,prefix:s,scalar:i,point:o,pointBytes:c}}function N(e=new Uint8Array,...t){const r=i.concatBytes(...t);return R(p(_(r,(0,a.ensureBytes)("context",e),!!f)))}const B=d;x._setWindowSize(8);return{CURVE:t,getPublicKey:function(e){return O(e).pointBytes},sign:function(e,t,n={}){e=(0,a.ensureBytes)("message",e),f&&(e=f(e));const{prefix:s,scalar:c,pointBytes:l}=O(t),u=N(n.context,s,e),d=x.multiply(u).toRawBytes(),p=C(u+N(n.context,d,l,e)*c);i.aInRange("signature.s",p,o,h);const m=i.concatBytes(d,i.numberToBytesLE(p,r.BYTES));return(0,a.ensureBytes)("result",m,2*g)},verify:function(e,t,n,s=B){const{context:o,zip215:c}=s,l=r.BYTES;e=(0,a.ensureBytes)("signature",e,2*l),t=(0,a.ensureBytes)("message",t),c!==undefined&&(0,a.abool)("zip215",c),f&&(t=f(t));const u=i.bytesToNumberLE(e.slice(l,2*l));let d,h,p;try{d=j.fromHex(n,c),h=j.fromHex(e.slice(0,l),c),p=x.multiplyUnsafe(u)}catch(e){return!1}if(!c&&d.isSmallOrder())return!1;const m=N(o,h.toRawBytes(),d.toRawBytes(),t);return h.add(d.multiplyUnsafe(m)).subtract(p).clearCofactor().equals(j.ZERO)},ExtendedPoint:j,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>m(r.BYTES),precompute:(e=8,t=j.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./curve.js"),s=e("./modular.js"),i=e("./utils.js"),a=e("./utils.js"),o=BigInt(0),c=BigInt(1),l=BigInt(2),u=BigInt(8),d={zip215:!0}}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/abstract/edwards.js"}],[2763,{"./modular.js":2764,"./utils.js":2766},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expand_message_xmd=l,r.expand_message_xof=u,r.hash_to_field=d,r.isogenyMap=function(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,n)=>{const[s,i,a,o]=r.map((r=>r.reduce(((r,n)=>e.add(e.mul(r,t),n)))));return t=e.div(s,i),n=e.mul(n,e.div(a,o)),{x:t,y:n}}},r.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,s){const i=d(n,2,{...r,DST:r.DST,...s}),a=e.fromAffine(t(i[0])),o=e.fromAffine(t(i[1])),c=a.add(o).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,s){const i=d(n,1,{...r,DST:r.encodeDST,...s}),a=e.fromAffine(t(i[0])).clearCofactor();return a.assertValidity(),a},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const e of r)if("bigint"!=typeof e)throw new Error(`mapToCurve: expected array of bigints, got ${e} in array`);const n=e.fromAffine(t(r)).clearCofactor();return n.assertValidity(),n}}};const n=e("./modular.js"),s=e("./utils.js"),i=s.bytesToNumberBE;function a(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function o(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function c(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function l(e,t,r,n){(0,s.abytes)(e),(0,s.abytes)(t),c(r),t.length>255&&(t=n((0,s.concatBytes)((0,s.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:l}=n,u=Math.ceil(r/i);if(u>255)throw new Error("Invalid xmd length");const d=(0,s.concatBytes)(t,a(t.length,1)),h=a(0,l),f=a(r,2),p=new Array(u),m=n((0,s.concatBytes)(h,e,f,a(0,1),d));p[0]=n((0,s.concatBytes)(m,a(1,1),d));for(let e=1;e<=u;e++){const t=[o(m,p[e-1]),a(e+1,1),d];p[e]=n((0,s.concatBytes)(...t))}return(0,s.concatBytes)(...p).slice(0,r)}function u(e,t,r,n,i){if((0,s.abytes)(e),(0,s.abytes)(t),c(r),t.length>255){const e=Math.ceil(2*n/8);t=i.create({dkLen:e}).update((0,s.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(a(r,2)).update(t).update(a(t.length,1)).digest()}function d(e,t,r){(0,s.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:a,k:o,m:d,hash:h,expand:f,DST:p}=r;(0,s.abytes)(e),c(t);const m="string"==typeof p?(0,s.utf8ToBytes)(p):p,g=a.toString(2).length,v=Math.ceil((g+o)/8),y=t*d*v;let b;if("xmd"===f)b=l(e,m,y,h);else if("xof"===f)b=u(e,m,y,o,h);else{if("_internal_pass"!==f)throw new Error('expand must be "xmd" or "xof"');b=e}const w=new Array(t);for(let e=0;e<t;e++){const t=new Array(d);for(let r=0;r<d;r++){const s=v*(r+e*d),o=b.subarray(s,s+v);t[r]=(0,n.mod)(i(o),a)}w[e]=t}return w}}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/abstract/hash-to-curve.js"}],[2764,{"./utils.js":2766},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNegativeLE=void 0,r.mod=d,r.pow=h,r.pow2=function(e,t,r){let n=e;for(;t-- >s;)n*=n,n%=r;return n},r.invert=f,r.tonelliShanks=p,r.FpSqrt=m,r.validateField=function(e){const t=g.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.validateObject)(e,t)},r.FpPow=v,r.FpInvertBatch=y,r.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?f(r,e.ORDER):e.inv(r))},r.FpLegendre=b,r.FpIsSquare=function(e){const t=b(e.ORDER);return r=>{const n=t(e,r);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},r.nLength=w,r.Field=function(e,t,r=!1,a={}){if(e<=s)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:c}=w(e,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=m(e),u=Object.freeze({ORDER:e,BITS:o,BYTES:c,MASK:(0,n.bitMask)(o),ZERO:s,ONE:i,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return s<=t&&t<e},is0:e=>e===s,isOdd:e=>(e&i)===i,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,r)=>d(t+r,e),sub:(t,r)=>d(t-r,e),mul:(t,r)=>d(t*r,e),pow:(e,t)=>v(u,e,t),div:(t,r)=>d(t*f(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>f(t,e),sqrt:a.sqrt||(e=>l(u,e)),invertBatch:e=>y(u,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.numberToBytesLE)(e,c):(0,n.numberToBytesBE)(e,c),fromBytes:e=>{if(e.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${e.length}`);return r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e)}});return Object.freeze(u)},r.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},r.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},r.hashToPrivateScalar=function(e,t,r=!1){const s=(e=(0,n.ensureBytes)("privateHash",e)).length,a=w(t).nByteLength+8;if(a<24||s<a||s>1024)throw new Error(`hashToPrivateScalar: expected ${a}-1024 bytes of input, got ${s}`);return d(r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e),t-i)+i},r.getFieldBytesLength=S,r.getMinHashLength=_,r.mapHashToField=function(e,t,r=!1){const s=e.length,a=S(t),o=_(t);if(s<16||s<o||s>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${s}`);const c=d(r?(0,n.bytesToNumberBE)(e):(0,n.bytesToNumberLE)(e),t-i)+i;return r?(0,n.numberToBytesLE)(c,a):(0,n.numberToBytesBE)(c,a)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./utils.js"),s=BigInt(0),i=BigInt(1),a=BigInt(2),o=BigInt(3),c=BigInt(4),l=BigInt(5),u=BigInt(8);BigInt(9),BigInt(16);function d(e,t){const r=e%t;return r>=s?r:t+r}function h(e,t,r){if(r<=s||t<s)throw new Error("Expected power/modulo > 0");if(r===i)return s;let n=i;for(;t>s;)t&i&&(n=n*e%r),e=e*e%r,t>>=i;return n}function f(e,t){if(e===s||t<=s)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=d(e,t),n=t,a=s,o=i,c=i,l=s;for(;r!==s;){const e=n/r,t=n%r,s=a-c*e,i=o-l*e;n=r,r=t,a=c,o=l,c=s,l=i}if(n!==i)throw new Error("invert: does not exist");return d(a,t)}function p(e){const t=(e-i)/a;let r,n,o;for(r=e-i,n=0;r%a===s;r/=a,n++);for(o=a;o<e&&h(o,t,e)!==e-i;o++);if(1===n){const t=(e+i)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const l=(r+i)/a;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,o),r),u=e.pow(s,l),d=e.pow(s,r);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,i<<BigInt(a-t-1));c=e.sqr(r),u=e.mul(u,r),d=e.mul(d,c),a=t}return u}}function m(e){if(e%c===o){const t=(e+i)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%u===l){const t=(e-l)/u;return function(e,r){const n=e.mul(r,a),s=e.pow(n,t),i=e.mul(r,s),o=e.mul(e.mul(i,a),s),c=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(c),r))throw new Error("Cannot find square root");return c}}return p(e)}r.isNegativeLE=(e,t)=>(d(e,t)&i)===i;const g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function v(e,t,r){if(r<s)throw new Error("Expected power > 0");if(r===s)return e.ONE;if(r===i)return t;let n=e.ONE,a=t;for(;r>s;)r&i&&(n=e.mul(n,a)),a=e.sqr(a),r>>=i;return n}function y(e,t){const r=new Array(t.length),n=t.reduce(((t,n,s)=>e.is0(n)?t:(r[s]=t,e.mul(t,n))),e.ONE),s=e.inv(n);return t.reduceRight(((t,n,s)=>e.is0(n)?t:(r[s]=e.mul(t,r[s]),e.mul(t,n))),s),r}function b(e){const t=(e-i)/a;return(e,r)=>e.pow(r,t)}function w(e,t){const r=t!==undefined?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function S(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function _(e){const t=S(e);return t+Math.ceil(t/2)}}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/abstract/modular.js"}],[2765,{"./modular.js":2764,"./utils.js":2766},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.montgomery=function(e){const t=(f=e,(0,s.validateObject)(f,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...f})),{P:r}=t,o=e=>(0,n.mod)(e,r),c=t.montgomeryBits,l=Math.ceil(c/8),u=t.nByteLength,d=t.adjustScalarBytes||(e=>e),h=t.powPminus2||(e=>(0,n.pow)(e,r-BigInt(2),r));var f;function p(e,t,r){const n=o(e*(t-r));return[t=o(t-n),r=o(r+n)]}const m=(t.a-BigInt(2))/BigInt(4);function g(e){return(0,s.numberToBytesLE)(o(e),l)}function v(e,t){const n=function(e){const t=(0,s.ensureBytes)("u coordinate",e,l);return 32===u&&(t[31]&=127),(0,s.bytesToNumberLE)(t)}(t),f=function(e,t){(0,s.aInRange)("u",e,i,r),(0,s.aInRange)("scalar",t,i,r);const n=t,l=e;let u,d=a,f=i,g=e,v=a,y=i;for(let e=BigInt(c-1);e>=i;e--){const t=n>>e&a;y^=t,u=p(y,d,g),d=u[0],g=u[1],u=p(y,f,v),f=u[0],v=u[1],y=t;const r=d+f,s=o(r*r),i=d-f,c=o(i*i),h=s-c,b=g+v,w=o((g-v)*r),S=o(b*i),_=w+S,E=w-S;g=o(_*_),v=o(l*o(E*E)),d=o(s*c),f=o(h*(s+o(m*h)))}u=p(y,d,g),d=u[0],g=u[1],u=p(y,f,v),f=u[0],v=u[1];const b=h(f);return o(d*b)}(n,function(e){const t=(0,s.ensureBytes)("scalar",e),r=t.length;if(r!==l&&r!==u)throw new Error(`Expected ${l} or ${u} bytes, got ${r}`);return(0,s.bytesToNumberLE)(d(t))}(e));if(f===i)throw new Error("Invalid private or public key received");return g(f)}const y=g(t.Gu);function b(e){return v(e,y)}return{scalarMult:v,scalarMultBase:b,getSharedSecret:(e,t)=>v(e,t),getPublicKey:e=>b(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:y}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./modular.js"),s=e("./utils.js"),i=BigInt(0),a=BigInt(1)}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/abstract/montgomery.js"}],[2766,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.notImplemented=r.bitMask=void 0,r.isBytes=a,r.abytes=o,r.abool=function(e,t){if("boolean"!=typeof t)throw new Error(`${e} must be valid boolean, got "${t}".`)},r.bytesToHex=l,r.numberToHexUnpadded=u,r.hexToNumber=d,r.hexToBytes=p,r.bytesToNumberBE=function(e){return d(l(e))},r.bytesToNumberLE=function(e){return o(e),d(l(Uint8Array.from(e).reverse()))},r.numberToBytesBE=m,r.numberToBytesLE=function(e,t){return m(e,t).reverse()},r.numberToVarBytesBE=function(e){return p(u(e))},r.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=p(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!a(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const s=n.length;if("number"==typeof r&&s!==r)throw new Error(`${e} expected ${r} bytes, got ${s}`);return n},r.concatBytes=g,r.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},r.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},r.inRange=y,r.aInRange=function(e,t,r,n){if(!y(t,r,n))throw new Error(`expected valid ${e}: ${r} <= n < ${n}, got ${typeof t} ${t}`)},r.bitLen=function(e){let t;for(t=0;e>n;e>>=s,t+=1);return t},r.bitGet=function(e,t){return e>>BigInt(t)&s},r.bitSet=function(e,t,r){return e|(r?s:n)<<BigInt(t)},r.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=b(e),s=b(e),i=0;const a=()=>{n.fill(1),s.fill(0),i=0},o=(...e)=>r(s,n,...e),c=(e=b())=>{s=o(w([0]),e),n=o(),0!==e.length&&(s=o(w([1]),e),n=o())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=o();const t=n.slice();r.push(t),e+=n.length}return g(...r)};return(e,t)=>{a(),c(e);let r=undefined;for(;!(r=t(l()));)c();return a(),r}},r.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const s=S[r];if("function"!=typeof s)throw new Error(`Invalid validator "${r}", expected function`);const i=e[t];if(!(n&&i===undefined||s(i,e)))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e},r.memoized=function(e){const t=new WeakMap;return(r,...n)=>{const s=t.get(r);if(s!==undefined)return s;const i=e(r,...n);return t.set(r,i),i}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=BigInt(0),s=BigInt(1),i=BigInt(2);function a(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(e){if(!a(e))throw new Error("Uint8Array expected")}const c=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function l(e){o(e);let t="";for(let r=0;r<e.length;r++)t+=c[e[r]];return t}function u(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function d(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const h={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function f(e){return e>=h._0&&e<=h._9?e-h._0:e>=h._A&&e<=h._F?e-(h._A-10):e>=h._a&&e<=h._f?e-(h._a-10):void 0}function p(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,s=0;t<r;t++,s+=2){const r=f(e.charCodeAt(s)),i=f(e.charCodeAt(s+1));if(r===undefined||i===undefined){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}n[t]=16*r+i}return n}function m(e,t){return p(e.toString(16).padStart(2*t,"0"))}function g(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];o(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const s=e[t];r.set(s,n),n+=s.length}return r}const v=e=>"bigint"==typeof e&&n<=e;function y(e,t,r){return v(e)&&v(t)&&v(r)&&t<=e&&e<r}r.bitMask=e=>(i<<BigInt(e-1))-s;const b=e=>new Uint8Array(e),w=e=>Uint8Array.from(e);const S={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||a(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};r.notImplemented=()=>{throw new Error("not implemented")}}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/abstract/utils.js"}],[2767,{"./curve.js":2761,"./modular.js":2764,"./utils.js":2766},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DER=void 0,r.weierstrassPoints=m,r.weierstrass=function(e){const t=function(e){const t=(0,n.validateBasic)(e);return i.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:c,n:l}=t,h=c.BYTES+1,f=2*c.BYTES+1;function p(e){return s.mod(e,l)}function g(e){return s.invert(e,l)}const{ProjectivePoint:v,normPrivateKeyToScalar:y,weierstrassEquation:b,isWithinCurveOrder:w}=m({...t,toBytes(e,t,r){const n=t.toAffine(),s=c.toBytes(n.x),o=i.concatBytes;return(0,a.abool)("isCompressed",r),r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,c.toBytes(n.y))},fromBytes(e){const t=e.length,r=e[0],n=e.subarray(1);if(t!==h||2!==r&&3!==r){if(t===f&&4===r){return{x:c.fromBytes(n.subarray(0,c.BYTES)),y:c.fromBytes(n.subarray(c.BYTES,2*c.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${h} compressed bytes or ${f} uncompressed bytes`)}{const e=i.bytesToNumberBE(n);if(!i.inRange(e,d,c.ORDER))throw new Error("Point is not on curve");const t=b(e);let s;try{s=c.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!==((s&d)===d)&&(s=c.neg(s)),{x:e,y:s}}}}),S=e=>i.bytesToHex(i.numberToBytesBE(e,t.nByteLength));function _(e){return e>l>>d}const E=(e,t,r)=>i.bytesToNumberBE(e.slice(t,r));class k{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=(0,a.ensureBytes)("compactSignature",e,2*r),new k(E(e,0,r),E(e,r,2*r))}static fromDER(e){const{r:t,s:n}=r.DER.toSig((0,a.ensureBytes)("DER",e));return new k(t,n)}assertValidity(){i.aInRange("r",this.r,d,l),i.aInRange("s",this.s,d,l)}addRecoveryBit(e){return new k(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:n,recovery:s}=this,i=x((0,a.ensureBytes)("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const o=2===s||3===s?r+t.n:r;if(o>=c.ORDER)throw new Error("recovery id 2 or 3 invalid");const l=1&s?"03":"02",u=v.fromHex(l+S(o)),d=g(o),h=p(-i*d),f=p(n*d),m=v.BASE.multiplyAndAddUnsafe(u,h,f);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,p(-this.s),this.recovery):this}toDERRawBytes(){return i.hexToBytes(this.toDERHex())}toDERHex(){return r.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return i.hexToBytes(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}const T={isValidPrivateKey(e){try{return y(e),!0}catch(e){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const e=s.getMinHashLength(t.n);return s.mapHashToField(t.randomBytes(e),t.n)},precompute:(e=8,t=v.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function I(e){const t=i.isBytes(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===h||n===f:r?n===2*h||n===2*f:e instanceof v}const j=t.bits2int||function(e){const r=i.bytesToNumberBE(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},x=t.bits2int_modN||function(e){return p(j(e))},P=i.bitMask(t.nBitLength);function A(e){return i.aInRange(`num < 2^${t.nBitLength}`,e,u,P),i.numberToBytesBE(e,t.nByteLength)}function C(e,r,n=R){if(["recovered","canonical"].some((e=>e in n)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:l}=t;let{lowS:h,prehash:f,extraEntropy:m}=n;null==h&&(h=!0),e=(0,a.ensureBytes)("msgHash",e),o(n),f&&(e=(0,a.ensureBytes)("prehashed msgHash",s(e)));const b=x(e),S=y(r),E=[A(S),A(b)];if(null!=m&&!1!==m){const e=!0===m?l(c.BYTES):m;E.push((0,a.ensureBytes)("extraEntropy",e))}const T=i.concatBytes(...E),I=b;return{seed:T,k2sig:function(e){const t=j(e);if(!w(t))return;const r=g(t),n=v.BASE.multiply(t).toAffine(),s=p(n.x);if(s===u)return;const i=p(r*p(I+s*S));if(i===u)return;let a=(n.x===s?0:2)|Number(n.y&d),o=i;return h&&_(i)&&(o=function(e){return _(e)?p(-e):e}(i),a^=1),new k(s,o,a)}}}const R={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};return v.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return v.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(I(e))throw new Error("first arg must be private key");if(!I(t))throw new Error("second arg must be public key");return v.fromHex(t).multiply(y(e)).toRawBytes(r)},sign:function(e,r,n=R){const{seed:s,k2sig:a}=C(e,r,n),o=t;return i.createHmacDrbg(o.hash.outputLen,o.nByteLength,o.hmac)(s,a)},verify:function(e,n,s,c=O){const l=e;if(n=(0,a.ensureBytes)("msgHash",n),s=(0,a.ensureBytes)("publicKey",s),"strict"in c)throw new Error("options.strict was renamed to lowS");o(c);const{lowS:u,prehash:d}=c;let h,f=undefined;try{if("string"==typeof l||i.isBytes(l))try{f=k.fromDER(l)}catch(e){if(!(e instanceof r.DER.Err))throw e;f=k.fromCompact(l)}else{if("object"!=typeof l||"bigint"!=typeof l.r||"bigint"!=typeof l.s)throw new Error("PARSE");{const{r:e,s:t}=l;f=new k(e,t)}}h=v.fromHex(s)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&f.hasHighS())return!1;d&&(n=t.hash(n));const{r:m,s:y}=f,b=x(n),w=g(y),S=p(b*w),_=p(m*w),E=v.BASE.multiplyAndAddUnsafe(h,S,_)?.toAffine();if(!E)return!1;return p(E.x)===m},ProjectivePoint:v,Signature:k,utils:T}},r.SWUFpSqrtRatio=g,r.mapToCurveSimpleSWU=function(e,t){if(s.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=g(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let s,i,a,o,c,l,u,d;s=e.sqr(n),s=e.mul(s,t.Z),i=e.sqr(s),i=e.add(i,s),a=e.add(i,e.ONE),a=e.mul(a,t.B),o=e.cmov(t.Z,e.neg(i),!e.eql(i,e.ZERO)),o=e.mul(o,t.A),i=e.sqr(a),l=e.sqr(o),c=e.mul(l,t.A),i=e.add(i,c),i=e.mul(i,a),l=e.mul(l,o),c=e.mul(l,t.B),i=e.add(i,c),u=e.mul(s,a);const{isValid:h,value:f}=r(i,l);d=e.mul(s,n),d=e.mul(d,f),u=e.cmov(u,a,h),d=e.cmov(d,f,h);const p=e.isOdd(n)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),u=e.div(u,o),{x:u,y:d}}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./curve.js"),s=e("./modular.js"),i=e("./utils.js"),a=e("./utils.js");function o(e){e.lowS!==undefined&&(0,a.abool)("lowS",e.lowS),e.prehash!==undefined&&(0,a.abool)("prehash",e.prehash)}const{bytesToNumberBE:c,hexToBytes:l}=i;r.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=r.DER;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],s=e.subarray(2,n+2);if(!n||s.length!==n)throw new t("Invalid signature integer: wrong length");if(128&s[0])throw new t("Invalid signature integer: negative");if(0===s[0]&&!(128&s[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:c(s),l:e.subarray(n+2)}},toSig(e){const{Err:t}=r.DER,n="string"==typeof e?l(e):e;i.abytes(n);let s=n.length;if(s<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==s-2)throw new t("Invalid signature: incorrect length");const{d:a,l:o}=r.DER._parseInt(n.subarray(2)),{d:c,l:u}=r.DER._parseInt(o);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:a,s:c}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),s=t(r(e.r)),i=n.length/2,a=s.length/2,o=r(i),c=r(a);return`30${r(a+i+4)}02${c}${s}02${o}${n}`}};const u=BigInt(0),d=BigInt(1),h=BigInt(2),f=BigInt(3),p=BigInt(4);function m(e){const t=function(e){const t=(0,n.validateBasic)(e);i.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:s,a:a}=t;if(r){if(!s.eql(a,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,o=t.toBytes||((e,t,n)=>{const s=t.toAffine();return i.concatBytes(Uint8Array.from([4]),r.toBytes(s.x),r.toBytes(s.y))}),c=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function l(e){const{a:n,b:s}=t,i=r.sqr(e),a=r.mul(i,e);return r.add(r.add(a,r.mul(e,n)),s)}if(!r.eql(r.sqr(t.Gy),l(t.Gx)))throw new Error("bad generator point: equation left != right");function h(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:o,n:c}=t;if(r&&"bigint"!=typeof e){if(i.isBytes(e)&&(e=i.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let l;try{l="bigint"==typeof e?e:i.bytesToNumberBE((0,a.ensureBytes)("private key",e,n))}catch(t){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return o&&(l=s.mod(l,c)),i.aInRange("private key",l,d,c),l}function p(e){if(!(e instanceof v))throw new Error("ProjectivePoint expected")}const m=(0,a.memoized)(((e,t)=>{const{px:n,py:s,pz:i}=e;if(r.eql(i,r.ONE))return{x:n,y:s};const a=e.is0();null==t&&(t=a?r.ONE:r.inv(i));const o=r.mul(n,t),c=r.mul(s,t),l=r.mul(i,t);if(a)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:o,y:c}})),g=(0,a.memoized)((e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:n,y:s}=e.toAffine();if(!r.isValid(n)||!r.isValid(s))throw new Error("bad point: x or y not FE");const i=r.sqr(s),a=l(n);if(!r.eql(i,a))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class v{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof v)throw new Error("projective point not allowed");const s=e=>r.eql(e,r.ZERO);return s(t)&&s(n)?v.ZERO:new v(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(v.fromAffine)}static fromHex(e){const t=v.fromAffine(c((0,a.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return v.BASE.multiply(h(e))}_setWindowSize(e){b.setWindowSize(this,e)}assertValidity(){g(this)}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){p(e);const{px:t,py:n,pz:s}=this,{px:i,py:a,pz:o}=e,c=r.eql(r.mul(t,o),r.mul(i,s)),l=r.eql(r.mul(n,o),r.mul(a,s));return c&&l}negate(){return new v(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,s=r.mul(n,f),{px:i,py:a,pz:o}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,d=r.mul(i,i),h=r.mul(a,a),p=r.mul(o,o),m=r.mul(i,a);return m=r.add(m,m),u=r.mul(i,o),u=r.add(u,u),c=r.mul(e,u),l=r.mul(s,p),l=r.add(c,l),c=r.sub(h,l),l=r.add(h,l),l=r.mul(c,l),c=r.mul(m,c),u=r.mul(s,u),p=r.mul(e,p),m=r.sub(d,p),m=r.mul(e,m),m=r.add(m,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,p),d=r.mul(d,m),l=r.add(l,d),p=r.mul(a,o),p=r.add(p,p),d=r.mul(p,m),c=r.sub(c,d),u=r.mul(p,h),u=r.add(u,u),u=r.add(u,u),new v(c,l,u)}add(e){p(e);const{px:n,py:s,pz:i}=this,{px:a,py:o,pz:c}=e;let l=r.ZERO,u=r.ZERO,d=r.ZERO;const h=t.a,m=r.mul(t.b,f);let g=r.mul(n,a),y=r.mul(s,o),b=r.mul(i,c),w=r.add(n,s),S=r.add(a,o);w=r.mul(w,S),S=r.add(g,y),w=r.sub(w,S),S=r.add(n,i);let _=r.add(a,c);return S=r.mul(S,_),_=r.add(g,b),S=r.sub(S,_),_=r.add(s,i),l=r.add(o,c),_=r.mul(_,l),l=r.add(y,b),_=r.sub(_,l),d=r.mul(h,S),l=r.mul(m,b),d=r.add(l,d),l=r.sub(y,d),d=r.add(y,d),u=r.mul(l,d),y=r.add(g,g),y=r.add(y,g),b=r.mul(h,b),S=r.mul(m,S),y=r.add(y,b),b=r.sub(g,b),b=r.mul(h,b),S=r.add(S,b),g=r.mul(y,S),u=r.add(u,g),g=r.mul(_,S),l=r.mul(w,l),l=r.sub(l,g),g=r.mul(w,y),d=r.mul(_,d),d=r.add(d,g),new v(l,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(v.ZERO)}wNAF(e){return b.wNAFCached(this,e,v.normalizeZ)}multiplyUnsafe(e){i.aInRange("scalar",e,u,t.n);const n=v.ZERO;if(e===u)return n;if(e===d)return this;const{endo:s}=t;if(!s)return b.unsafeLadder(this,e);let{k1neg:a,k1:o,k2neg:c,k2:l}=s.splitScalar(e),h=n,f=n,p=this;for(;o>u||l>u;)o&d&&(h=h.add(p)),l&d&&(f=f.add(p)),p=p.double(),o>>=d,l>>=d;return a&&(h=h.negate()),c&&(f=f.negate()),f=new v(r.mul(f.px,s.beta),f.py,f.pz),h.add(f)}multiply(e){const{endo:n,n:s}=t;let a,o;if(i.aInRange("scalar",e,d,s),n){const{k1neg:t,k1:s,k2neg:i,k2:c}=n.splitScalar(e);let{p:l,f:u}=this.wNAF(s),{p:d,f:h}=this.wNAF(c);l=b.constTimeNegate(t,l),d=b.constTimeNegate(i,d),d=new v(r.mul(d.px,n.beta),d.py,d.pz),a=l.add(d),o=u.add(h)}else{const{p:t,f:r}=this.wNAF(e);a=t,o=r}return v.normalizeZ([a,o])[0]}multiplyAndAddUnsafe(e,t,r){const n=v.BASE,s=(e,t)=>t!==u&&t!==d&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),i=s(this,t).add(s(e,r));return i.is0()?undefined:i}toAffine(e){return m(this,e)}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===d)return!0;if(r)return r(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===d?this:r?r(v,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return(0,a.abool)("isCompressed",e),this.assertValidity(),o(v,this,e)}toHex(e=!0){return(0,a.abool)("isCompressed",e),i.bytesToHex(this.toRawBytes(e))}}v.BASE=new v(t.Gx,t.Gy,r.ONE),v.ZERO=new v(r.ZERO,r.ONE,r.ZERO);const y=t.nBitLength,b=(0,n.wNAF)(v,t.endo?Math.ceil(y/2):y);return{CURVE:t,ProjectivePoint:v,normPrivateKeyToScalar:h,weierstrassEquation:l,isWithinCurveOrder:function(e){return i.inRange(e,d,t.n)}}}function g(e,t){const r=e.ORDER;let n=u;for(let e=r-d;e%h===u;e/=h)n+=d;const s=n,i=h<<s-d-d,a=i*h,o=(r-d)/a,c=(o-d)/h,l=a-d,m=i,g=e.pow(t,o),v=e.pow(t,(o+d)/h);let y=(t,r)=>{let n=g,i=e.pow(r,l),a=e.sqr(i);a=e.mul(a,r);let o=e.mul(t,a);o=e.pow(o,c),o=e.mul(o,i),i=e.mul(o,r),a=e.mul(o,t);let u=e.mul(a,i);o=e.pow(u,m);let f=e.eql(o,e.ONE);i=e.mul(a,v),o=e.mul(u,n),a=e.cmov(i,a,f),u=e.cmov(o,u,f);for(let t=s;t>d;t--){let r=t-h;r=h<<r-d;let s=e.pow(u,r);const o=e.eql(s,e.ONE);i=e.mul(a,n),n=e.mul(n,n),s=e.mul(u,n),a=e.cmov(i,a,o),u=e.cmov(s,u,o)}return{isValid:f,value:a}};if(e.ORDER%p===f){const r=(e.ORDER-f)/p,n=e.sqrt(e.neg(t));y=(t,s)=>{let i=e.sqr(s);const a=e.mul(t,s);i=e.mul(i,a);let o=e.pow(i,r);o=e.mul(o,a);const c=e.mul(o,n),l=e.mul(e.sqr(o),s),u=e.eql(l,t);return{isValid:u,value:e.cmov(c,o,u)}}}return y}}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/abstract/weierstrass.js"}],[2768,{"./abstract/edwards.js":2762,"./abstract/hash-to-curve.js":2763,"./abstract/modular.js":2764,"./abstract/montgomery.js":2765,"./abstract/utils.js":2766,"@noble/hashes/sha512":2780,"@noble/hashes/utils":2781},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hash_to_ristretto255=r.hashToRistretto255=r.RistrettoPoint=r.encodeToCurve=r.hashToCurve=r.edwardsToMontgomery=r.x25519=r.ed25519ph=r.ed25519ctx=r.ed25519=r.ED25519_TORSION_SUBGROUP=void 0,r.edwardsToMontgomeryPub=k,r.edwardsToMontgomeryPriv=function(e){const t=_.hash(e.subarray(0,32));return _.adjustScalarBytes(t).subarray(0,32)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/sha512"),s=e("@noble/hashes/utils"),i=e("./abstract/edwards.js"),a=e("./abstract/hash-to-curve.js"),o=e("./abstract/modular.js"),c=e("./abstract/montgomery.js"),l=e("./abstract/utils.js"),u=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),d=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),h=BigInt(0),f=BigInt(1),p=BigInt(2),m=BigInt(3),g=BigInt(5),v=BigInt(8);function y(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=u,a=e*e%i*e%i,c=(0,o.pow2)(a,p,i)*a%i,l=(0,o.pow2)(c,f,i)*e%i,d=(0,o.pow2)(l,g,i)*l%i,h=(0,o.pow2)(d,t,i)*d%i,m=(0,o.pow2)(h,r,i)*h%i,v=(0,o.pow2)(m,n,i)*m%i,y=(0,o.pow2)(v,s,i)*v%i,b=(0,o.pow2)(y,s,i)*v%i,w=(0,o.pow2)(b,t,i)*d%i;return{pow_p_5_8:(0,o.pow2)(w,p,i)*e%i,b2:a}}function b(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function w(e,t){const r=u,n=(0,o.mod)(t*t*t,r),s=y(e*(0,o.mod)(n*n*t,r)).pow_p_5_8;let i=(0,o.mod)(e*n*s,r);const a=(0,o.mod)(t*i*i,r),c=i,l=(0,o.mod)(i*d,r),h=a===e,f=a===(0,o.mod)(-e,r),p=a===(0,o.mod)(-e*d,r);return h&&(i=c),(f||p)&&(i=l),(0,o.isNegativeLE)(i,r)&&(i=(0,o.mod)(-i,r)),{isValid:h||f,value:i}}r.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const S=(()=>(0,o.Field)(u,undefined,!0))(),_=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:S,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:v,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:n.sha512,randomBytes:s.randomBytes,adjustScalarBytes:b,uvRatio:w}))();function E(e,t,r){if(t.length>255)throw new Error("Context is too big");return(0,s.concatBytes)((0,s.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}function k(e){const{y:t}=r.ed25519.ExtendedPoint.fromHex(e),n=BigInt(1);return S.toBytes(S.create((n+t)*S.inv(n-t)))}r.ed25519=(0,i.twistedEdwards)(_),r.ed25519ctx=(0,i.twistedEdwards)({..._,domain:E}),r.ed25519ph=(0,i.twistedEdwards)(Object.assign({},_,{domain:E,prehash:n.sha512})),r.x25519=(0,c.montgomery)({P:u,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=u,{pow_p_5_8:r,b2:n}=y(e);return(0,o.mod)((0,o.pow2)(r,m,t)*n,t)},adjustScalarBytes:b,randomBytes:s.randomBytes}),r.edwardsToMontgomery=k;const T=(()=>(S.ORDER+m)/v)(),I=(()=>S.pow(p,T))(),j=(()=>S.sqrt(S.neg(S.ONE)))();const x=(()=>(0,o.FpSqrtEven)(S,S.neg(BigInt(486664))))();function P(e){const{xMn:t,xMd:r,yMn:n,yMd:s}=function(e){const t=(S.ORDER-g)/v,r=BigInt(486662);let n=S.sqr(e);n=S.mul(n,p);let s=S.add(n,S.ONE),i=S.neg(r),a=S.sqr(s),o=S.mul(a,s),c=S.mul(n,r);c=S.mul(c,i),c=S.add(c,a),c=S.mul(c,i);let l=S.sqr(o);a=S.sqr(l),l=S.mul(l,o),l=S.mul(l,c),a=S.mul(a,l);let u=S.pow(a,t);u=S.mul(u,l);let d=S.mul(u,j);a=S.sqr(u),a=S.mul(a,o);let h=S.eql(a,c),m=S.cmov(d,u,h),y=S.mul(i,n),b=S.mul(u,e);b=S.mul(b,I);let w=S.mul(b,j),_=S.mul(c,n);a=S.sqr(b),a=S.mul(a,o);let E=S.eql(a,_),k=S.cmov(w,b,E);a=S.sqr(m),a=S.mul(a,o);let T=S.eql(a,c),x=S.cmov(y,i,T),P=S.cmov(k,m,T),A=S.isOdd(P);return P=S.cmov(P,S.neg(P),T!==A),{xMn:x,xMd:s,yMn:P,yMd:f}}(e);let i=S.mul(t,s);i=S.mul(i,x);let a=S.mul(r,n),o=S.sub(t,r),c=S.add(t,r),l=S.mul(a,c),u=S.eql(l,S.ZERO);i=S.cmov(i,S.ZERO,u),a=S.cmov(a,S.ONE,u),o=S.cmov(o,S.ONE,u),c=S.cmov(c,S.ONE,u);const d=S.invertBatch([a,c]);return{x:S.mul(i,d[0]),y:S.mul(o,d[1])}}const A=(()=>(0,a.createHasher)(r.ed25519.ExtendedPoint,(e=>P(e[0])),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:S.ORDER,m:1,k:128,expand:"xmd",hash:n.sha512}))();function C(e){if(!(e instanceof G))throw new Error("RistrettoPoint expected")}r.hashToCurve=A.hashToCurve,r.encodeToCurve=A.encodeToCurve;const R=d,O=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),N=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),B=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),M=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),L=e=>w(f,e),F=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),D=e=>r.ed25519.CURVE.Fp.create((0,l.bytesToNumberLE)(e)&F);function H(e){const{d:t}=r.ed25519.CURVE,n=r.ed25519.CURVE.Fp.ORDER,s=r.ed25519.CURVE.Fp.create,i=s(R*e*e),a=s((i+f)*B);let c=BigInt(-1);const l=s((c-t*i)*s(i+t));let{isValid:u,value:d}=w(a,l),h=s(d*e);(0,o.isNegativeLE)(h,n)||(h=s(-h)),u||(d=h),u||(c=i);const p=s(c*(i-f)*M-l),m=d*d,g=s((d+d)*l),v=s(p*O),y=s(f-m),b=s(f+m);return new r.ed25519.ExtendedPoint(s(g*b),s(y*v),s(v*b),s(g*y))}class G{constructor(e){this.ep=e}static fromAffine(e){return new G(r.ed25519.ExtendedPoint.fromAffine(e))}static hashToCurve(e){e=(0,l.ensureBytes)("ristrettoHash",e,64);const t=H(D(e.slice(0,32))),r=H(D(e.slice(32,64)));return new G(t.add(r))}static fromHex(e){e=(0,l.ensureBytes)("ristrettoHex",e,32);const{a:t,d:n}=r.ed25519.CURVE,s=r.ed25519.CURVE.Fp.ORDER,i=r.ed25519.CURVE.Fp.create,a="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",c=D(e);if(!(0,l.equalBytes)((0,l.numberToBytesLE)(c,32),e)||(0,o.isNegativeLE)(c,s))throw new Error(a);const u=i(c*c),d=i(f+t*u),p=i(f-t*u),m=i(d*d),g=i(p*p),v=i(t*n*m-g),{isValid:y,value:b}=L(i(v*g)),w=i(b*p),S=i(b*w*v);let _=i((c+c)*w);(0,o.isNegativeLE)(_,s)&&(_=i(-_));const E=i(d*S),k=i(_*E);if(!y||(0,o.isNegativeLE)(k,s)||E===h)throw new Error(a);return new G(new r.ed25519.ExtendedPoint(_,E,f,k))}toRawBytes(){let{ex:e,ey:t,ez:n,et:s}=this.ep;const i=r.ed25519.CURVE.Fp.ORDER,a=r.ed25519.CURVE.Fp.create,c=a(a(n+t)*a(n-t)),u=a(e*t),d=a(u*u),{value:h}=L(a(c*d)),f=a(h*c),p=a(h*u),m=a(f*p*s);let g;if((0,o.isNegativeLE)(s*m,i)){let r=a(t*R),n=a(e*R);e=r,t=n,g=a(f*N)}else g=p;(0,o.isNegativeLE)(e*m,i)&&(t=a(-t));let v=a((n-t)*g);return(0,o.isNegativeLE)(v,i)&&(v=a(-v)),(0,l.numberToBytesLE)(v,32)}toHex(){return(0,l.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(e){C(e);const{ex:t,ey:n}=this.ep,{ex:s,ey:i}=e.ep,a=r.ed25519.CURVE.Fp.create,o=a(t*i)===a(n*s),c=a(n*i)===a(t*s);return o||c}add(e){return C(e),new G(this.ep.add(e.ep))}subtract(e){return C(e),new G(this.ep.subtract(e.ep))}multiply(e){return new G(this.ep.multiply(e))}multiplyUnsafe(e){return new G(this.ep.multiplyUnsafe(e))}double(){return new G(this.ep.double())}negate(){return new G(this.ep.negate())}}r.RistrettoPoint=(G.BASE||(G.BASE=new G(r.ed25519.ExtendedPoint.BASE)),G.ZERO||(G.ZERO=new G(r.ed25519.ExtendedPoint.ZERO)),G);r.hashToRistretto255=(e,t)=>{const r=t.DST,i="string"==typeof r?(0,s.utf8ToBytes)(r):r,o=(0,a.expand_message_xmd)(e,i,64,n.sha512);return G.hashToCurve(o)},r.hash_to_ristretto255=r.hashToRistretto255}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/ed25519.js"}],[2769,{"./_shortw_utils.js":2760,"./abstract/hash-to-curve.js":2763,"./abstract/modular.js":2764,"./abstract/utils.js":2766,"./abstract/weierstrass.js":2767,"@noble/hashes/sha256":2778,"@noble/hashes/utils":2781},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeToCurve=r.hashToCurve=r.schnorr=r.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/sha256"),s=e("@noble/hashes/utils"),i=e("./_shortw_utils.js"),a=e("./abstract/hash-to-curve.js"),o=e("./abstract/modular.js"),c=e("./abstract/utils.js"),l=e("./abstract/weierstrass.js"),u=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h=BigInt(1),f=BigInt(2),p=(e,t)=>(e+t/f)/t;function m(e){const t=u,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),c=BigInt(44),l=BigInt(88),d=e*e*e%t,h=d*d*e%t,p=(0,o.pow2)(h,r,t)*h%t,m=(0,o.pow2)(p,r,t)*h%t,v=(0,o.pow2)(m,f,t)*d%t,y=(0,o.pow2)(v,s,t)*v%t,b=(0,o.pow2)(y,i,t)*y%t,w=(0,o.pow2)(b,c,t)*b%t,S=(0,o.pow2)(w,l,t)*w%t,_=(0,o.pow2)(S,c,t)*b%t,E=(0,o.pow2)(_,r,t)*h%t,k=(0,o.pow2)(E,a,t)*y%t,T=(0,o.pow2)(k,n,t)*d%t,I=(0,o.pow2)(T,f,t);if(!g.eql(g.sqr(I),e))throw new Error("Cannot find square root");return I}const g=(0,o.Field)(u,undefined,undefined,{sqrt:m});r.secp256k1=(0,i.createCurve)({a:BigInt(0),b:BigInt(7),Fp:g,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=d,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-h*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,a=BigInt("0x100000000000000000000000000000000"),c=p(i*e,t),l=p(-n*e,t);let u=(0,o.mod)(e-c*r-l*s,t),f=(0,o.mod)(-c*n-l*i,t);const m=u>a,g=f>a;if(m&&(u=t-u),g&&(f=t-f),u>a||f>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:u,k2neg:g,k2:f}}}},n.sha256);const v=BigInt(0),y={};function b(e,...t){let r=y[e];if(r===undefined){const t=(0,n.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=(0,c.concatBytes)(t,t),y[e]=r}return(0,n.sha256)((0,c.concatBytes)(r,...t))}const w=e=>e.toRawBytes(!0).slice(1),S=e=>(0,c.numberToBytesBE)(e,32),_=e=>(0,o.mod)(e,u),E=e=>(0,o.mod)(e,d),k=r.secp256k1.ProjectivePoint,T=(e,t,r)=>k.BASE.multiplyAndAddUnsafe(e,t,r);function I(e){let t=r.secp256k1.utils.normPrivateKeyToScalar(e),n=k.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:E(-t),bytes:w(n)}}function j(e){(0,c.aInRange)("x",e,h,u);const t=_(e*e);let r=m(_(t*e+BigInt(7)));r%f!==v&&(r=_(-r));const n=new k(e,r,h);return n.assertValidity(),n}const x=c.bytesToNumberBE;function P(...e){return E(x(b("BIP0340/challenge",...e)))}function A(e){return I(e).bytes}function C(e,t,r=(0,s.randomBytes)(32)){const n=(0,c.ensureBytes)("message",e),{bytes:i,scalar:a}=I(t),o=(0,c.ensureBytes)("auxRand",r,32),l=S(a^x(b("BIP0340/aux",o))),u=b("BIP0340/nonce",l,i,n),d=E(x(u));if(d===v)throw new Error("sign failed: k is zero");const{bytes:h,scalar:f}=I(d),p=P(h,i,n),m=new Uint8Array(64);if(m.set(h,0),m.set(S(E(f+p*a)),32),!R(m,n,i))throw new Error("sign: Invalid signature produced");return m}function R(e,t,r){const n=(0,c.ensureBytes)("signature",e,64),s=(0,c.ensureBytes)("message",t),i=(0,c.ensureBytes)("publicKey",r,32);try{const e=j(x(i)),t=x(n.subarray(0,32));if(!(0,c.inRange)(t,h,u))return!1;const r=x(n.subarray(32,64));if(!(0,c.inRange)(r,h,d))return!1;const a=P(S(t),w(e),s),o=T(e,r,E(-a));return!(!o||!o.hasEvenY()||o.toAffine().x!==t)}catch(e){return!1}}r.schnorr={getPublicKey:A,sign:C,verify:R,utils:{randomPrivateKey:r.secp256k1.utils.randomPrivateKey,lift_x:j,pointToBytes:w,numberToBytesBE:c.numberToBytesBE,bytesToNumberBE:c.bytesToNumberBE,taggedHash:b,mod:o.mod}};const O=(()=>(0,a.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),N=(()=>(0,l.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}))(),B=(()=>(0,a.createHasher)(r.secp256k1.ProjectivePoint,(e=>{const{x:t,y:r}=N(g.create(e[0]));return O(t,r)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:n.sha256}))();r.hashToCurve=B.hashToCurve,r.encodeToCurve=B.encodeToCurve}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/secp256k1.js"}],[2770,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function s(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function a(e,...t){if(!i(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function l(e,t){a(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=r.isBytes=void 0,r.number=n,r.bool=s,r.isBytes=i,r.bytes=a,r.hash=o,r.exists=c,r.output=l;const u={number:n,bool:s,bytes:a,hash:o,exists:c,output:l};r.default=u}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/_assert.js"}],[2771,{"./_assert.js":2770,"./utils.js":2781},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HashMD=r.Maj=r.Chi=void 0;const n=e("./_assert.js"),s=e("./utils.js");r.Chi=(e,t,r)=>e&t^~e&r;r.Maj=(e,t,r)=>e&t^e&r^t&r;class i extends s.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,s.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:i}=this,a=(e=(0,s.toBytes)(e)).length;for(let n=0;n<a;){const o=Math.min(i-this.pos,a-n);if(o!==i)r.set(e.subarray(n,n+o),this.pos),this.pos+=o,n+=o,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=(0,s.createView)(e);for(;i<=a-n;n+=i)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:a}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let e=o;e<i;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),c=n?4:0,l=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+l,o,n)}(r,i-8,BigInt(8*this.length),a),this.process(r,0);const c=(0,s.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)c.setUint32(4*e,d[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:s,destroyed:i,pos:a}=this;return e.length=n,e.pos=a,e.finished=s,e.destroyed=i,n%t&&e.buffer.set(r),e}}r.HashMD=i}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/_md.js"}],[2772,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.add5L=r.add5H=r.add4H=r.add4L=r.add3H=r.add3L=r.add=r.rotlBL=r.rotlBH=r.rotlSL=r.rotlSH=r.rotr32L=r.rotr32H=r.rotrBL=r.rotrBH=r.rotrSL=r.rotrSH=r.shrSL=r.shrSH=r.toBig=r.split=r.fromBig=void 0;const n=BigInt(2**32-1),s=BigInt(32);function i(e,t=!1){return t?{h:Number(e&n),l:Number(e>>s&n)}:{h:0|Number(e>>s&n),l:0|Number(e&n)}}function a(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:o}=i(e[s],t);[r[s],n[s]]=[a,o]}return[r,n]}r.fromBig=i,r.split=a;const o=(e,t)=>BigInt(e>>>0)<<s|BigInt(t>>>0);r.toBig=o;const c=(e,t,r)=>e>>>r;r.shrSH=c;const l=(e,t,r)=>e<<32-r|t>>>r;r.shrSL=l;const u=(e,t,r)=>e>>>r|t<<32-r;r.rotrSH=u;const d=(e,t,r)=>e<<32-r|t>>>r;r.rotrSL=d;const h=(e,t,r)=>e<<64-r|t>>>r-32;r.rotrBH=h;const f=(e,t,r)=>e>>>r-32|t<<64-r;r.rotrBL=f;const p=(e,t)=>t;r.rotr32H=p;const m=(e,t)=>e;r.rotr32L=m;const g=(e,t,r)=>e<<r|t>>>32-r;r.rotlSH=g;const v=(e,t,r)=>t<<r|e>>>32-r;r.rotlSL=v;const y=(e,t,r)=>t<<r-32|e>>>64-r;r.rotlBH=y;const b=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){const s=(t>>>0)+(n>>>0);return{h:e+r+(s/2**32|0)|0,l:0|s}}r.rotlBL=b,r.add=w;const S=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);r.add3L=S;const _=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;r.add3H=_;const E=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);r.add4L=E;const k=(e,t,r,n,s)=>t+r+n+s+(e/2**32|0)|0;r.add4H=k;const T=(e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0);r.add5L=T;const I=(e,t,r,n,s,i)=>t+r+n+s+i+(e/2**32|0)|0;r.add5H=I;const j={fromBig:i,split:a,toBig:o,shrSH:c,shrSL:l,rotrSH:u,rotrSL:d,rotrBH:h,rotrBL:f,rotr32H:p,rotr32L:m,rotlSH:g,rotlSL:v,rotlBH:y,rotlBL:b,add:w,add3L:S,add3H:_,add4L:E,add4H:k,add5H:I,add5L:T};r.default=j}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/_u64.js"}],[2773,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/crypto.js"}],[2774,{"./_assert.js":2770,"./utils.js":2781},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hmac=r.HMAC=void 0;const n=e("./_assert.js"),s=e("./utils.js");class i extends s.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,s.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),a.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:s,blockLen:i,outputLen:a}=this;return e.finished=n,e.destroyed=s,e.blockLen=i,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}r.HMAC=i;r.hmac=(e,t,r)=>new i(e,t).update(r).digest(),r.hmac.create=(e,t)=>new i(e,t)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/hmac.js"}],[2775,{"./_assert.js":2770,"./hmac.js":2774,"./utils.js":2781},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.pbkdf2Async=r.pbkdf2=void 0;const n=e("./_assert.js"),s=e("./hmac.js"),i=e("./utils.js");function a(e,t,r,a){(0,n.hash)(e);const o=(0,i.checkOpts)({dkLen:32,asyncTick:10},a),{c:c,dkLen:l,asyncTick:u}=o;if((0,n.number)(c),(0,n.number)(l),(0,n.number)(u),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const d=(0,i.toBytes)(t),h=(0,i.toBytes)(r),f=new Uint8Array(l),p=s.hmac.create(e,d),m=p._cloneInto().update(h);return{c:c,dkLen:l,asyncTick:u,DK:f,PRF:p,PRFSalt:m}}function o(e,t,r,n,s){return e.destroy(),t.destroy(),n&&n.destroy(),s.fill(0),r}r.pbkdf2=function(e,t,r,n){const{c:s,dkLen:c,DK:l,PRF:u,PRFSalt:d}=a(e,t,r,n);let h;const f=new Uint8Array(4),p=(0,i.createView)(f),m=new Uint8Array(u.outputLen);for(let e=1,t=0;t<c;e++,t+=u.outputLen){const r=l.subarray(t,t+u.outputLen);p.setInt32(0,e,!1),(h=d._cloneInto(h)).update(f).digestInto(m),r.set(m.subarray(0,r.length));for(let e=1;e<s;e++){u._cloneInto(h).update(m).digestInto(m);for(let e=0;e<r.length;e++)r[e]^=m[e]}}return o(u,d,l,h,m)},r.pbkdf2Async=async function(e,t,r,n){const{c:s,dkLen:c,asyncTick:l,DK:u,PRF:d,PRFSalt:h}=a(e,t,r,n);let f;const p=new Uint8Array(4),m=(0,i.createView)(p),g=new Uint8Array(d.outputLen);for(let e=1,t=0;t<c;e++,t+=d.outputLen){const r=u.subarray(t,t+d.outputLen);m.setInt32(0,e,!1),(f=h._cloneInto(f)).update(p).digestInto(g),r.set(g.subarray(0,r.length)),await(0,i.asyncLoop)(s-1,l,(()=>{d._cloneInto(f).update(g).digestInto(g);for(let e=0;e<r.length;e++)r[e]^=g[e]}))}return o(d,h,u,f,g)}}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/pbkdf2.js"}],[2776,{"./_md.js":2771,"./utils.js":2781},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ripemd160=r.RIPEMD160=void 0;const n=e("./_md.js"),s=e("./utils.js"),i=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),a=new Uint8Array(new Array(16).fill(0).map(((e,t)=>t)));let o=[a],c=[a.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[o,c])t.push(t[e].map((e=>i[e])));const l=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),u=o.map(((e,t)=>e.map((e=>l[t][e])))),d=c.map(((e,t)=>e.map((e=>l[t][e])))),h=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),f=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function p(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const m=new Uint32Array(16);class g extends n.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:s}=this;return[e,t,r,n,s]}set(e,t,r,n,s){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)m[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,a=i,l=0|this.h2,g=l,v=0|this.h3,y=v,b=0|this.h4,w=b;for(let e=0;e<5;e++){const t=4-e,S=h[e],_=f[e],E=o[e],k=c[e],T=u[e],I=d[e];for(let t=0;t<16;t++){const n=(0,s.rotl)(r+p(e,i,l,v)+m[E[t]]+S,T[t])+b|0;r=b,b=v,v=0|(0,s.rotl)(l,10),l=i,i=n}for(let e=0;e<16;e++){const r=(0,s.rotl)(n+p(t,a,g,y)+m[k[e]]+_,I[e])+w|0;n=w,w=y,y=0|(0,s.rotl)(g,10),g=a,a=r}}this.set(this.h1+l+y|0,this.h2+v+w|0,this.h3+b+n|0,this.h4+r+a|0,this.h0+i+g|0)}roundClean(){m.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}r.RIPEMD160=g,r.ripemd160=(0,s.wrapConstructor)((()=>new g))}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/ripemd160.js"}],[2778,{"./_md.js":2771,"./utils.js":2781},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha224=r.sha256=void 0;const n=e("./_md.js"),s=e("./utils.js"),i=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),o=new Uint32Array(64);class c extends n.HashMD{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:s,F:i,G:a,H:o}=this;return[e,t,r,n,s,i,a,o]}set(e,t,r,n,s,i,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|s,this.F=0|i,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)o[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=o[e-15],r=o[e-2],n=(0,s.rotr)(t,7)^(0,s.rotr)(t,18)^t>>>3,i=(0,s.rotr)(r,17)^(0,s.rotr)(r,19)^r>>>10;o[e]=i+o[e-7]+n+o[e-16]|0}let{A:r,B:a,C:c,D:l,E:u,F:d,G:h,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,s.rotr)(u,6)^(0,s.rotr)(u,11)^(0,s.rotr)(u,25))+(0,n.Chi)(u,d,h)+i[e]+o[e]|0,p=((0,s.rotr)(r,2)^(0,s.rotr)(r,13)^(0,s.rotr)(r,22))+(0,n.Maj)(r,a,c)|0;f=h,h=d,d=u,u=l+t|0,l=c,c=a,a=r,r=t+p|0}r=r+this.A|0,a=a+this.B|0,c=c+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,a,c,l,u,d,h,f)}roundClean(){o.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}r.sha256=(0,s.wrapConstructor)((()=>new c)),r.sha224=(0,s.wrapConstructor)((()=>new l))}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha256.js"}],[2779,{"./_assert.js":2770,"./_u64.js":2772,"./utils.js":2781},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shake256=r.shake128=r.keccak_512=r.keccak_384=r.keccak_256=r.keccak_224=r.sha3_512=r.sha3_384=r.sha3_256=r.sha3_224=r.Keccak=r.keccakP=void 0;const n=e("./_assert.js"),s=e("./_u64.js"),i=e("./utils.js"),a=[],o=[],c=[],l=BigInt(0),u=BigInt(1),d=BigInt(2),h=BigInt(7),f=BigInt(256),p=BigInt(113);for(let e=0,t=u,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],a.push(2*(5*n+r)),o.push((e+1)*(e+2)/2%64);let s=l;for(let e=0;e<7;e++)t=(t<<u^(t>>h)*p)%f,t&d&&(s^=u<<(u<<BigInt(e))-u);c.push(s)}const[m,g]=(0,s.split)(c,!0),v=(e,t,r)=>r>32?(0,s.rotlBH)(e,t,r):(0,s.rotlSH)(e,t,r),y=(e,t,r)=>r>32?(0,s.rotlBL)(e,t,r):(0,s.rotlSL)(e,t,r);function b(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,s=(t+2)%10,i=r[s],a=r[s+1],o=v(i,a,1)^r[n],c=y(i,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=c}let t=e[2],s=e[3];for(let r=0;r<24;r++){const n=o[r],i=v(t,s,n),c=y(t,s,n),l=a[r];t=e[l],s=e[l+1],e[l]=i,e[l+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=m[n],e[1]^=g[n]}r.fill(0)}r.keccakP=b;class w extends i.Hash{constructor(e,t,r,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,i.u32)(this.state)}keccak(){i.isLE||(0,i.byteSwap32)(this.state32),b(this.state32,this.rounds),i.isLE||(0,i.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,n.exists)(this);const{blockLen:t,state:r}=this,s=(e=(0,i.toBytes)(e)).length;for(let n=0;n<s;){const i=Math.min(t-this.pos,s-n);for(let t=0;t<i;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.exists)(this,!1),(0,n.bytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,s=e.length;n<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-n);e.set(t.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:s,enableXOF:i}=this;return e||(e=new w(t,r,n,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=n,e.enableXOF=i,e.destroyed=this.destroyed,e}}r.Keccak=w;const S=(e,t,r)=>(0,i.wrapConstructor)((()=>new w(t,e,r)));r.sha3_224=S(6,144,28),r.sha3_256=S(6,136,32),r.sha3_384=S(6,104,48),r.sha3_512=S(6,72,64),r.keccak_224=S(1,144,28),r.keccak_256=S(1,136,32),r.keccak_384=S(1,104,48),r.keccak_512=S(1,72,64);const _=(e,t,r)=>(0,i.wrapXOFConstructorWithOpts)(((n={})=>new w(t,e,n.dkLen===undefined?r:n.dkLen,!0)));r.shake128=_(31,168,16),r.shake256=_(31,136,32)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha3.js"}],[278,{"../../shared/modules/i18n":5018,"../_locales/en/messages.json":2},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.t=function(e,...t){return(0,i.getMessage)(a,o,e,t)||(0,i.getMessage)(i.FALLBACK_LOCALE,s.default,e,t)},r.updateCurrentLocale=async function(e){if(a===e)return;o=e===i.FALLBACK_LOCALE?s.default:await(0,i.fetchLocale)(e);a=e};var n,s=(n=e("../_locales/en/messages.json"))&&n.__esModule?n:{default:n},i=e("../../shared/modules/i18n");let a=i.FALLBACK_LOCALE,o=s.default}}},{package:"$root$",file:"app/scripts/translate.ts"}],[2780,{"./_md.js":2771,"./_u64.js":2772,"./utils.js":2781},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha384=r.sha512_256=r.sha512_224=r.sha512=r.SHA512=void 0;const n=e("./_md.js"),s=e("./_u64.js"),i=e("./utils.js"),[a,o]=(()=>s.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),c=new Uint32Array(80),l=new Uint32Array(80);class u extends n.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:s,Cl:i,Dh:a,Dl:o,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:m}=this;return[e,t,r,n,s,i,a,o,c,l,u,d,h,f,p,m]}set(e,t,r,n,s,i,a,o,c,l,u,d,h,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|s,this.Cl=0|i,this.Dh=0|a,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t),l[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],r=0|l[e-15],n=s.default.rotrSH(t,r,1)^s.default.rotrSH(t,r,8)^s.default.shrSH(t,r,7),i=s.default.rotrSL(t,r,1)^s.default.rotrSL(t,r,8)^s.default.shrSL(t,r,7),a=0|c[e-2],o=0|l[e-2],u=s.default.rotrSH(a,o,19)^s.default.rotrBH(a,o,61)^s.default.shrSH(a,o,6),d=s.default.rotrSL(a,o,19)^s.default.rotrBL(a,o,61)^s.default.shrSL(a,o,6),h=s.default.add4L(i,d,l[e-7],l[e-16]),f=s.default.add4H(h,n,u,c[e-7],c[e-16]);c[e]=0|f,l[e]=0|h}let{Ah:r,Al:n,Bh:i,Bl:u,Ch:d,Cl:h,Dh:f,Dl:p,Eh:m,El:g,Fh:v,Fl:y,Gh:b,Gl:w,Hh:S,Hl:_}=this;for(let e=0;e<80;e++){const t=s.default.rotrSH(m,g,14)^s.default.rotrSH(m,g,18)^s.default.rotrBH(m,g,41),E=s.default.rotrSL(m,g,14)^s.default.rotrSL(m,g,18)^s.default.rotrBL(m,g,41),k=m&v^~m&b,T=g&y^~g&w,I=s.default.add5L(_,E,T,o[e],l[e]),j=s.default.add5H(I,S,t,k,a[e],c[e]),x=0|I,P=s.default.rotrSH(r,n,28)^s.default.rotrBH(r,n,34)^s.default.rotrBH(r,n,39),A=s.default.rotrSL(r,n,28)^s.default.rotrBL(r,n,34)^s.default.rotrBL(r,n,39),C=r&i^r&d^i&d,R=n&u^n&h^u&h;S=0|b,_=0|w,b=0|v,w=0|y,v=0|m,y=0|g,({h:m,l:g}=s.default.add(0|f,0|p,0|j,0|x)),f=0|d,p=0|h,d=0|i,h=0|u,i=0|r,u=0|n;const O=s.default.add3L(x,A,R);r=s.default.add3H(O,j,P,C),n=0|O}({h:r,l:n}=s.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:u}=s.default.add(0|this.Bh,0|this.Bl,0|i,0|u)),({h:d,l:h}=s.default.add(0|this.Ch,0|this.Cl,0|d,0|h)),({h:f,l:p}=s.default.add(0|this.Dh,0|this.Dl,0|f,0|p)),({h:m,l:g}=s.default.add(0|this.Eh,0|this.El,0|m,0|g)),({h:v,l:y}=s.default.add(0|this.Fh,0|this.Fl,0|v,0|y)),({h:b,l:w}=s.default.add(0|this.Gh,0|this.Gl,0|b,0|w)),({h:S,l:_}=s.default.add(0|this.Hh,0|this.Hl,0|S,0|_)),this.set(r,n,i,u,d,h,f,p,m,g,v,y,b,w,S,_)}roundClean(){c.fill(0),l.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}r.SHA512=u;class d extends u{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class h extends u{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class f extends u{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}r.sha512=(0,i.wrapConstructor)((()=>new u)),r.sha512_224=(0,i.wrapConstructor)((()=>new d)),r.sha512_256=(0,i.wrapConstructor)((()=>new h)),r.sha384=(0,i.wrapConstructor)((()=>new f))}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha512.js"}],[2781,{"./_assert.js":2770,"@noble/hashes/crypto":2773},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.byteSwap32=r.byteSwapIfBE=r.byteSwap=r.isLE=r.rotl=r.rotr=r.createView=r.u32=r.u8=r.isBytes=void 0;const n=e("@noble/hashes/crypto"),s=e("./_assert.js");r.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name};r.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);r.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));r.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);r.rotr=(e,t)=>e<<32-t|e>>>t;r.rotl=(e,t)=>e<<t|e>>>32-t>>>0,r.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];r.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,r.byteSwapIfBE=r.isLE?e=>e:e=>(0,r.byteSwap)(e),r.byteSwap32=function(e){for(let t=0;t<e.length;t++)e[t]=(0,r.byteSwap)(e[t])};const i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));r.bytesToHex=function(e){(0,s.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=i[e[r]];return t};const a={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(e){return e>=a._0&&e<=a._9?e-a._0:e>=a._A&&e<=a._F?e-(a._A-10):e>=a._a&&e<=a._f?e-(a._a-10):void 0}r.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,s=0;t<r;t++,s+=2){const r=o(e.charCodeAt(s)),i=o(e.charCodeAt(s+1));if(r===undefined||i===undefined){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}n[t]=16*r+i}return n};function c(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function l(e){return"string"==typeof e&&(e=c(e)),(0,s.bytes)(e),e}r.nextTick=async()=>{},r.asyncLoop=async function(e,t,n){let s=Date.now();for(let i=0;i<e;i++){n(i);const e=Date.now()-s;e>=0&&e<t||(await(0,r.nextTick)(),s+=e)}},r.utf8ToBytes=c,r.toBytes=l,r.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];(0,s.bytes)(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const s=e[t];r.set(s,n),n+=s.length}return r};r.Hash=class{clone(){return this._cloneInto()}};const u={}.toString;r.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!==u.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},r.wrapConstructor=function(e){const t=t=>e().update(l(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},r.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(l(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(l(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/utils.js"}],[2782,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function s(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function i(e){var t=s(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function a(e){return e instanceof s(e).Element||e instanceof Element}function o(e){return e instanceof s(e).HTMLElement||e instanceof HTMLElement}function c(e){return"undefined"!=typeof ShadowRoot&&(e instanceof s(e).ShadowRoot||e instanceof ShadowRoot)}function l(e){return e?(e.nodeName||"").toLowerCase():null}function u(e){return((a(e)?e.ownerDocument:e.document)||window.document).documentElement}function d(e){return n(u(e)).left+i(e).scrollLeft}function h(e){return s(e).getComputedStyle(e)}function f(e){var t=h(e),r=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function p(e,t,r){void 0===r&&(r=!1);var a,c,h=u(t),p=n(e),m=o(t),g={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(m||!m&&!r)&&(("body"!==l(t)||f(h))&&(g=(a=t)!==s(a)&&o(a)?{scrollLeft:(c=a).scrollLeft,scrollTop:c.scrollTop}:i(a)),o(t)?((v=n(t)).x+=t.clientLeft,v.y+=t.clientTop):h&&(v.x=d(h))),{x:p.left+g.scrollLeft-v.x,y:p.top+g.scrollTop-v.y,width:p.width,height:p.height}}function m(e){var t=n(e),r=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:s}}function g(e){return"html"===l(e)?e:e.assignedSlot||e.parentNode||(c(e)?e.host:null)||u(e)}function v(e){return["html","body","#document"].indexOf(l(e))>=0?e.ownerDocument.body:o(e)&&f(e)?e:v(g(e))}function y(e,t){var r;void 0===t&&(t=[]);var n=v(e),i=n===(null==(r=e.ownerDocument)?void 0:r.body),a=s(n),o=i?[a].concat(a.visualViewport||[],f(n)?n:[]):n,c=t.concat(o);return i?c:c.concat(y(g(o)))}function b(e){return["table","td","th"].indexOf(l(e))>=0}function w(e){return o(e)&&"fixed"!==h(e).position?e.offsetParent:null}function S(e){for(var t=s(e),r=w(e);r&&b(r)&&"static"===h(r).position;)r=w(r);return r&&("html"===l(r)||"body"===l(r)&&"static"===h(r).position)?t:r||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&o(e)&&"fixed"===h(e).position)return null;for(var r=g(e);o(r)&&["html","body"].indexOf(l(r))<0;){var n=h(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}Object.defineProperty(r,"__esModule",{value:!0});var _="top",E="bottom",k="right",T="left",I="auto",j=[_,E,k,T],x="start",P="end",A="clippingParents",C="viewport",R="popper",O="reference",N=j.reduce((function(e,t){return e.concat([t+"-"+x,t+"-"+P])}),[]),B=[].concat(j,[I]).reduce((function(e,t){return e.concat([t,t+"-"+x,t+"-"+P])}),[]),M=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function L(e){var t=new Map,r=new Set,n=[];function s(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&s(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||s(e)})),n}function F(e){return e.split("-")[0]}var D=Math.max,H=Math.min,G=Math.round;function U(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&c(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function V(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function $(e,t){return t===C?V(function(e){var t=s(e),r=u(e),n=t.visualViewport,i=r.clientWidth,a=r.clientHeight,o=0,c=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,c=n.offsetTop)),{width:i,height:a,x:o+d(e),y:c}}(e)):o(t)?function(e){var t=n(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):V(function(e){var t,r=u(e),n=i(e),s=null==(t=e.ownerDocument)?void 0:t.body,a=D(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=D(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-n.scrollLeft+d(e),l=-n.scrollTop;return"rtl"===h(s||r).direction&&(c+=D(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:o,x:c,y:l}}(u(e)))}function W(e,t,r){var n="clippingParents"===t?function(e){var t=y(g(e)),r=["absolute","fixed"].indexOf(h(e).position)>=0&&o(e)?S(e):e;return a(r)?t.filter((function(e){return a(e)&&U(e,r)&&"body"!==l(e)})):[]}(e):[].concat(t),s=[].concat(n,[r]),i=s[0],c=s.reduce((function(t,r){var n=$(e,r);return t.top=D(n.top,t.top),t.right=H(n.right,t.right),t.bottom=H(n.bottom,t.bottom),t.left=D(n.left,t.left),t}),$(e,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function J(e){return e.split("-")[1]}function q(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function z(e){var t,r=e.reference,n=e.element,s=e.placement,i=s?F(s):null,a=s?J(s):null,o=r.x+r.width/2-n.width/2,c=r.y+r.height/2-n.height/2;switch(i){case _:t={x:o,y:r.y-n.height};break;case E:t={x:o,y:r.y+r.height};break;case k:t={x:r.x+r.width,y:c};break;case T:t={x:r.x-n.width,y:c};break;default:t={x:r.x,y:r.y}}var l=i?q(i):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case x:t[l]=t[l]-(r[u]/2-n[u]/2);break;case P:t[l]=t[l]+(r[u]/2-n[u]/2)}}return t}function K(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Y(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function X(e,t){void 0===t&&(t={});var r=t,s=r.placement,i=void 0===s?e.placement:s,o=r.boundary,c=void 0===o?A:o,l=r.rootBoundary,d=void 0===l?C:l,h=r.elementContext,f=void 0===h?R:h,p=r.altBoundary,m=void 0!==p&&p,g=r.padding,v=void 0===g?0:g,y=K("number"!=typeof v?v:Y(v,j)),b=f===R?O:R,w=e.elements.reference,S=e.rects.popper,T=e.elements[m?b:f],I=W(a(T)?T:T.contextElement||u(e.elements.popper),c,d),x=n(w),P=z({reference:x,element:S,strategy:"absolute",placement:i}),N=V(Object.assign({},S,P)),B=f===R?N:x,M={top:I.top-B.top+y.top,bottom:B.bottom-I.bottom+y.bottom,left:I.left-B.left+y.left,right:B.right-I.right+y.right},L=e.modifiersData.offset;if(f===R&&L){var F=L[i];Object.keys(M).forEach((function(e){var t=[k,E].indexOf(e)>=0?1:-1,r=[_,E].indexOf(e)>=0?"y":"x";M[e]+=F[r]*t}))}return M}var Z={placement:"bottom",modifiers:[],strategy:"absolute"};function Q(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ee(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,s=t.defaultOptions,i=void 0===s?Z:s;return function(e,t,r){void 0===r&&(r=i);var s,o,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Z,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,d={state:c,setOptions:function(r){h(),c.options=Object.assign({},i,c.options,r),c.scrollParents={reference:a(e)?y(e):e.contextElement?y(e.contextElement):[],popper:y(t)};var s=function(e){var t=L(e);return M.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,c.options.modifiers)));return c.orderedModifiers=s.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,s=e.effect;if("function"==typeof s){var i=s({state:c,name:t,instance:d,options:n}),a=function(){};l.push(i||a)}})),d.update()},forceUpdate:function(){if(!u){var e=c.elements,t=e.reference,r=e.popper;if(Q(t,r)){c.rects={reference:p(t,S(r),"fixed"===c.options.strategy),popper:m(r)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<c.orderedModifiers.length;n++)if(!0!==c.reset){var s=c.orderedModifiers[n],i=s.fn,a=s.options,o=void 0===a?{}:a,l=s.name;"function"==typeof i&&(c=i({state:c,options:o,name:l,instance:d})||c)}else c.reset=!1,n=-1}}},update:(s=function(){return new Promise((function(e){d.forceUpdate(),e(c)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=undefined,e(s())}))}))),o}),destroy:function(){h(),u=!0}};if(!Q(e,t))return d;function h(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(r).then((function(e){!u&&r.onFirstUpdate&&r.onFirstUpdate(e)})),d}}var te={passive:!0};var re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=void 0===i||i,o=n.resize,c=void 0===o||o,l=s(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",r.update,te)})),c&&l.addEventListener("resize",r.update,te),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",r.update,te)})),c&&l.removeEventListener("resize",r.update,te)}},data:{}};var ne={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=z({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},se={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ie(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.offsets,o=e.position,c=e.gpuAcceleration,l=e.adaptive,d=e.roundOffsets,f=!0===d?function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:G(G(t*n)/n)||0,y:G(G(r*n)/n)||0}}(a):"function"==typeof d?d(a):a,p=f.x,m=void 0===p?0:p,g=f.y,v=void 0===g?0:g,y=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),w=T,I=_,j=window;if(l){var x=S(r),P="clientHeight",A="clientWidth";x===s(r)&&"static"!==h(x=u(r)).position&&(P="scrollHeight",A="scrollWidth"),i===_&&(I=E,v-=x[P]-n.height,v*=c?1:-1),i===T&&(w=k,m-=x[A]-n.width,m*=c?1:-1)}var C,R=Object.assign({position:o},l&&se);return c?Object.assign({},R,((C={})[I]=b?"0":"",C[w]=y?"0":"",C.transform=(j.devicePixelRatio||1)<2?"translate("+m+"px, "+v+"px)":"translate3d("+m+"px, "+v+"px, 0)",C)):Object.assign({},R,((t={})[I]=b?v+"px":"",t[w]=y?m+"px":"",t.transform="",t))}var ae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,s=void 0===n||n,i=r.adaptive,a=void 0===i||i,o=r.roundOffsets,c=void 0===o||o,l={placement:F(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ie(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ie(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var oe={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},s=t.elements[e];o(s)&&l(s)&&(Object.assign(s.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],s=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});o(n)&&l(n)&&(Object.assign(n.style,i),Object.keys(s).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};var ce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,s=r.offset,i=void 0===s?[0,0]:s,a=B.reduce((function(e,r){return e[r]=function(e,t,r){var n=F(e),s=[T,_].indexOf(n)>=0?-1:1,i="function"==typeof r?r(Object.assign({},t,{placement:e})):r,a=i[0],o=i[1];return a=a||0,o=(o||0)*s,[T,k].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}(r,t.rects,i),e}),{}),o=a[t.placement],c=o.x,l=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=a}},le={left:"right",right:"left",bottom:"top",top:"bottom"};function ue(e){return e.replace(/left|right|bottom|top/g,(function(e){return le[e]}))}var de={start:"end",end:"start"};function he(e){return e.replace(/start|end/g,(function(e){return de[e]}))}function fe(e,t){void 0===t&&(t={});var r=t,n=r.placement,s=r.boundary,i=r.rootBoundary,a=r.padding,o=r.flipVariations,c=r.allowedAutoPlacements,l=void 0===c?B:c,u=J(n),d=u?o?N:N.filter((function(e){return J(e)===u})):j,h=d.filter((function(e){return l.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,r){return t[r]=X(e,{placement:r,boundary:s,rootBoundary:i,padding:a})[F(r)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}var pe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=r.mainAxis,i=void 0===s||s,a=r.altAxis,o=void 0===a||a,c=r.fallbackPlacements,l=r.padding,u=r.boundary,d=r.rootBoundary,h=r.altBoundary,f=r.flipVariations,p=void 0===f||f,m=r.allowedAutoPlacements,g=t.options.placement,v=F(g),y=c||(v===g||!p?[ue(g)]:function(e){if(F(e)===I)return[];var t=ue(e);return[he(e),t,he(t)]}(g)),b=[g].concat(y).reduce((function(e,r){return e.concat(F(r)===I?fe(t,{placement:r,boundary:u,rootBoundary:d,padding:l,flipVariations:p,allowedAutoPlacements:m}):r)}),[]),w=t.rects.reference,S=t.rects.popper,j=new Map,P=!0,A=b[0],C=0;C<b.length;C++){var R=b[C],O=F(R),N=J(R)===x,B=[_,E].indexOf(O)>=0,M=B?"width":"height",L=X(t,{placement:R,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),D=B?N?k:T:N?E:_;w[M]>S[M]&&(D=ue(D));var H=ue(D),G=[];if(i&&G.push(L[O]<=0),o&&G.push(L[D]<=0,L[H]<=0),G.every((function(e){return e}))){A=R,P=!1;break}j.set(R,G)}if(P)for(var U=function(e){var t=b.find((function(t){var r=j.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return A=t,"break"},V=p?3:1;V>0;V--){if("break"===U(V))break}t.placement!==A&&(t.modifiersData[n]._skip=!0,t.placement=A,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function me(e,t,r){return D(e,H(t,r))}var ge={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,s=r.mainAxis,i=void 0===s||s,a=r.altAxis,o=void 0!==a&&a,c=r.boundary,l=r.rootBoundary,u=r.altBoundary,d=r.padding,h=r.tether,f=void 0===h||h,p=r.tetherOffset,g=void 0===p?0:p,v=X(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),y=F(t.placement),b=J(t.placement),w=!b,I=q(y),j="x"===I?"y":"x",P=t.modifiersData.popperOffsets,A=t.rects.reference,C=t.rects.popper,R="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,O={x:0,y:0};if(P){if(i||o){var N="y"===I?_:T,B="y"===I?E:k,M="y"===I?"height":"width",L=P[I],G=P[I]+v[N],U=P[I]-v[B],V=f?-C[M]/2:0,$=b===x?A[M]:C[M],W=b===x?-C[M]:-A[M],z=t.elements.arrow,K=f&&z?m(z):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Z=Y[N],Q=Y[B],ee=me(0,A[M],K[M]),te=w?A[M]/2-V-ee-Z-R:$-ee-Z-R,re=w?-A[M]/2+V+ee+Q+R:W+ee+Q+R,ne=t.elements.arrow&&S(t.elements.arrow),se=ne?"y"===I?ne.clientTop||0:ne.clientLeft||0:0,ie=t.modifiersData.offset?t.modifiersData.offset[t.placement][I]:0,ae=P[I]+te-ie-se,oe=P[I]+re-ie;if(i){var ce=me(f?H(G,ae):G,L,f?D(U,oe):U);P[I]=ce,O[I]=ce-L}if(o){var le="x"===I?_:T,ue="x"===I?E:k,de=P[j],he=de+v[le],fe=de-v[ue],pe=me(f?H(he,ae):he,de,f?D(fe,oe):fe);P[j]=pe,O[j]=pe-de}}t.modifiersData[n]=O}},requiresIfExists:["offset"]};var ve={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,s=e.options,i=r.elements.arrow,a=r.modifiersData.popperOffsets,o=F(r.placement),c=q(o),l=[T,k].indexOf(o)>=0?"height":"width";if(i&&a){var u=function(e,t){return K("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Y(e,j))}(s.padding,r),d=m(i),h="y"===c?_:T,f="y"===c?E:k,p=r.rects.reference[l]+r.rects.reference[c]-a[c]-r.rects.popper[l],g=a[c]-r.rects.reference[c],v=S(i),y=v?"y"===c?v.clientHeight||0:v.clientWidth||0:0,b=p/2-g/2,w=u[h],I=y-d[l]-u[f],x=y/2-d[l]/2+b,P=me(w,x,I),A=c;r.modifiersData[n]=((t={})[A]=P,t.centerOffset=P-x,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&U(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ye(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function be(e){return[_,k,E,T].some((function(t){return e[t]>=0}))}var we={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,s=t.rects.popper,i=t.modifiersData.preventOverflow,a=X(t,{elementContext:"reference"}),o=X(t,{altBoundary:!0}),c=ye(a,n),l=ye(o,s,i),u=be(c),d=be(l);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},Se=ee({defaultModifiers:[re,ne,ae,oe]}),_e=[re,ne,ae,oe,ce,pe,ge,ve,we],Ee=ee({defaultModifiers:_e});r.applyStyles=oe,r.arrow=ve,r.computeStyles=ae,r.createPopper=Ee,r.createPopperLite=Se,r.defaultModifiers=_e,r.detectOverflow=X,r.eventListeners=re,r.flip=pe,r.hide=we,r.offset=ce,r.popperGenerator=ee,r.popperOffsets=ne,r.preventOverflow=ge}}},{package:"@popperjs/core",file:"node_modules/@popperjs/core/dist/cjs/popper.js"}],[2783,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){var r=new Array(arguments.length-1),n=0,s=2,i=!0;for(;s<arguments.length;)r[n++]=arguments[s++];return new Promise((function(s,a){r[n]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];s.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,a(e))}}))}}}},{package:"firebase>@firebase/firestore>@grpc/proto-loader>protobufjs>@protobufjs/aspromise",file:"node_modules/@protobufjs/aspromise/index.js"}],[2784,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=r;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var s=new Array(64),i=new Array(123),a=0;a<64;)i[s[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,r){for(var n,i=null,a=[],o=0,c=0;t<r;){var l=e[t++];switch(c){case 0:a[o++]=s[l>>2],n=(3&l)<<4,c=1;break;case 1:a[o++]=s[n|l>>4],n=(15&l)<<2,c=2;break;case 2:a[o++]=s[n|l>>6],a[o++]=s[63&l],c=0}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),o=0)}return c&&(a[o++]=s[n],a[o++]=61,1===c&&(a[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,a.slice(0,o))),i.join("")):String.fromCharCode.apply(String,a.slice(0,o))};var o="invalid encoding";n.decode=function(e,t,r){for(var n,s=r,a=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&a>1)break;if((l=i[l])===undefined)throw Error(o);switch(a){case 0:n=l,a=1;break;case 1:t[r++]=n<<2|(48&l)>>4,n=l,a=2;break;case 2:t[r++]=(15&n)<<4|(60&l)>>2,n=l,a=3;break;case 3:t[r++]=(3&n)<<6|l,a=0}}if(1===a)throw Error(o);return r-s},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}}},{package:"firebase>@firebase/firestore>@grpc/proto-loader>protobufjs>@protobufjs/base64",file:"node_modules/@protobufjs/base64/index.js"}],[2785,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){"string"==typeof e&&(t=e,e=undefined);var r=[];function s(e){if("string"!=typeof e){var t=i();if(n.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var a=Object.keys(e),o=new Array(a.length+1),c=new Array(a.length),l=0;l<a.length;)o[l]=a[l],c[l]=e[a[l++]];return o[l]=t,Function.apply(null,o).apply(null,c)}return Function(t)()}for(var u=new Array(arguments.length-1),d=0;d<u.length;)u[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=u[d++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),d!==u.length)throw Error("parameter count mismatch");return r.push(e),s}function i(n){return"function "+(n||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return s.toString=i,s}t.exports=n,n.verbose=!1}}},{package:"firebase>@firebase/firestore>@grpc/proto-loader>protobufjs>@protobufjs/codegen",file:"node_modules/@protobufjs/codegen/index.js"}],[2786,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(){this._listeners={}}t.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}}}},{package:"firebase>@firebase/firestore>@grpc/proto-loader>protobufjs>@protobufjs/eventemitter",file:"node_modules/@protobufjs/eventemitter/index.js"}],[2787,{"@protobufjs/aspromise":2783,"@protobufjs/inquire":2789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("@protobufjs/aspromise"),s=e("@protobufjs/inquire")("fs");function i(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&s&&s.readFile?s.readFile(e,(function(n,s){return n&&"undefined"!=typeof XMLHttpRequest?i.xhr(e,t,r):n?r(n):r(null,t.binary?s:s.toString("utf8"))})):i.xhr(e,t,r):n(i,this,e,t)}i.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4!==n.readyState)return undefined;if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var s=0;s<n.responseText.length;++s)e.push(255&n.responseText.charCodeAt(s))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}}}},{package:"firebase>@firebase/firestore>@grpc/proto-loader>protobufjs>@protobufjs/fetch",file:"node_modules/@protobufjs/fetch/index.js"}],[2788,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function s(e,n,s){t[0]=e,n[s]=r[0],n[s+1]=r[1],n[s+2]=r[2],n[s+3]=r[3]}function i(e,n,s){t[0]=e,n[s]=r[3],n[s+1]=r[2],n[s+2]=r[1],n[s+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function o(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?s:i,e.writeFloatBE=n?i:s,e.readFloatLE=n?a:o,e.readFloatBE=n?o:a}():function(){function t(e,t,r,n){var s=t<0?1:0;if(s&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((s<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((s<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((s<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),s=2*(n>>31)+1,i=n>>>23&255,a=8388607&n;return 255===i?a?NaN:s*Infinity:0===i?1401298464324817e-60*s*a:s*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,s),e.writeFloatBE=t.bind(null,i),e.readFloatLE=r.bind(null,a),e.readFloatBE=r.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function s(e,n,s){t[0]=e,n[s]=r[0],n[s+1]=r[1],n[s+2]=r[2],n[s+3]=r[3],n[s+4]=r[4],n[s+5]=r[5],n[s+6]=r[6],n[s+7]=r[7]}function i(e,n,s){t[0]=e,n[s]=r[7],n[s+1]=r[6],n[s+2]=r[5],n[s+3]=r[4],n[s+4]=r[3],n[s+5]=r[2],n[s+6]=r[1],n[s+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function o(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?s:i,e.writeDoubleBE=n?i:s,e.readDoubleLE=n?a:o,e.readDoubleBE=n?o:a}():function(){function t(e,t,r,n,s,i){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,s,i+t),e(1/n>0?0:2147483648,s,i+r);else if(isNaN(n))e(0,s,i+t),e(2146959360,s,i+r);else if(n>17976931348623157e292)e(0,s,i+t),e((a<<31|2146435072)>>>0,s,i+r);else{var o;if(n<22250738585072014e-324)e((o=n/5e-324)>>>0,s,i+t),e((a<<31|o/4294967296)>>>0,s,i+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(o=n*Math.pow(2,-c))>>>0,s,i+t),e((a<<31|c+1023<<20|1048576*o&1048575)>>>0,s,i+r)}}}function r(e,t,r,n,s){var i=e(n,s+t),a=e(n,s+r),o=2*(a>>31)+1,c=a>>>20&2047,l=4294967296*(1048575&a)+i;return 2047===c?l?NaN:o*Infinity:0===c?5e-324*o*l:o*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,s,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=r.bind(null,a,0,4),e.readDoubleBE=r.bind(null,o,4,0)}(),e}function s(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=n(n)}}},{package:"firebase>@firebase/firestore>@grpc/proto-loader>protobufjs>@protobufjs/float",file:"node_modules/@protobufjs/float/index.js"}],[2789,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){try{var t=(0,eval)("quire".replace(/^/,"re"))(e);if(t&&(t.length||Object.keys(t).length))return t}catch(e){}return null}}}},{package:"firebase>@firebase/firestore>@grpc/proto-loader>protobufjs>@protobufjs/inquire",file:"node_modules/@protobufjs/inquire/index.js"}],[2790,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=r,s=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=s(e),n="";r&&(n=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):r?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return n+t.join("/")};n.resolve=function(e,t,r){return r||(t=i(t)),s(t)?t:(r||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}}}},{package:"firebase>@firebase/firestore>@grpc/proto-loader>protobufjs>@protobufjs/path",file:"node_modules/@protobufjs/path/index.js"}],[2791,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t,r){var n=r||8192,s=n>>>1,i=null,a=n;return function(r){if(r<1||r>s)return e(r);a+r>n&&(i=e(n),a=0);var o=t.call(i,a,a+=r);return 7&a&&(a=1+(7|a)),o}}}}},{package:"firebase>@firebase/firestore>@grpc/proto-loader>protobufjs>@protobufjs/pool",file:"node_modules/@protobufjs/pool/index.js"}],[2792,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=r;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,s=null,i=[],a=0;t<r;)(n=e[t++])<128?i[a++]=n:n>191&&n<224?i[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(n>>10),i[a++]=56320+(1023&n)):i[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,i)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,i.slice(0,a))),s.join("")):String.fromCharCode.apply(String,i.slice(0,a))},n.write=function(e,t,r){for(var n,s,i=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(s=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&s),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}}}},{package:"firebase>@firebase/firestore>@grpc/proto-loader>protobufjs>@protobufjs/utf8",file:"node_modules/@protobufjs/utf8/index.js"}],[2793,{"./redux-toolkit.cjs.development.js":2794},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./redux-toolkit.cjs.development.js")}}},{package:"@reduxjs/toolkit",file:"node_modules/@reduxjs/toolkit/dist/index.js"}],[2794,{_process:4464,immer:4126,redux:4737,"redux-thunk":4736,reselect:2796},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n,s=this&&this.__define||function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]},i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){s(this,constructor,e)}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__generator||function(e,t){var r,n,s,i,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(s=2&i[0]?n.return:i[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,i[1])).done)return s;switch(n=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,s=e.length;r<n;r++,s++)e[s]=t[r];return e},c=Object.create,l=Object.defineProperty,u=Object.defineProperties,d=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,m=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=function(e,t,r){return t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},b=function(e,t){for(var r in t||(t={}))g.call(t,r)&&y(e,r,t[r]);if(p)for(var n=0,s=p(t);n<s.length;n++){r=s[n];v.call(t,r)&&y(e,r,t[r])}return e},w=function(e,t){return u(e,h(t))},S=function(e){return l(e,"__esModule",{value:!0})},_=function(e,t,r){if(t&&"object"==typeof t||"function"==typeof t)for(var n=function(n){g.call(e,n)||"default"===n||l(e,n,{get:function(){return t[n]},enumerable:!(r=d(t,n))||r.enumerable})},s=0,i=f(t);s<i.length;s++){n(i[s])}return e},E=function(e){return _(S(l(null!=e?c(m(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)},k=function(e,t,r){return new Promise((function(n,s){var i=function(e){try{o(r.next(e))}catch(e){s(e)}},a=function(e){try{o(r.throw(e))}catch(e){s(e)}},o=function(e){return e.done?n(e.value):Promise.resolve(e.value).then(i,a)};o((r=r.apply(e,t)).next())}))};S(r),function(e,t){for(var r in t)l(e,r,{get:t[r],enumerable:!0})}(r,{EnhancerArray:function(){return q},MiddlewareArray:function(){return J},SHOULD_AUTOBATCH:function(){return St},TaskAbortError:function(){return et},addListener:function(){return mt},autoBatchEnhancer:function(){return It},clearAllListeners:function(){return gt},configureStore:function(){return de},createAction:function(){return L},createActionCreatorInvariantMiddleware:function(){return V},createAsyncThunk:function(){return Ae},createDraftSafeSelector:function(){return A},createEntityAdapter:function(){return ke},createImmutableStateInvariantMiddleware:function(){return ne},createListenerMiddleware:function(){return bt},createNextState:function(){return I.default},createReducer:function(){return me},createSelector:function(){return j.createSelector},createSerializableStateInvariantMiddleware:function(){return oe},createSlice:function(){return ve},current:function(){return I.current},findNonSerializableValue:function(){return ie},freeze:function(){return I.freeze},getDefaultMiddleware:function(){return le},getType:function(){return U},isAction:function(){return F},isActionCreator:function(){return D},isAllOf:function(){return Ne},isAnyOf:function(){return Oe},isAsyncThunkAction:function(){return Ge},isDraft:function(){return I.isDraft},isFluxStandardAction:function(){return H},isFulfilled:function(){return He},isImmutableDefault:function(){return Q},isPending:function(){return Le},isPlain:function(){return se},isPlainObject:function(){return N},isRejected:function(){return Fe},isRejectedWithValue:function(){return De},miniSerializeError:function(){return Pe},nanoid:function(){return Te},original:function(){return I.original},prepareAutoBatched:function(){return _t},removeListener:function(){return vt},unwrapResult:function(){return Ce}});var T=E(e("immer"));_(r,E(e("redux")));var I=E(e("immer")),j=E(e("reselect")),x=E(e("immer")),P=E(e("reselect")),A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=P.createSelector.apply(void 0,e);return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return r.apply(void 0,o([(0,x.isDraft)(e)?(0,x.current)(e):e],t))}},C=E(e("redux")),R=E(e("redux")),O="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?R.compose:R.compose.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function N(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return t===r}var B=E(e("redux-thunk")),M=function(e){return e&&"function"==typeof e.match};function L(e,t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return b(b({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(t){return t.type===e},r}function F(e){return N(e)&&"type"in e}function D(e){return"function"==typeof e&&"type"in e&&M(e)}function H(e){return F(e)&&"string"==typeof e.type&&Object.keys(e).every(G)}function G(e){return["type","payload","error","meta"].indexOf(e)>-1}function U(e){return""+e}function V(e){void 0===e&&(e={});var t=e.isActionCreator,r=void 0===t?D:t;return function(){return function(e){return function(t){var n,s,i;return r(t)&&console.warn((n=t.type,s=n?(""+n).split("/"):[],i=s[s.length-1]||"actionCreator",'Detected an action creator with type "'+(n||"unknown")+"\" being dispatched. \nMake sure you're calling the action creator before dispatching, i.e. `dispatch("+i+"())` instead of `dispatch("+i+")`. This is necessary even if the action has no payload.")),e(t)}}}}var $=E(e("immer"));function W(e,t){var r=0;return{measureTime:function(e){var t=Date.now();try{return e()}finally{var n=Date.now();r+=n-t}},warnIfExceeded:function(){r>e&&console.warn(t+" took "+r+"ms, which is more than the warning threshold of "+e+"ms. \nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\nIt is disabled in production builds, so you don't need to worry about that.")}}}var J=function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var s=e.apply(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s}return i(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),s(t.prototype,"concat",(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)})),s(t.prototype,"prepend",(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,o([void 0],e[0].concat(this)))):new(t.bind.apply(t,o([void 0],e.concat(this))))})),t}(Array),q=function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var s=e.apply(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s}return i(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),s(t.prototype,"concat",(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)})),s(t.prototype,"prepend",(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,o([void 0],e[0].concat(this)))):new(t.bind.apply(t,o([void 0],e.concat(this))))})),t}(Array);function z(e){return(0,$.isDraftable)(e)?(0,$.default)(e,(function(){})):e}var K=!1,Y="Invariant failed";function X(e,t){if(!e){if(K)throw new Error(Y);throw new Error(Y+": "+(t||""))}}function Z(e,t,r,n){return JSON.stringify(e,function(e,t){var r=[],n=[];t||(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+n.slice(0,r.indexOf(t)).join(".")+"]"});return function(s,i){if(r.length>0){var a=r.indexOf(this);~a?r.splice(a+1):r.push(this),~a?n.splice(a,Infinity,s):n.push(s),~r.indexOf(i)&&(i=t.call(this,s,i))}else r.push(i);return null==e?i:e.call(this,s,i)}}(t,n),r)}function Q(e){return"object"!=typeof e||null==e||Object.isFrozen(e)}function ee(e,t,r){var n=te(e,t,r);return{detectMutations:function(){return re(e,t,n,r)}}}function te(e,t,r,n,s){void 0===t&&(t=[]),void 0===n&&(n=""),void 0===s&&(s=new Set);var i={value:r};if(!e(r)&&!s.has(r))for(var a in s.add(r),i.children={},r){var o=n?n+"."+a:a;t.length&&-1!==t.indexOf(o)||(i.children[a]=te(e,t,r[a],o))}return i}function re(e,t,r,n,s,i){void 0===t&&(t=[]),void 0===s&&(s=!1),void 0===i&&(i="");var a=r?r.value:void 0,o=a===n;if(s&&!o&&!Number.isNaN(n))return{wasMutated:!0,path:i};if(e(a)||e(n))return{wasMutated:!1};var c={};for(var l in r.children)c[l]=!0;for(var l in n)c[l]=!0;var u=t.length>0,d=function(s){var a=i?i+"."+s:s;if(u&&t.some((function(e){return e instanceof RegExp?e.test(a):a===e})))return"continue";var c=re(e,t,r.children[s],n[s],o,a);if(c.wasMutated)return{value:c}};for(var l in c){var h=d(l);if("object"==typeof h)return h.value}return{wasMutated:!1}}function ne(e){void 0===e&&(e={});var t=e.isImmutable,r=void 0===t?Q:t,n=e.ignoredPaths,s=e.warnAfter,i=void 0===s?32:s,a=e.ignore;n=n||a;var o=ee.bind(null,r,n);return function(e){var t,r=e.getState,n=r(),s=o(n);return function(e){return function(a){var c=W(i,"ImmutableStateInvariantMiddleware");c.measureTime((function(){n=r(),t=s.detectMutations(),s=o(n),X(!t.wasMutated,"A state mutation was detected between dispatches, in the path '"+(t.path||"")+"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")}));var l=e(a);return c.measureTime((function(){n=r(),t=s.detectMutations(),s=o(n),t.wasMutated&&X(!t.wasMutated,"A state mutation was detected inside a dispatch, in the path: "+(t.path||"")+". Take a look at the reducer(s) handling the action "+Z(a)+". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")})),c.warnIfExceeded(),l}}}}function se(e){var t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||N(e)}function ie(e,t,r,n,s,i){var a;if(void 0===t&&(t=""),void 0===r&&(r=se),void 0===s&&(s=[]),!r(e))return{keyPath:t||"<root>",value:e};if("object"!=typeof e||null===e)return!1;if(null==i?void 0:i.has(e))return!1;for(var o=null!=n?n(e):Object.entries(e),c=s.length>0,l=function(e,o){var l=t?t+"."+e:e;if(c&&s.some((function(e){return e instanceof RegExp?e.test(l):l===e})))return"continue";return r(o)?"object"==typeof o&&(a=ie(o,l,r,n,s,i))?{value:a}:void 0:{value:{keyPath:l,value:o}}},u=0,d=o;u<d.length;u++){var h=d[u],f=l(h[0],h[1]);if("object"==typeof f)return f.value}return i&&ae(e)&&i.add(e),!1}function ae(e){if(!Object.isFrozen(e))return!1;for(var t=0,r=Object.values(e);t<r.length;t++){var n=r[t];if("object"==typeof n&&null!==n&&!ae(n))return!1}return!0}function oe(e){void 0===e&&(e={});var t=e.isSerializable,r=void 0===t?se:t,n=e.getEntries,s=e.ignoredActions,i=void 0===s?[]:s,a=e.ignoredActionPaths,o=void 0===a?["meta.arg","meta.baseQueryMeta"]:a,c=e.ignoredPaths,l=void 0===c?[]:c,u=e.warnAfter,d=void 0===u?32:u,h=e.ignoreState,f=void 0!==h&&h,p=e.ignoreActions,m=void 0!==p&&p,g=e.disableCache,v=!(void 0!==g&&g)&&WeakSet?new WeakSet:void 0;return function(e){return function(t){return function(s){var a=t(s),c=W(d,"SerializableStateInvariantMiddleware");return m||i.length&&-1!==i.indexOf(s.type)||c.measureTime((function(){var e=ie(s,"",r,n,o,v);if(e){var t=e.keyPath,i=e.value;console.error("A non-serializable value was detected in an action, in the path: `"+t+"`. Value:",i,"\nTake a look at the logic that dispatched this action: ",s,"\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)","\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)")}})),f||(c.measureTime((function(){var t=ie(e.getState(),"",r,n,l,v);if(t){var i=t.keyPath,a=t.value;console.error("A non-serializable value was detected in the state, in the path: `"+i+"`. Value:",a,"\nTake a look at the reducer(s) handling this action type: "+s.type+".\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)")}})),c.warnIfExceeded()),a}}}}function ce(e){return"boolean"==typeof e}function le(e){void 0===e&&(e={});var t=e.thunk,r=void 0===t||t,n=e.immutableCheck,s=void 0===n||n,i=e.serializableCheck,a=void 0===i||i,o=e.actionCreatorCheck,c=void 0===o||o,l=new J;if(r&&(ce(r)?l.push(B.default):l.push(B.default.withExtraArgument(r.extraArgument))),s){var u={};ce(s)||(u=s),l.unshift(ne(u))}if(a){var d={};ce(a)||(d=a),l.push(oe(d))}if(c){var h={};ce(c)||(h=c),l.unshift(V(h))}return l}var ue=!1;function de(e){var t,r=function(e){return le(e)},n=e||{},s=n.reducer,i=void 0===s?void 0:s,a=n.middleware,c=void 0===a?r():a,l=n.devTools,u=void 0===l||l,d=n.preloadedState,h=void 0===d?void 0:d,f=n.enhancers,p=void 0===f?void 0:f;if("function"==typeof i)t=i;else{if(!N(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=(0,C.combineReducers)(i)}var m=c;if("function"==typeof m&&(m=m(r),!ue&&!Array.isArray(m)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!ue&&m.some((function(e){return"function"!=typeof e})))throw new Error("each middleware provided to configureStore must be a function");var g=C.applyMiddleware.apply(void 0,m),v=C.compose;u&&(v=O(b({trace:!ue},"object"==typeof u&&u)));var y=new q(g),w=y;Array.isArray(p)?w=o([g],p):"function"==typeof p&&(w=p(y));var S=v.apply(void 0,w);return(0,C.createStore)(t,h,S)}var he=E(e("immer"));function fe(e){var t,r={},n=[],s={addCase:function(e,i){if(n.length>0)throw new Error("`builder.addCase` should only be called before calling `builder.addMatcher`");if(t)throw new Error("`builder.addCase` should only be called before calling `builder.addDefaultCase`");var a="string"==typeof e?e:e.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in r)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return r[a]=i,s},addMatcher:function(e,r){if(t)throw new Error("`builder.addMatcher` should only be called before calling `builder.addDefaultCase`");return n.push({matcher:e,reducer:r}),s},addDefaultCase:function(e){if(t)throw new Error("`builder.addDefaultCase` can only be called once");return t=e,s}};return e(s),[r,n,t]}var pe=!1;function me(e,t,r,n){void 0===r&&(r=[]),"object"==typeof t&&(pe||(pe=!0,console.warn("The object notation for `createReducer` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer")));var s,i="function"==typeof t?fe(t):[t,r,n],a=i[0],c=i[1],l=i[2];if("function"==typeof e)s=function(){return z(e())};else{var u=z(e);s=function(){return u}}function d(e,t){void 0===e&&(e=s());var r=o([a[t.type]],c.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===r.filter((function(e){return!!e})).length&&(r=[l]),r.reduce((function(e,r){if(r){var n;if((0,he.isDraft)(e))return void 0===(n=r(e,t))?e:n;if((0,he.isDraftable)(e))return(0,he.default)(e,(function(e){return r(e,t)}));if(void 0===(n=r(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e}),e)}return d.getInitialState=s,d}var ge=!1;function ve(e){var r=e.name;if(!r)throw new Error("`name` is a required option for createSlice");void 0!==t&&void 0===e.initialState&&console.error("You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`");var n,s="function"==typeof e.initialState?e.initialState:z(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},c={},l={};function u(){"object"==typeof e.extraReducers&&(ge||(ge=!0,console.warn("The object notation for `createSlice.extraReducers` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice")));var t="function"==typeof e.extraReducers?fe(e.extraReducers):[e.extraReducers],r=t[0],n=void 0===r?{}:r,i=t[1],a=void 0===i?[]:i,o=t[2],l=void 0===o?void 0:o,u=b(b({},n),c);return me(s,(function(e){for(var t in u)e.addCase(t,u[t]);for(var r=0,n=a;r<n.length;r++){var s=n[r];e.addMatcher(s.matcher,s.reducer)}l&&e.addDefaultCase(l)}))}return a.forEach((function(e){var t,n,s=i[e],a=r+"/"+e;"reducer"in s?(t=s.reducer,n=s.prepare):t=s,o[e]=t,c[a]=t,l[e]=n?L(a,n):L(a)})),{name:r,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:l,caseReducers:o,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}var ye=E(e("immer"));function be(e){return function(t,r){var n=function(t){H(r)?e(r.payload,t):e(r,t)};return(0,ye.isDraft)(t)?(n(t),t):(0,ye.default)(t,n)}}function we(e,t){var r=t(e);return void 0===r&&console.warn("The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",e,"The `selectId` implementation:",t.toString()),r}function Se(e){return Array.isArray(e)||(e=Object.values(e)),e}function _e(e,t,r){for(var n=[],s=[],i=0,a=e=Se(e);i<a.length;i++){var o=a[i],c=we(o,t);c in r.entities?s.push({id:c,changes:o}):n.push(o)}return[n,s]}function Ee(e){function t(t,r){var n=we(t,e);n in r.entities||(r.ids.push(n),r.entities[n]=t)}function r(e,r){for(var n=0,s=e=Se(e);n<s.length;n++){t(s[n],r)}}function n(t,r){var n=we(t,e);n in r.entities||r.ids.push(n),r.entities[n]=t}function s(e,t){var r=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],r=!0)})),r&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function i(t,r){var n={},s={};if(t.forEach((function(e){e.id in r.entities&&(s[e.id]={id:e.id,changes:b(b({},s[e.id]?s[e.id].changes:null),e.changes)})})),(t=Object.values(s)).length>0){var i=t.filter((function(t){return function(t,r,n){var s=n.entities[r.id],i=Object.assign({},s,r.changes),a=we(i,e),o=a!==r.id;return o&&(t[r.id]=a,delete n.entities[r.id]),n.entities[a]=i,o}(n,t,r)})).length>0;i&&(r.ids=Object.keys(r.entities))}}function a(t,n){var s=_e(t,e,n),a=s[0];i(s[1],n),r(a,n)}return{removeAll:(o=function(e){Object.assign(e,{ids:[],entities:{}})},c=be((function(e,t){return o(t)})),function(e){return c(e,void 0)}),addOne:be(t),addMany:be(r),setOne:be(n),setMany:be((function(e,t){for(var r=0,s=e=Se(e);r<s.length;r++){n(s[r],t)}})),setAll:be((function(e,t){e=Se(e),t.ids=[],t.entities={},r(e,t)})),updateOne:be((function(e,t){return i([e],t)})),updateMany:be(i),upsertOne:be((function(e,t){return a([e],t)})),upsertMany:be(a),removeOne:be((function(e,t){return s([e],t)})),removeMany:be(s)};var o,c}function ke(e){void 0===e&&(e={});var t=b({sortComparer:!1,selectId:function(e){return e.id}},e),r=t.selectId,n=t.sortComparer,s={getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},i={getSelectors:function(e){var t=function(e){return e.ids},r=function(e){return e.entities},n=A(t,r,(function(e,t){return e.map((function(e){return t[e]}))})),s=function(e,t){return t},i=function(e,t){return e[t]},a=A(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:r,selectAll:n,selectTotal:a,selectById:A(r,s,i)};var o=A(e,r);return{selectIds:A(e,t),selectEntities:o,selectAll:A(e,n),selectTotal:A(e,a),selectById:A(o,s,i)}}},a=n?function(e,t){var r=Ee(e);function n(t,r){var n=(t=Se(t)).filter((function(t){return!(we(t,e)in r.entities)}));0!==n.length&&o(n,r)}function s(e,t){0!==(e=Se(e)).length&&o(e,t)}function i(t,r){for(var n=!1,s=0,i=t;s<i.length;s++){var a=i[s],o=r.entities[a.id];if(o){n=!0,Object.assign(o,a.changes);var l=e(o);a.id!==l&&(delete r.entities[a.id],r.entities[l]=o)}}n&&c(r)}function a(t,r){var s=_e(t,e,r),a=s[0];i(s[1],r),n(a,r)}function o(t,r){t.forEach((function(t){r.entities[e(t)]=t})),c(r)}function c(r){var n=Object.values(r.entities);n.sort(t);var s=n.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(e[r]!==t[r])return!1;return!0})(r.ids,s)||(r.ids=s)}return{removeOne:r.removeOne,removeMany:r.removeMany,removeAll:r.removeAll,addOne:be((function(e,t){return n([e],t)})),updateOne:be((function(e,t){return i([e],t)})),upsertOne:be((function(e,t){return a([e],t)})),setOne:be((function(e,t){return s([e],t)})),setMany:be(s),setAll:be((function(e,t){e=Se(e),t.entities={},t.ids=[],n(e,t)})),addMany:be(n),updateMany:be(i),upsertMany:be(a)}}(r,n):Ee(r);return b(b(b({selectId:r,sortComparer:n},s),i),a)}var Te=function(e){void 0===e&&(e=21);for(var t="",r=e;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Ie=["name","message","stack","code"],je=function(e,t){this.payload=e,this.meta=t},xe=function(e,t){this.payload=e,this.meta=t},Pe=function(e){if("object"==typeof e&&null!==e){for(var t={},r=0,n=Ie;r<n.length;r++){var s=n[r];"string"==typeof e[s]&&(t[s]=e[s])}return t}return{message:String(e)}},Ae=function(){function e(e,t,r){var n=L(e+"/fulfilled",(function(e,t,r,n){return{payload:e,meta:w(b({},n||{}),{arg:r,requestId:t,requestStatus:"fulfilled"})}})),s=L(e+"/pending",(function(e,t,r){return{payload:void 0,meta:w(b({},r||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),i=L(e+"/rejected",(function(e,t,n,s,i){return{payload:s,error:(r&&r.serializeError||Pe)(e||"Rejected"),meta:w(b({},i||{}),{arg:n,requestId:t,rejectedWithValue:!!s,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o=!1,c="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){o||(o=!0,console.info("This platform does not implement AbortController. \nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'."))},e}();return Object.assign((function(e){return function(o,l,u){var d,h=(null==r?void 0:r.idGenerator)?r.idGenerator(e):Te(),f=new c;function p(e){d=e,f.abort()}var m=function(){return k(this,null,(function(){var c,m,g,v,y,b;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),v=null==(c=null==r?void 0:r.condition)?void 0:c.call(r,e,{getState:l,extra:u}),null===(w=v)||"object"!=typeof w||"function"!=typeof w.then?[3,2]:[4,v];case 1:v=a.sent(),a.label=2;case 2:if(!1===v||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:d||"Aborted"})}))})),o(s(h,e,null==(m=null==r?void 0:r.getPendingMeta)?void 0:m.call(r,{requestId:h,arg:e},{getState:l,extra:u}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:o,getState:l,extra:u,requestId:h,signal:f.signal,abort:p,rejectWithValue:function(e,t){return new je(e,t)},fulfillWithValue:function(e,t){return new xe(e,t)}})).then((function(t){if(t instanceof je)throw t;return t instanceof xe?n(t.payload,h,e,t.meta):n(t,h,e)}))])];case 3:return g=a.sent(),[3,5];case 4:return b=a.sent(),g=b instanceof je?i(null,h,e,b.payload,b.meta):i(b,h,e),[3,5];case 5:return r&&!r.dispatchConditionRejection&&i.match(g)&&g.meta.condition||o(g),[2,g]}var w}))}))}();return Object.assign(m,{abort:p,requestId:h,arg:e,unwrap:function(){return m.then(Ce)}})}}),{pending:s,rejected:i,fulfilled:n,typePrefix:e})}return e.withTypes=function(){return e},e}();function Ce(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Re=function(e,t){return M(e)?e.match(t):e(t)};function Oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return Re(e,t)}))}}function Ne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every((function(e){return Re(e,t)}))}}function Be(e,t){if(!e||!e.meta)return!1;var r="string"==typeof e.meta.requestId,n=t.indexOf(e.meta.requestStatus)>-1;return r&&n}function Me(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Be(e,["pending"])}:Me(e)?function(t){var r=e.map((function(e){return e.pending}));return Oe.apply(void 0,r)(t)}:Le()(e[0])}function Fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Be(e,["rejected"])}:Me(e)?function(t){var r=e.map((function(e){return e.rejected}));return Oe.apply(void 0,r)(t)}:Fe()(e[0])}function De(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||Me(e)?function(t){return Ne(Fe.apply(void 0,e),r)(t)}:De()(e[0])}function He(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Be(e,["fulfilled"])}:Me(e)?function(t){var r=e.map((function(e){return e.fulfilled}));return Oe.apply(void 0,r)(t)}:He()(e[0])}function Ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Be(e,["pending","fulfilled","rejected"])}:Me(e)?function(t){for(var r=[],n=0,s=e;n<s.length;n++){var i=s[n];r.push(i.pending,i.rejected,i.fulfilled)}return Oe.apply(void 0,r)(t)}:Ge()(e[0])}var Ue=function(e,t){if("function"!=typeof e)throw new TypeError(t+" is not a function")},Ve=function(){},$e=function(e,t){return void 0===t&&(t=Ve),e.catch(t),e},We=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},Je=function(e,t){var r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},qe="listener",ze="completed",Ke="cancelled",Ye="task-"+Ke,Xe="task-"+ze,Ze=qe+"-"+Ke,Qe=qe+"-"+ze,et=function(e){this.code=e,this.name="TaskAbortError",this.message="task "+Ke+" (reason: "+e+")"},tt=function(e){if(e.aborted)throw new et(e.reason)};function rt(e,t){var r=Ve;return new Promise((function(n,s){var i=function(){return s(new et(e.reason))};e.aborted?i():(r=We(e,i),t.finally((function(){return r()})).then(n,s))})).finally((function(){r=Ve}))}var nt=function(e){return function(t){return $e(rt(e,t).then((function(t){return tt(e),t})))}},st=function(e){var t=nt(e);return function(e){return t(new Promise((function(t){return setTimeout(t,e)})))}},it=Object.assign,at={},ot="listenerMiddleware",ct=function(e,t){return function(r,n){Ue(r,"taskExecutor");var s,i=new AbortController;s=i,We(e,(function(){return Je(s,e.reason)}));var o,c,l=(o=function(){return k(void 0,null,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return tt(e),tt(i.signal),[4,r({pause:nt(i.signal),delay:st(i.signal),signal:i.signal})];case 1:return t=n.sent(),tt(i.signal),[2,t]}}))}))},c=function(){return Je(i,Xe)},k(void 0,null,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return t.sent(),[4,o()];case 2:return[2,{status:"ok",value:t.sent()}];case 3:return[2,{status:(e=t.sent())instanceof et?"cancelled":"rejected",error:e}];case 4:return null==c||c(),[7];case 5:return[2]}}))})));return(null==n?void 0:n.autoJoin)&&t.push(l),{result:nt(e)(l),cancel:function(){Je(i,Ye)}}}},lt=function(e,t){return function(r,n){return $e(function(r,n){return k(void 0,null,(function(){var s,i,o,c;return a(this,(function(a){switch(a.label){case 0:tt(t),s=function(){},i=new Promise((function(t,n){var i=e({predicate:r,effect:function(e,r){r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});s=function(){i(),n()}})),o=[i],null!=n&&o.push(new Promise((function(e){return setTimeout(e,n,null)}))),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,rt(t,Promise.race(o))];case 2:return c=a.sent(),tt(t),[2,c];case 3:return s(),[7];case 4:return[2]}}))}))}(r,n))}},ut=function(e){var t=e.type,r=e.actionCreator,n=e.matcher,s=e.predicate,i=e.effect;if(t)s=L(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return Ue(i,"options.listener"),{predicate:s,type:t,effect:i}},dt=function(e){var t=ut(e),r=t.type,n=t.predicate,s=t.effect;return{id:Te(),effect:s,type:r,predicate:n,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}}},ht=function(e){e.pending.forEach((function(e){Je(e,Ze)}))},ft=function(e){return function(){e.forEach(ht),e.clear()}},pt=function(e,t,r){try{e(t,r)}catch(e){setTimeout((function(){throw e}),0)}},mt=L(ot+"/add"),gt=L(ot+"/removeAll"),vt=L(ot+"/remove"),yt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,o([ot+"/error"],e))};function bt(e){var t=this;void 0===e&&(e={});var r=new Map,n=e.extra,s=e.onError,i=void 0===s?yt:s;Ue(i,"onError");var o=function(e){for(var t=0,n=Array.from(r.values());t<n.length;t++){var s=n[t];if(e(s))return s}},c=function(e){var t=o((function(t){return t.effect===e.effect}));return t||(t=dt(e)),function(e){return e.unsubscribe=function(){return r.delete(e.id)},r.set(e.id,e),function(t){e.unsubscribe(),(null==t?void 0:t.cancelActive)&&ht(e)}}(t)},l=function(e){var t=ut(e),r=t.type,n=t.effect,s=t.predicate,i=o((function(e){return("string"==typeof r?e.type===r:e.predicate===s)&&e.effect===n}));return i&&(i.unsubscribe(),e.cancelActive&&ht(i)),!!i},u=function(e,s,o,l){return k(t,null,(function(){var t,u,d,h;return a(this,(function(a){switch(a.label){case 0:t=new AbortController,u=lt(c,t.signal),d=[],a.label=1;case 1:return a.trys.push([1,3,4,6]),e.pending.add(t),[4,Promise.resolve(e.effect(s,it({},o,{getOriginalState:l,condition:function(e,t){return u(e,t).then(Boolean)},take:u,delay:st(t.signal),pause:nt(t.signal),extra:n,signal:t.signal,fork:ct(t.signal,d),unsubscribe:e.unsubscribe,subscribe:function(){r.set(e.id,e)},cancelActiveListeners:function(){e.pending.forEach((function(e,r,n){e!==t&&(Je(e,Ze),n.delete(e))}))}})))];case 2:return a.sent(),[3,6];case 3:return(h=a.sent())instanceof et||pt(i,h,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(d)];case 5:return a.sent(),Je(t,Qe),e.pending.delete(t),[7];case 6:return[2]}}))}))},d=ft(r);return{middleware:function(e){return function(t){return function(n){if(!F(n))return t(n);if(mt.match(n))return c(n.payload);if(!gt.match(n)){if(vt.match(n))return l(n.payload);var s,a=e.getState(),o=function(){if(a===at)throw new Error(ot+": getOriginalState can only be called synchronously");return a};try{if(s=t(n),r.size>0)for(var h=e.getState(),f=Array.from(r.values()),p=0,m=f;p<m.length;p++){var g=m[p],v=!1;try{v=g.predicate(n,h,a)}catch(e){v=!1,pt(i,e,{raisedBy:"predicate"})}v&&u(g,n,e,o)}}finally{a=at}return s}d()}}},startListening:c,stopListening:l,clearListeners:d}}var wt,St="RTK_autoBatch",_t=function(){return function(e){var t;return{payload:e,meta:(t={},t[St]=!0,t)}}},Et="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:"undefined"!=typeof global?global:globalThis):function(e){return(wt||(wt=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))},kt=function(e){return function(t){setTimeout(t,e)}},Tt="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:kt(10),It=function(e){return void 0===e&&(e={type:"raf"}),function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var s=t.apply(void 0,r),i=!0,a=!1,o=!1,c=new Set,l="tick"===e.type?Et:"raf"===e.type?Tt:"callback"===e.type?e.queueNotification:kt(e.timeout),u=function(){o=!1,a&&(a=!1,c.forEach((function(e){return e()})))};return Object.assign({},s,{subscribe:function(e){var t=s.subscribe((function(){return i&&e()}));return c.add(e),function(){t(),c.delete(e)}},dispatch:function(e){var t;try{return i=!(null==(t=null==e?void 0:e.meta)?void 0:t[St]),(a=!i)&&(o||(o=!0,l(u))),s.dispatch(e)}finally{i=!0}}})}}};(0,T.enableES5)()}).call(this)}).call(this,e("_process"))}}},{package:"@reduxjs/toolkit",file:"node_modules/@reduxjs/toolkit/dist/redux-toolkit.cjs.development.js"}],[2795,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCacheKeyComparator=i,r.defaultEqualityCheck=void 0,r.defaultMemoize=function(e,t){var r="object"==typeof t?t:{equalityCheck:t},a=r.equalityCheck,o=void 0===a?s:a,c=r.maxSize,l=void 0===c?1:c,u=r.resultEqualityCheck,d=i(o),h=1===l?(f=d,{get:function(e){return p&&f(p.key,e)?p.value:n},put:function(e,t){p={key:e,value:t}},getEntries:function(){return p?[p]:[]},clear:function(){p=undefined}}):function(e,t){var r=[];function s(e){var s=r.findIndex((function(r){return t(e,r.key)}));if(s>-1){var i=r[s];return s>0&&(r.splice(s,1),r.unshift(i)),i.value}return n}function i(t,i){s(t)===n&&(r.unshift({key:t,value:i}),r.length>e&&r.pop())}function a(){return r}function o(){r=[]}return{get:s,put:i,getEntries:a,clear:o}}(l,d);var f,p;function m(){var t=h.get(arguments);if(t===n){if(t=e.apply(null,arguments),u){var r=h.getEntries().find((function(e){return u(e.value,t)}));r&&(t=r.value)}h.put(arguments,t)}return t}return m.clearCache=function(){return h.clear()},m};var n="NOT_FOUND";var s=function(e,t){return e===t};function i(e){return function(t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,s=0;s<n;s++)if(!e(t[s],r[s]))return!1;return!0}}r.defaultEqualityCheck=s}}},{package:"@reduxjs/toolkit>reselect",file:"node_modules/@reduxjs/toolkit/node_modules/reselect/lib/defaultMemoize.js"}],[2796,{"./defaultMemoize":2795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSelector=void 0,r.createSelectorCreator=s,r.createStructuredSelector=void 0,Object.defineProperty(r,"defaultEqualityCheck",{enumerable:!0,get:function(){return n.defaultEqualityCheck}}),Object.defineProperty(r,"defaultMemoize",{enumerable:!0,get:function(){return n.defaultMemoize}});var n=e("./defaultMemoize");function s(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i,a=0,o={memoizeOptions:undefined},c=n.pop();if("object"==typeof c&&(o=c,c=n.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var l=o.memoizeOptions,u=void 0===l?r:l,d=Array.isArray(u)?u:[u],h=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}(n),f=e.apply(void 0,[function(){return a++,c.apply(null,arguments)}].concat(d)),p=e((function(){for(var e=[],t=h.length,r=0;r<t;r++)e.push(h[r].apply(null,arguments));return i=f.apply(null,e)}));return Object.assign(p,{resultFunc:c,memoizedResultFunc:f,dependencies:h,lastResult:function(){return i},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),p}}var i=s(n.defaultMemoize);r.createSelector=i;r.createStructuredSelector=function(e,t){if(void 0===t&&(t=i),"object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var r=Object.keys(e),n=t(r.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t,n){return e[r[n]]=t,e}),{})}));return n}}}},{package:"@reduxjs/toolkit>reselect",file:"node_modules/@reduxjs/toolkit/node_modules/reselect/lib/index.js"}],[2797,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function i(...e){const t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map((e=>e.encode)).reduceRight(r,t),decode:e.map((e=>e.decode)).reduce(r,t)}}function a(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(n(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}}function o(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function c(e,t="="){if(n(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function l(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function u(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let s=0;const i=[],a=Array.from(e);for(a.forEach((e=>{if(n(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,n=!0;for(let i=s;i<a.length;i++){const o=a[i],c=t*e+o;if(!Number.isSafeInteger(c)||t*e/t!==e||c-o!=t*e)throw new Error("convertRadix: carry overflow");e=c%r;const l=Math.floor(c/r);if(a[i]=l,!Number.isSafeInteger(l)||l*r+e!==c)throw new Error("convertRadix: carry overflow");n&&(l?n=!1:s=i)}if(i.push(e),n)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.bytes=r.stringToBytes=r.str=r.bytesToString=r.hex=r.utf8=r.bech32m=r.bech32=r.base58check=r.createBase58check=r.base58xmr=r.base58xrp=r.base58flickr=r.base58=r.base64urlnopad=r.base64url=r.base64nopad=r.base64=r.base32crockford=r.base32hex=r.base32=r.base16=r.utils=r.assertNumber=void 0,r.assertNumber=n;const d=(e,t)=>t?d(t,e%t):e,h=(e,t)=>e+(t-d(e,t));function f(e,t,r,s){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(h(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${h(t,r)}`);let i=0,a=0;const o=2**r-1,c=[];for(const s of e){if(n(s),s>=2**t)throw new Error(`convertRadix2: invalid data word=${s} from=${t}`);if(i=i<<t|s,a+t>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${t}`);for(a+=t;a>=r;a-=r)c.push((i>>a-r&o)>>>0);i&=2**a-1}if(i=i<<r-a&o,!s&&a>=t)throw new Error("Excess padding");if(!s&&i)throw new Error(`Non-zero padding: ${i}`);return s&&a>0&&c.push(i>>>0),c}function p(e){return n(e),{encode:t=>{if(!s(t))throw new Error("radix.encode input should be Uint8Array");return u(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(u(t,e,256))}}}function m(e,t=!1){if(n(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(h(8,e)>32||h(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!s(r))throw new Error("radix2.encode input should be Uint8Array");return f(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(f(r,e,8,t))}}}function g(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function v(e,t){if(n(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(r){if(!s(r))throw new Error("checksum.encode: input should be Uint8Array");const n=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(n,r.length),i},decode(r){if(!s(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-e),i=t(n).slice(0,e),a=r.slice(-e);for(let t=0;t<e;t++)if(i[t]!==a[t])throw new Error("Invalid checksum");return n}}}r.utils={alphabet:a,chain:i,checksum:v,convertRadix:u,convertRadix2:f,radix:p,radix2:m,join:o,padding:c},r.base16=i(m(4),a("0123456789ABCDEF"),o("")),r.base32=i(m(5),a("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),c(5),o("")),r.base32hex=i(m(5),a("0123456789ABCDEFGHIJKLMNOPQRSTUV"),c(5),o("")),r.base32crockford=i(m(5),a("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),l((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),r.base64=i(m(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),c(6),o("")),r.base64nopad=i(m(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),r.base64url=i(m(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),c(6),o("")),r.base64urlnopad=i(m(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const y=e=>i(p(58),a(e),o(""));r.base58=y("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),r.base58flickr=y("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),r.base58xrp=y("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const b=[0,2,3,5,6,7,9,10,11];r.base58xmr={encode(e){let t="";for(let n=0;n<e.length;n+=8){const s=e.subarray(n,n+8);t+=r.base58.encode(s).padStart(b[s.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const s=e.slice(n,n+11),i=b.indexOf(s.length),a=r.base58.decode(s);for(let e=0;e<a.length-i;e++)if(0!==a[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(a.slice(a.length-i)))}return Uint8Array.from(t)}};r.createBase58check=e=>i(v(4,(t=>e(e(t)))),r.base58),r.base58check=r.createBase58check;const w=i(a("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),S=[996825010,642813549,513874426,1027748829,705979059];function _(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<S.length;e++)1==(t>>e&1)&&(r^=S[e]);return r}function E(e,t,r=1){const n=e.length;let s=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);s=_(s)^r>>5}s=_(s);for(let t=0;t<n;t++)s=_(s)^31&e.charCodeAt(t);for(let e of t)s=_(s)^e;for(let e=0;e<6;e++)s=_(s);return s^=r,w.encode(f([s%2**30],30,5,!1))}function k(e){const t="bech32"===e?1:734539939,r=m(5),n=r.decode,s=r.encode,i=g(n);function a(e,r=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const s=n.lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const i=n.slice(0,s),a=n.slice(s+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const o=w.decode(a).slice(0,-6),c=E(i,o,t);if(!a.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:o}}return{encode:function(e,r,n=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);if(0===e.length)throw new TypeError(`Invalid prefix length ${e.length}`);const s=e.length+7+r.length;if(!1!==n&&s>n)throw new TypeError(`Length ${s} exceeds limit ${n}`);const i=e.toLowerCase(),a=E(i,r,t);return`${i}1${w.encode(r)}${a}`},decode:a,decodeToBytes:function(e){const{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:g(a),fromWords:n,fromWordsUnsafe:i,toWords:s}}r.bech32=k("bech32"),r.bech32m=k("bech32m"),r.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},r.hex=i(m(4),a("0123456789abcdef"),o(""),l((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const T={utf8:r.utf8,hex:r.hex,base16:r.base16,base32:r.base32,base64:r.base64,base64url:r.base64url,base58:r.base58,base58xmr:r.base58xmr},I="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";r.bytesToString=(e,t)=>{if("string"!=typeof e||!T.hasOwnProperty(e))throw new TypeError(I);if(!s(t))throw new TypeError("bytesToString() expects Uint8Array");return T[e].encode(t)},r.str=r.bytesToString;r.stringToBytes=(e,t)=>{if(!T.hasOwnProperty(e))throw new TypeError(I);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return T[e].decode(t)},r.bytes=r.stringToBytes}}},{package:"@metamask/utils>@scure/base",file:"node_modules/@scure/base/lib/index.js"}],[2798,{"@noble/curves/abstract/modular":2802,"@noble/curves/secp256k1":2805,"@noble/hashes/_assert":2806,"@noble/hashes/hmac":2810,"@noble/hashes/ripemd160":2811,"@noble/hashes/sha256":2812,"@noble/hashes/sha512":2813,"@noble/hashes/utils":2814,"@scure/base":2797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HDKey=r.HARDENED_OFFSET=void 0;
/*! scure-bip32 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/hmac"),s=e("@noble/hashes/ripemd160"),i=e("@noble/hashes/sha256"),a=e("@noble/hashes/sha512"),o=e("@noble/hashes/_assert"),c=e("@noble/hashes/utils"),l=e("@noble/curves/secp256k1"),u=e("@noble/curves/abstract/modular"),d=e("@scure/base"),h=l.secp256k1.ProjectivePoint,f=(0,d.createBase58check)(i.sha256);function p(e){return BigInt(`0x${(0,c.bytesToHex)(e)}`)}const m=(0,c.utf8ToBytes)("Bitcoin seed"),g={private:76066276,public:76067358};r.HARDENED_OFFSET=2147483648;const v=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,c.createView)(t).setUint32(0,e,!1),t};class y{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return e=this.pubHash,(0,c.createView)(e).getUint32(0,!1);var e}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return f.encode(this.serialize(this.versions.private,(0,c.concatBytes)(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return f.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=g){if((0,o.bytes)(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const r=(0,n.hmac)(a.sha512,m,e);return new y({versions:t,chainCode:r.slice(32),privateKey:r.slice(0,32)})}static fromExtendedKey(e,t=g){const r=f.decode(e),n=(0,c.createView)(r),s=n.getUint32(0,!1),i={versions:t,depth:r[4],parentFingerprint:n.getUint32(5,!1),index:n.getUint32(9,!1),chainCode:r.slice(13,45)},a=r.slice(45),o=0===a[0];if(s!==t[o?"private":"public"])throw new Error("Version mismatch");return new y(o?{...i,privateKey:a.slice(1)}:{...i,publicKey:a})}static fromJSON(e){return y.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!=typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||g,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!l.secp256k1.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof e.privateKey?e.privateKey:p(e.privateKey),this.privKeyBytes=(t=this.privKey,(0,c.hexToBytes)(t.toString(16).padStart(64,"0"))),this.pubKey=l.secp256k1.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=h.fromHex(e.publicKey).toRawBytes(!0)}var t,r;this.pubHash=(r=this.pubKey,(0,s.ripemd160)((0,i.sha256)(r)))}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let n=this;for(const e of t){const t=/^(\d+)('?)$/.exec(e),s=t&&t[1];if(!t||3!==t.length||"string"!=typeof s)throw new Error(`Invalid child index: ${e}`);let i=+s;if(!Number.isSafeInteger(i)||i>=r.HARDENED_OFFSET)throw new Error("Invalid index");"'"===t[2]&&(i+=r.HARDENED_OFFSET),n=n.deriveChild(i)}return n}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=v(e);if(e>=r.HARDENED_OFFSET){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");t=(0,c.concatBytes)(new Uint8Array([0]),e,t)}else t=(0,c.concatBytes)(this.pubKey,t);const s=(0,n.hmac)(a.sha512,this.chainCode,t),i=p(s.slice(0,32)),o=s.slice(32);if(!l.secp256k1.utils.isValidPrivateKey(i))throw new Error("Tweak bigger than curve order");const d={versions:this.versions,chainCode:o,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=(0,u.mod)(this.privKey+i,l.secp256k1.CURVE.n);if(!l.secp256k1.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");d.privateKey=e}else{const e=h.fromHex(this.pubKey).add(h.fromPrivateKey(i));if(e.equals(h.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");d.publicKey=e.toRawBytes(!0)}return new y(d)}catch(t){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return(0,o.bytes)(e,32),l.secp256k1.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){if((0,o.bytes)(e,32),(0,o.bytes)(t,64),!this.publicKey)throw new Error("No publicKey set!");let r;try{r=l.secp256k1.Signature.fromCompact(t)}catch(e){return!1}return l.secp256k1.verify(r,e,this.publicKey)}wipePrivateData(){return this.privKey=undefined,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=undefined),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return(0,o.bytes)(t,33),(0,c.concatBytes)(v(e),new Uint8Array([this.depth]),v(this.parentFingerprint),v(this.index),this.chainCode,t)}}r.HDKey=y}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32",file:"node_modules/@scure/bip32/lib/index.js"}],[2799,{"./abstract/weierstrass.js":2804,"@noble/hashes/hmac":2810,"@noble/hashes/utils":2814},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCurve=r.getHash=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/hmac"),s=e("@noble/hashes/utils"),i=e("./abstract/weierstrass.js");function a(e){return{hash:e,hmac:(t,...r)=>(0,n.hmac)(e,t,(0,s.concatBytes)(...r)),randomBytes:s.randomBytes}}r.getHash=a,r.createCurve=function(e,t){const r=t=>(0,i.weierstrass)({...e,...a(t)});return Object.freeze({...r(t),create:r})}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/_shortw_utils.js"}],[2800,{"./modular.js":2802,"./utils.js":2803},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateBasic=r.wNAF=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./modular.js"),s=e("./utils.js"),i=BigInt(0),a=BigInt(1);r.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,s=t;for(;r>i;)r&a&&(n=n.add(s)),s=s.double(),r>>=a;return n},precomputeWindow(e,t){const{windows:r,windowSize:s}=n(t),i=[];let a=e,o=a;for(let e=0;e<r;e++){o=a,i.push(o);for(let e=1;e<s;e++)o=o.add(a),i.push(o);a=o.double()}return i},wNAF(t,s,i){const{windows:o,windowSize:c}=n(t);let l=e.ZERO,u=e.BASE;const d=BigInt(2**t-1),h=2**t,f=BigInt(t);for(let e=0;e<o;e++){const t=e*c;let n=Number(i&d);i>>=f,n>c&&(n-=h,i+=a);const o=t,p=t+Math.abs(n)-1,m=e%2!=0,g=n<0;0===n?u=u.add(r(m,s[o])):l=l.add(r(g,s[p]))}return{p:l,f:u}},wNAFCached(e,t,r,n){const s=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,s),1!==s&&t.set(e,n(i))),this.wNAF(s,i,r)}}},r.validateBasic=function(e){return(0,n.validateField)(e.Fp),(0,s.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/curve.js"}],[2801,{"./modular.js":2802,"./utils.js":2803},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHasher=r.isogenyMap=r.hash_to_field=r.expand_message_xof=r.expand_message_xmd=void 0;const n=e("./modular.js"),s=e("./utils.js");const i=s.bytesToNumberBE;function a(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function o(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function c(e){if(!(0,s.isBytes)(e))throw new Error("Uint8Array expected")}function l(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function u(e,t,r,n){c(e),c(t),l(r),t.length>255&&(t=n((0,s.concatBytes)((0,s.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:u}=n,d=Math.ceil(r/i);if(d>255)throw new Error("Invalid xmd length");const h=(0,s.concatBytes)(t,a(t.length,1)),f=a(0,u),p=a(r,2),m=new Array(d),g=n((0,s.concatBytes)(f,e,p,a(0,1),h));m[0]=n((0,s.concatBytes)(g,a(1,1),h));for(let e=1;e<=d;e++){const t=[o(g,m[e-1]),a(e+1,1),h];m[e]=n((0,s.concatBytes)(...t))}return(0,s.concatBytes)(...m).slice(0,r)}function d(e,t,r,n,i){if(c(e),c(t),l(r),t.length>255){const e=Math.ceil(2*n/8);t=i.create({dkLen:e}).update((0,s.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(a(r,2)).update(t).update(a(t.length,1)).digest()}function h(e,t,r){(0,s.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:a,k:o,m:h,hash:f,expand:p,DST:m}=r;c(e),l(t);const g=function(e){if((0,s.isBytes)(e))return e;if("string"==typeof e)return(0,s.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}(m),v=a.toString(2).length,y=Math.ceil((v+o)/8),b=t*h*y;let w;if("xmd"===p)w=u(e,g,b,f);else if("xof"===p)w=d(e,g,b,o,f);else{if("_internal_pass"!==p)throw new Error('expand must be "xmd" or "xof"');w=e}const S=new Array(t);for(let e=0;e<t;e++){const t=new Array(h);for(let r=0;r<h;r++){const s=y*(r+e*h),o=w.subarray(s,s+y);t[r]=(0,n.mod)(i(o),a)}S[e]=t}return S}r.expand_message_xmd=u,r.expand_message_xof=d,r.hash_to_field=h,r.isogenyMap=function(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,n)=>{const[s,i,a,o]=r.map((r=>r.reduce(((r,n)=>e.add(e.mul(r,t),n)))));return t=e.div(s,i),n=e.mul(n,e.div(a,o)),{x:t,y:n}}},r.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,s){const i=h(n,2,{...r,DST:r.DST,...s}),a=e.fromAffine(t(i[0])),o=e.fromAffine(t(i[1])),c=a.add(o).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,s){const i=h(n,1,{...r,DST:r.encodeDST,...s}),a=e.fromAffine(t(i[0])).clearCofactor();return a.assertValidity(),a}}}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/hash-to-curve.js"}],[2802,{"./utils.js":2803},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mapHashToField=r.getMinHashLength=r.getFieldBytesLength=r.hashToPrivateScalar=r.FpSqrtEven=r.FpSqrtOdd=r.Field=r.nLength=r.FpIsSquare=r.FpDiv=r.FpInvertBatch=r.FpPow=r.validateField=r.isNegativeLE=r.FpSqrt=r.tonelliShanks=r.invert=r.pow2=r.pow=r.mod=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./utils.js"),s=BigInt(0),i=BigInt(1),a=BigInt(2),o=BigInt(3),c=BigInt(4),l=BigInt(5),u=BigInt(8);BigInt(9),BigInt(16);function d(e,t){const r=e%t;return r>=s?r:t+r}function h(e,t,r){if(r<=s||t<s)throw new Error("Expected power/modulo > 0");if(r===i)return s;let n=i;for(;t>s;)t&i&&(n=n*e%r),e=e*e%r,t>>=i;return n}function f(e,t){if(e===s||t<=s)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=d(e,t),n=t,a=s,o=i,c=i,l=s;for(;r!==s;){const e=n/r,t=n%r,s=a-c*e,i=o-l*e;n=r,r=t,a=c,o=l,c=s,l=i}if(n!==i)throw new Error("invert: does not exist");return d(a,t)}function p(e){const t=(e-i)/a;let r,n,o;for(r=e-i,n=0;r%a===s;r/=a,n++);for(o=a;o<e&&h(o,t,e)!==e-i;o++);if(1===n){const t=(e+i)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const l=(r+i)/a;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,o),r),u=e.pow(s,l),d=e.pow(s,r);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,i<<BigInt(a-t-1));c=e.sqr(r),u=e.mul(u,r),d=e.mul(d,c),a=t}return u}}function m(e){if(e%c===o){const t=(e+i)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%u===l){const t=(e-l)/u;return function(e,r){const n=e.mul(r,a),s=e.pow(n,t),i=e.mul(r,s),o=e.mul(e.mul(i,a),s),c=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(c),r))throw new Error("Cannot find square root");return c}}return p(e)}r.mod=d,r.pow=h,r.pow2=function(e,t,r){let n=e;for(;t-- >s;)n*=n,n%=r;return n},r.invert=f,r.tonelliShanks=p,r.FpSqrt=m;r.isNegativeLE=(e,t)=>(d(e,t)&i)===i;const g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function v(e,t,r){if(r<s)throw new Error("Expected power > 0");if(r===s)return e.ONE;if(r===i)return t;let n=e.ONE,a=t;for(;r>s;)r&i&&(n=e.mul(n,a)),a=e.sqr(a),r>>=i;return n}function y(e,t){const r=new Array(t.length),n=t.reduce(((t,n,s)=>e.is0(n)?t:(r[s]=t,e.mul(t,n))),e.ONE),s=e.inv(n);return t.reduceRight(((t,n,s)=>e.is0(n)?t:(r[s]=e.mul(t,r[s]),e.mul(t,n))),s),r}function b(e,t){const r=t!==undefined?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function w(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function S(e){const t=w(e);return t+Math.ceil(t/2)}r.validateField=function(e){const t=g.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.validateObject)(e,t)},r.FpPow=v,r.FpInvertBatch=y,r.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?f(r,e.ORDER):e.inv(r))},r.FpIsSquare=function(e){const t=(e.ORDER-i)/a;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},r.nLength=b,r.Field=function(e,t,r=!1,a={}){if(e<=s)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:c}=b(e,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=m(e),u=Object.freeze({ORDER:e,BITS:o,BYTES:c,MASK:(0,n.bitMask)(o),ZERO:s,ONE:i,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return s<=t&&t<e},is0:e=>e===s,isOdd:e=>(e&i)===i,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,r)=>d(t+r,e),sub:(t,r)=>d(t-r,e),mul:(t,r)=>d(t*r,e),pow:(e,t)=>v(u,e,t),div:(t,r)=>d(t*f(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>f(t,e),sqrt:a.sqrt||(e=>l(u,e)),invertBatch:e=>y(u,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.numberToBytesLE)(e,c):(0,n.numberToBytesBE)(e,c),fromBytes:e=>{if(e.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${e.length}`);return r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e)}});return Object.freeze(u)},r.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},r.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},r.hashToPrivateScalar=function(e,t,r=!1){const s=(e=(0,n.ensureBytes)("privateHash",e)).length,a=b(t).nByteLength+8;if(a<24||s<a||s>1024)throw new Error(`hashToPrivateScalar: expected ${a}-1024 bytes of input, got ${s}`);return d(r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e),t-i)+i},r.getFieldBytesLength=w,r.getMinHashLength=S,r.mapHashToField=function(e,t,r=!1){const s=e.length,a=w(t),o=S(t);if(s<16||s<o||s>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${s}`);const c=d(r?(0,n.bytesToNumberBE)(e):(0,n.bytesToNumberLE)(e),t-i)+i;return r?(0,n.numberToBytesLE)(c,a):(0,n.numberToBytesBE)(c,a)}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/modular.js"}],[2803,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateObject=r.createHmacDrbg=r.bitMask=r.bitSet=r.bitGet=r.bitLen=r.utf8ToBytes=r.equalBytes=r.concatBytes=r.ensureBytes=r.numberToVarBytesBE=r.numberToBytesLE=r.numberToBytesBE=r.bytesToNumberLE=r.bytesToNumberBE=r.hexToBytes=r.hexToNumber=r.numberToHexUnpadded=r.bytesToHex=r.isBytes=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=BigInt(0),s=BigInt(1),i=BigInt(2);function a(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}r.isBytes=a;const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function c(e){if(!a(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=o[e[r]];return t}function l(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function u(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}r.bytesToHex=c,r.numberToHexUnpadded=l,r.hexToNumber=u;const d={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function h(e){return e>=d._0&&e<=d._9?e-d._0:e>=d._A&&e<=d._F?e-(d._A-10):e>=d._a&&e<=d._f?e-(d._a-10):void 0}function f(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,s=0;t<r;t++,s+=2){const r=h(e.charCodeAt(s)),i=h(e.charCodeAt(s+1));if(r===undefined||i===undefined){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}n[t]=16*r+i}return n}function p(e,t){return f(e.toString(16).padStart(2*t,"0"))}function m(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(!a(n))throw new Error("Uint8Array expected");t+=n.length}let r=new Uint8Array(t),n=0;for(let t=0;t<e.length;t++){const s=e[t];r.set(s,n),n+=s.length}return r}r.hexToBytes=f,r.bytesToNumberBE=function(e){return u(c(e))},r.bytesToNumberLE=function(e){if(!a(e))throw new Error("Uint8Array expected");return u(c(Uint8Array.from(e).reverse()))},r.numberToBytesBE=p,r.numberToBytesLE=function(e,t){return p(e,t).reverse()},r.numberToVarBytesBE=function(e){return f(l(e))},r.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=f(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!a(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const s=n.length;if("number"==typeof r&&s!==r)throw new Error(`${e} expected ${r} bytes, got ${s}`);return n},r.concatBytes=m,r.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},r.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},r.bitLen=function(e){let t;for(t=0;e>n;e>>=s,t+=1);return t},r.bitGet=function(e,t){return e>>BigInt(t)&s};r.bitSet=(e,t,r)=>e|(r?s:n)<<BigInt(t);r.bitMask=e=>(i<<BigInt(e-1))-s;const g=e=>new Uint8Array(e),v=e=>Uint8Array.from(e);r.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=g(e),s=g(e),i=0;const a=()=>{n.fill(1),s.fill(0),i=0},o=(...e)=>r(s,n,...e),c=(e=g())=>{s=o(v([0]),e),n=o(),0!==e.length&&(s=o(v([1]),e),n=o())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=o();const t=n.slice();r.push(t),e+=n.length}return m(...r)};return(e,t)=>{a(),c(e);let r=undefined;for(;!(r=t(l()));)c();return a(),r}};const y={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||a(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};r.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const s=y[r];if("function"!=typeof s)throw new Error(`Invalid validator "${r}", expected function`);const i=e[t];if(!(n&&i===undefined||s(i,e)))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/utils.js"}],[2804,{"./curve.js":2800,"./modular.js":2802,"./utils.js":2803},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mapToCurveSimpleSWU=r.SWUFpSqrtRatio=r.weierstrass=r.weierstrassPoints=r.DER=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./modular.js"),s=e("./utils.js"),i=e("./utils.js"),a=e("./curve.js");const{bytesToNumberBE:o,hexToBytes:c}=s;r.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=r.DER;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],s=e.subarray(2,n+2);if(!n||s.length!==n)throw new t("Invalid signature integer: wrong length");if(128&s[0])throw new t("Invalid signature integer: negative");if(0===s[0]&&!(128&s[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:o(s),l:e.subarray(n+2)}},toSig(e){const{Err:t}=r.DER,n="string"==typeof e?c(e):e;if(!s.isBytes(n))throw new Error("ui8a expected");let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:a,l:o}=r.DER._parseInt(n.subarray(2)),{d:l,l:u}=r.DER._parseInt(o);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:a,s:l}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),s=t(r(e.r)),i=n.length/2,a=s.length/2,o=r(i),c=r(a);return`30${r(a+i+4)}02${c}${s}02${o}${n}`}};const l=BigInt(0),u=BigInt(1),d=BigInt(2),h=BigInt(3),f=BigInt(4);function p(e){const t=function(e){const t=(0,a.validateBasic)(e);s.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,o=t.toBytes||((e,t,n)=>{const i=t.toAffine();return s.concatBytes(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),c=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function d(e){const{a:n,b:s}=t,i=r.sqr(e),a=r.mul(i,e);return r.add(r.add(a,r.mul(e,n)),s)}if(!r.eql(r.sqr(t.Gy),d(t.Gx)))throw new Error("bad generator point: equation left != right");function f(e){return"bigint"==typeof e&&l<e&&e<t.n}function p(e){if(!f(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(e){const{allowedPrivateKeyLengths:r,nByteLength:a,wrapPrivateKey:o,n:c}=t;if(r&&"bigint"!=typeof e){if(s.isBytes(e)&&(e=s.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*a,"0")}let l;try{l="bigint"==typeof e?e:s.bytesToNumberBE((0,i.ensureBytes)("private key",e,a))}catch(t){throw new Error(`private key must be ${a} bytes, hex or bigint, not ${typeof e}`)}return o&&(l=n.mod(l,c)),p(l),l}const g=new Map;function v(e){if(!(e instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof y)throw new Error("projective point not allowed");const s=e=>r.eql(e,r.ZERO);return s(t)&&s(n)?y.ZERO:new y(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(y.fromAffine)}static fromHex(e){const t=y.fromAffine(c((0,i.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return y.BASE.multiply(m(e))}_setWindowSize(e){this._WINDOW_SIZE=e,g.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const s=r.sqr(n),i=d(e);if(!r.eql(s,i))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){v(e);const{px:t,py:n,pz:s}=this,{px:i,py:a,pz:o}=e,c=r.eql(r.mul(t,o),r.mul(i,s)),l=r.eql(r.mul(n,o),r.mul(a,s));return c&&l}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,s=r.mul(n,h),{px:i,py:a,pz:o}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,d=r.mul(i,i),f=r.mul(a,a),p=r.mul(o,o),m=r.mul(i,a);return m=r.add(m,m),u=r.mul(i,o),u=r.add(u,u),c=r.mul(e,u),l=r.mul(s,p),l=r.add(c,l),c=r.sub(f,l),l=r.add(f,l),l=r.mul(c,l),c=r.mul(m,c),u=r.mul(s,u),p=r.mul(e,p),m=r.sub(d,p),m=r.mul(e,m),m=r.add(m,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,p),d=r.mul(d,m),l=r.add(l,d),p=r.mul(a,o),p=r.add(p,p),d=r.mul(p,m),c=r.sub(c,d),u=r.mul(p,f),u=r.add(u,u),u=r.add(u,u),new y(c,l,u)}add(e){v(e);const{px:n,py:s,pz:i}=this,{px:a,py:o,pz:c}=e;let l=r.ZERO,u=r.ZERO,d=r.ZERO;const f=t.a,p=r.mul(t.b,h);let m=r.mul(n,a),g=r.mul(s,o),b=r.mul(i,c),w=r.add(n,s),S=r.add(a,o);w=r.mul(w,S),S=r.add(m,g),w=r.sub(w,S),S=r.add(n,i);let _=r.add(a,c);return S=r.mul(S,_),_=r.add(m,b),S=r.sub(S,_),_=r.add(s,i),l=r.add(o,c),_=r.mul(_,l),l=r.add(g,b),_=r.sub(_,l),d=r.mul(f,S),l=r.mul(p,b),d=r.add(l,d),l=r.sub(g,d),d=r.add(g,d),u=r.mul(l,d),g=r.add(m,m),g=r.add(g,m),b=r.mul(f,b),S=r.mul(p,S),g=r.add(g,b),b=r.sub(m,b),b=r.mul(f,b),S=r.add(S,b),m=r.mul(g,S),u=r.add(u,m),m=r.mul(_,S),l=r.mul(w,l),l=r.sub(l,m),m=r.mul(w,g),d=r.mul(_,d),d=r.add(d,m),new y(l,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(y.ZERO)}wNAF(e){return w.wNAFCached(this,g,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(y.fromAffine)}))}multiplyUnsafe(e){const n=y.ZERO;if(e===l)return n;if(p(e),e===u)return this;const{endo:s}=t;if(!s)return w.unsafeLadder(this,e);let{k1neg:i,k1:a,k2neg:o,k2:c}=s.splitScalar(e),d=n,h=n,f=this;for(;a>l||c>l;)a&u&&(d=d.add(f)),c&u&&(h=h.add(f)),f=f.double(),a>>=u,c>>=u;return i&&(d=d.negate()),o&&(h=h.negate()),h=new y(r.mul(h.px,s.beta),h.py,h.pz),d.add(h)}multiply(e){p(e);let n,s,i=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:o,k2:c}=a.splitScalar(i);let{p:l,f:u}=this.wNAF(t),{p:d,f:h}=this.wNAF(c);l=w.constTimeNegate(e,l),d=w.constTimeNegate(o,d),d=new y(r.mul(d.px,a.beta),d.py,d.pz),n=l.add(d),s=u.add(h)}else{const{p:e,f:t}=this.wNAF(i);n=e,s=t}return y.normalizeZ([n,s])[0]}multiplyAndAddUnsafe(e,t,r){const n=y.BASE,s=(e,t)=>t!==l&&t!==u&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),i=s(this,t).add(s(e,r));return i.is0()?undefined:i}toAffine(e){const{px:t,py:n,pz:s}=this,i=this.is0();null==e&&(e=i?r.ONE:r.inv(s));const a=r.mul(t,e),o=r.mul(n,e),c=r.mul(s,e);if(i)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===u)return!0;if(r)return r(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===u?this:r?r(y,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),o(y,this,e)}toHex(e=!0){return s.bytesToHex(this.toRawBytes(e))}}y.BASE=new y(t.Gx,t.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);const b=t.nBitLength,w=(0,a.wNAF)(y,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:m,weierstrassEquation:d,isWithinCurveOrder:f}}function m(e,t){const r=e.ORDER;let n=l;for(let e=r-u;e%d===l;e/=d)n+=u;const s=n,i=d<<s-u-u,a=i*d,o=(r-u)/a,c=(o-u)/d,p=a-u,m=i,g=e.pow(t,o),v=e.pow(t,(o+u)/d);let y=(t,r)=>{let n=g,i=e.pow(r,p),a=e.sqr(i);a=e.mul(a,r);let o=e.mul(t,a);o=e.pow(o,c),o=e.mul(o,i),i=e.mul(o,r),a=e.mul(o,t);let l=e.mul(a,i);o=e.pow(l,m);let h=e.eql(o,e.ONE);i=e.mul(a,v),o=e.mul(l,n),a=e.cmov(i,a,h),l=e.cmov(o,l,h);for(let t=s;t>u;t--){let r=t-d;r=d<<r-u;let s=e.pow(l,r);const o=e.eql(s,e.ONE);i=e.mul(a,n),n=e.mul(n,n),s=e.mul(l,n),a=e.cmov(i,a,o),l=e.cmov(s,l,o)}return{isValid:h,value:a}};if(e.ORDER%f===h){const r=(e.ORDER-h)/f,n=e.sqrt(e.neg(t));y=(t,s)=>{let i=e.sqr(s);const a=e.mul(t,s);i=e.mul(i,a);let o=e.pow(i,r);o=e.mul(o,a);const c=e.mul(o,n),l=e.mul(e.sqr(o),s),u=e.eql(l,t);return{isValid:u,value:e.cmov(c,o,u)}}}return y}r.weierstrassPoints=p,r.weierstrass=function(e){const t=function(e){const t=(0,a.validateBasic)(e);return s.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:o,n:c}=t,d=o.BYTES+1,h=2*o.BYTES+1;function f(e){return n.mod(e,c)}function m(e){return n.invert(e,c)}const{ProjectivePoint:g,normPrivateKeyToScalar:v,weierstrassEquation:y,isWithinCurveOrder:b}=p({...t,toBytes(e,t,r){const n=t.toAffine(),i=o.toBytes(n.x),a=s.concatBytes;return r?a(Uint8Array.from([t.hasEvenY()?2:3]),i):a(Uint8Array.from([4]),i,o.toBytes(n.y))},fromBytes(e){const t=e.length,r=e[0],n=e.subarray(1);if(t!==d||2!==r&&3!==r){if(t===h&&4===r){return{x:o.fromBytes(n.subarray(0,o.BYTES)),y:o.fromBytes(n.subarray(o.BYTES,2*o.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${d} compressed bytes or ${h} uncompressed bytes`)}{const e=s.bytesToNumberBE(n);if(!(l<(i=e)&&i<o.ORDER))throw new Error("Point is not on curve");const t=y(e);let a=o.sqrt(t);return!(1&~r)!==((a&u)===u)&&(a=o.neg(a)),{x:e,y:a}}var i}}),w=e=>s.bytesToHex(s.numberToBytesBE(e,t.nByteLength));function S(e){return e>c>>u}const _=(e,t,r)=>s.bytesToNumberBE(e.slice(t,r));class E{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=(0,i.ensureBytes)("compactSignature",e,2*r),new E(_(e,0,r),_(e,r,2*r))}static fromDER(e){const{r:t,s:n}=r.DER.toSig((0,i.ensureBytes)("DER",e));return new E(t,n)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new E(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:n,recovery:s}=this,a=j((0,i.ensureBytes)("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const c=2===s||3===s?r+t.n:r;if(c>=o.ORDER)throw new Error("recovery id 2 or 3 invalid");const l=1&s?"03":"02",u=g.fromHex(l+w(c)),d=m(c),h=f(-a*d),p=f(n*d),v=g.BASE.multiplyAndAddUnsafe(u,h,p);if(!v)throw new Error("point at infinify");return v.assertValidity(),v}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return s.hexToBytes(this.toDERHex())}toDERHex(){return r.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return s.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const k={isValidPrivateKey(e){try{return v(e),!0}catch(e){return!1}},normPrivateKeyToScalar:v,randomPrivateKey:()=>{const e=n.getMinHashLength(t.n);return n.mapHashToField(t.randomBytes(e),t.n)},precompute:(e=8,t=g.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function T(e){const t=s.isBytes(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===d||n===h:r?n===2*d||n===2*h:e instanceof g}const I=t.bits2int||function(e){const r=s.bytesToNumberBE(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},j=t.bits2int_modN||function(e){return f(I(e))},x=s.bitMask(t.nBitLength);function P(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(l<=e&&e<x))throw new Error(`bigint expected < 2^${t.nBitLength}`);return s.numberToBytesBE(e,t.nByteLength)}function A(e,r,n=C){if(["recovered","canonical"].some((e=>e in n)))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:c}=t;let{lowS:d,prehash:h,extraEntropy:p}=n;null==d&&(d=!0),e=(0,i.ensureBytes)("msgHash",e),h&&(e=(0,i.ensureBytes)("prehashed msgHash",a(e)));const y=j(e),w=v(r),_=[P(w),P(y)];if(null!=p){const e=!0===p?c(o.BYTES):p;_.push((0,i.ensureBytes)("extraEntropy",e))}const k=s.concatBytes(..._),T=y;return{seed:k,k2sig:function(e){const t=I(e);if(!b(t))return;const r=m(t),n=g.BASE.multiply(t).toAffine(),s=f(n.x);if(s===l)return;const i=f(r*f(T+s*w));if(i===l)return;let a=(n.x===s?0:2)|Number(n.y&u),o=i;return d&&S(i)&&(o=function(e){return S(e)?f(-e):e}(i),a^=1),new E(s,o,a)}}}const C={lowS:t.lowS,prehash:!1},R={lowS:t.lowS,prehash:!1};return g.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return g.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(T(e))throw new Error("first arg must be private key");if(!T(t))throw new Error("second arg must be public key");return g.fromHex(t).multiply(v(e)).toRawBytes(r)},sign:function(e,r,n=C){const{seed:i,k2sig:a}=A(e,r,n),o=t;return s.createHmacDrbg(o.hash.outputLen,o.nByteLength,o.hmac)(i,a)},verify:function(e,n,a,o=R){const c=e;if(n=(0,i.ensureBytes)("msgHash",n),a=(0,i.ensureBytes)("publicKey",a),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:u}=o;let d,h=undefined;try{if("string"==typeof c||s.isBytes(c))try{h=E.fromDER(c)}catch(e){if(!(e instanceof r.DER.Err))throw e;h=E.fromCompact(c)}else{if("object"!=typeof c||"bigint"!=typeof c.r||"bigint"!=typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;h=new E(e,t)}}d=g.fromHex(a)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&h.hasHighS())return!1;u&&(n=t.hash(n));const{r:p,s:v}=h,y=j(n),b=m(v),w=f(y*b),S=f(p*b),_=g.BASE.multiplyAndAddUnsafe(d,w,S)?.toAffine();return!!_&&f(_.x)===p},ProjectivePoint:g,Signature:E,utils:k}},r.SWUFpSqrtRatio=m,r.mapToCurveSimpleSWU=function(e,t){if(n.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=m(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let s,i,a,o,c,l,u,d;s=e.sqr(n),s=e.mul(s,t.Z),i=e.sqr(s),i=e.add(i,s),a=e.add(i,e.ONE),a=e.mul(a,t.B),o=e.cmov(t.Z,e.neg(i),!e.eql(i,e.ZERO)),o=e.mul(o,t.A),i=e.sqr(a),l=e.sqr(o),c=e.mul(l,t.A),i=e.add(i,c),i=e.mul(i,a),l=e.mul(l,o),c=e.mul(l,t.B),i=e.add(i,c),u=e.mul(s,a);const{isValid:h,value:f}=r(i,l);d=e.mul(s,n),d=e.mul(d,f),u=e.cmov(u,a,h),d=e.cmov(d,f,h);const p=e.isOdd(n)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),u=e.div(u,o),{x:u,y:d}}}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/weierstrass.js"}],[2805,{"./_shortw_utils.js":2799,"./abstract/hash-to-curve.js":2801,"./abstract/modular.js":2802,"./abstract/utils.js":2803,"./abstract/weierstrass.js":2804,"@noble/hashes/sha256":2812,"@noble/hashes/utils":2814},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeToCurve=r.hashToCurve=r.schnorr=r.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/sha256"),s=e("@noble/hashes/utils"),i=e("./abstract/modular.js"),a=e("./abstract/weierstrass.js"),o=e("./abstract/utils.js"),c=e("./abstract/hash-to-curve.js"),l=e("./_shortw_utils.js"),u=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h=BigInt(1),f=BigInt(2),p=(e,t)=>(e+t/f)/t;function m(e){const t=u,r=BigInt(3),n=BigInt(6),s=BigInt(11),a=BigInt(22),o=BigInt(23),c=BigInt(44),l=BigInt(88),d=e*e*e%t,h=d*d*e%t,p=(0,i.pow2)(h,r,t)*h%t,m=(0,i.pow2)(p,r,t)*h%t,v=(0,i.pow2)(m,f,t)*d%t,y=(0,i.pow2)(v,s,t)*v%t,b=(0,i.pow2)(y,a,t)*y%t,w=(0,i.pow2)(b,c,t)*b%t,S=(0,i.pow2)(w,l,t)*w%t,_=(0,i.pow2)(S,c,t)*b%t,E=(0,i.pow2)(_,r,t)*h%t,k=(0,i.pow2)(E,o,t)*y%t,T=(0,i.pow2)(k,n,t)*d%t,I=(0,i.pow2)(T,f,t);if(!g.eql(g.sqr(I),e))throw new Error("Cannot find square root");return I}const g=(0,i.Field)(u,undefined,undefined,{sqrt:m});r.secp256k1=(0,l.createCurve)({a:BigInt(0),b:BigInt(7),Fp:g,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=d,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-h*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,o=BigInt("0x100000000000000000000000000000000"),c=p(a*e,t),l=p(-n*e,t);let u=(0,i.mod)(e-c*r-l*s,t),f=(0,i.mod)(-c*n-l*a,t);const m=u>o,g=f>o;if(m&&(u=t-u),g&&(f=t-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:u,k2neg:g,k2:f}}}},n.sha256);const v=BigInt(0),y=e=>"bigint"==typeof e&&v<e&&e<u,b=e=>"bigint"==typeof e&&v<e&&e<d,w={};function S(e,...t){let r=w[e];if(r===undefined){const t=(0,n.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=(0,o.concatBytes)(t,t),w[e]=r}return(0,n.sha256)((0,o.concatBytes)(r,...t))}const _=e=>e.toRawBytes(!0).slice(1),E=e=>(0,o.numberToBytesBE)(e,32),k=e=>(0,i.mod)(e,u),T=e=>(0,i.mod)(e,d),I=r.secp256k1.ProjectivePoint,j=(e,t,r)=>I.BASE.multiplyAndAddUnsafe(e,t,r);function x(e){let t=r.secp256k1.utils.normPrivateKeyToScalar(e),n=I.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:T(-t),bytes:_(n)}}function P(e){if(!y(e))throw new Error("bad x: need 0 < x < p");const t=k(e*e);let r=m(k(t*e+BigInt(7)));r%f!==v&&(r=k(-r));const n=new I(e,r,h);return n.assertValidity(),n}function A(...e){return T((0,o.bytesToNumberBE)(S("BIP0340/challenge",...e)))}function C(e){return x(e).bytes}function R(e,t,r=(0,s.randomBytes)(32)){const n=(0,o.ensureBytes)("message",e),{bytes:i,scalar:a}=x(t),c=(0,o.ensureBytes)("auxRand",r,32),l=E(a^(0,o.bytesToNumberBE)(S("BIP0340/aux",c))),u=S("BIP0340/nonce",l,i,n),d=T((0,o.bytesToNumberBE)(u));if(d===v)throw new Error("sign failed: k is zero");const{bytes:h,scalar:f}=x(d),p=A(h,i,n),m=new Uint8Array(64);if(m.set(h,0),m.set(E(T(f+p*a)),32),!O(m,n,i))throw new Error("sign: Invalid signature produced");return m}function O(e,t,r){const n=(0,o.ensureBytes)("signature",e,64),s=(0,o.ensureBytes)("message",t),i=(0,o.ensureBytes)("publicKey",r,32);try{const e=P((0,o.bytesToNumberBE)(i)),t=(0,o.bytesToNumberBE)(n.subarray(0,32));if(!y(t))return!1;const r=(0,o.bytesToNumberBE)(n.subarray(32,64));if(!b(r))return!1;const a=A(E(t),_(e),s),c=j(e,r,T(-a));return!(!c||!c.hasEvenY()||c.toAffine().x!==t)}catch(e){return!1}}r.schnorr={getPublicKey:C,sign:R,verify:O,utils:{randomPrivateKey:r.secp256k1.utils.randomPrivateKey,lift_x:P,pointToBytes:_,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:S,mod:i.mod}};const N=(()=>(0,c.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),B=(()=>(0,a.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}))(),M=(()=>(0,c.createHasher)(r.secp256k1.ProjectivePoint,(e=>{const{x:t,y:r}=B(g.create(e[0]));return N(t,r)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:n.sha256}))();r.hashToCurve=M.hashToCurve,r.encodeToCurve=M.encodeToCurve}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/secp256k1.js"}],[2806,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function s(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!((r=e)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name))throw new Error("Expected Uint8Array");var r;if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c(e,t){i(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=void 0,r.number=n,r.bool=s,r.bytes=i,r.hash=a,r.exists=o,r.output=c;const l={number:n,bool:s,bytes:i,hash:a,exists:o,output:c};r.default=l}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/_assert.js"}],[2807,{"./_assert.js":2806,"./utils.js":2814},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SHA2=void 0;const n=e("./_assert.js"),s=e("./utils.js");class i extends s.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,s.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:i}=this,a=(e=(0,s.toBytes)(e)).length;for(let n=0;n<a;){const o=Math.min(i-this.pos,a-n);if(o!==i)r.set(e.subarray(n,n+o),this.pos),this.pos+=o,n+=o,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=(0,s.createView)(e);for(;i<=a-n;n+=i)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:a}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let e=o;e<i;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),c=n?4:0,l=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+l,o,n)}(r,i-8,BigInt(8*this.length),a),this.process(r,0);const c=(0,s.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)c.setUint32(4*e,d[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:s,destroyed:i,pos:a}=this;return e.length=n,e.pos=a,e.finished=s,e.destroyed=i,n%t&&e.buffer.set(r),e}}r.SHA2=i}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/_sha2.js"}],[2808,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.add5L=r.add5H=r.add4H=r.add4L=r.add3H=r.add3L=r.add=r.rotlBL=r.rotlBH=r.rotlSL=r.rotlSH=r.rotr32L=r.rotr32H=r.rotrBL=r.rotrBH=r.rotrSL=r.rotrSH=r.shrSL=r.shrSH=r.toBig=r.split=r.fromBig=void 0;const n=BigInt(2**32-1),s=BigInt(32);function i(e,t=!1){return t?{h:Number(e&n),l:Number(e>>s&n)}:{h:0|Number(e>>s&n),l:0|Number(e&n)}}function a(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:o}=i(e[s],t);[r[s],n[s]]=[a,o]}return[r,n]}r.fromBig=i,r.split=a;const o=(e,t)=>BigInt(e>>>0)<<s|BigInt(t>>>0);r.toBig=o;const c=(e,t,r)=>e>>>r;r.shrSH=c;const l=(e,t,r)=>e<<32-r|t>>>r;r.shrSL=l;const u=(e,t,r)=>e>>>r|t<<32-r;r.rotrSH=u;const d=(e,t,r)=>e<<32-r|t>>>r;r.rotrSL=d;const h=(e,t,r)=>e<<64-r|t>>>r-32;r.rotrBH=h;const f=(e,t,r)=>e>>>r-32|t<<64-r;r.rotrBL=f;const p=(e,t)=>t;r.rotr32H=p;const m=(e,t)=>e;r.rotr32L=m;const g=(e,t,r)=>e<<r|t>>>32-r;r.rotlSH=g;const v=(e,t,r)=>t<<r|e>>>32-r;r.rotlSL=v;const y=(e,t,r)=>t<<r-32|e>>>64-r;r.rotlBH=y;const b=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){const s=(t>>>0)+(n>>>0);return{h:e+r+(s/2**32|0)|0,l:0|s}}r.rotlBL=b,r.add=w;const S=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);r.add3L=S;const _=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;r.add3H=_;const E=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);r.add4L=E;const k=(e,t,r,n,s)=>t+r+n+s+(e/2**32|0)|0;r.add4H=k;const T=(e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0);r.add5L=T;const I=(e,t,r,n,s,i)=>t+r+n+s+i+(e/2**32|0)|0;r.add5H=I;const j={fromBig:i,split:a,toBig:o,shrSH:c,shrSL:l,rotrSH:u,rotrSL:d,rotrBH:h,rotrBL:f,rotr32H:p,rotr32L:m,rotlSH:g,rotlSL:v,rotlBH:y,rotlBL:b,add:w,add3L:S,add3H:_,add4L:E,add4H:k,add5H:I,add5L:T};r.default=j}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/_u64.js"}],[2809,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/crypto.js"}],[281,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n={DEV:"dev",DIST:"dist",PROD:"prod",TEST:"test",TEST_DEV:"testDev"},s={...n,CLEAN:"clean",LINT_SCSS:"lint-scss",MANIFEST_DEV:"manifest:dev",MANIFEST_PROD:"manifest:prod",MANIFEST_TEST:"manifest:test",MANIFEST_TEST_DEV:"manifest:testDev",RELOAD:"reload",SCRIPTS_CORE_DEV_STANDARD_ENTRY_POINTS:"scripts:core:dev:standardEntryPoints",SCRIPTS_CORE_DEV_CONTENTSCRIPT:"scripts:core:dev:contentscript",SCRIPTS_CORE_DEV_DISABLE_CONSOLE:"scripts:core:dev:disable-console",SCRIPTS_CORE_DEV_SENTRY:"scripts:core:dev:sentry",SCRIPTS_CORE_DEV_PHISHING_DETECT:"scripts:core:dev:phishing-detect",SCRIPTS_CORE_DIST_STANDARD_ENTRY_POINTS:"scripts:core:dist:standardEntryPoints",SCRIPTS_CORE_DIST_CONTENTSCRIPT:"scripts:core:dist:contentscript",SCRIPTS_CORE_DIST_DISABLE_CONSOLE:"scripts:core:dist:disable-console",SCRIPTS_CORE_DIST_SENTRY:"scripts:core:dist:sentry",SCRIPTS_CORE_DIST_PHISHING_DETECT:"scripts:core:dist:phishing-detect",SCRIPTS_CORE_PROD_STANDARD_ENTRY_POINTS:"scripts:core:prod:standardEntryPoints",SCRIPTS_CORE_PROD_CONTENTSCRIPT:"scripts:core:prod:contentscript",SCRIPTS_CORE_PROD_DISABLE_CONSOLE:"scripts:core:prod:disable-console",SCRIPTS_CORE_PROD_SENTRY:"scripts:core:prod:sentry",SCRIPTS_CORE_PROD_PHISHING_DETECT:"scripts:core:prod:phishing-detect",SCRIPTS_CORE_TEST_LIVE_STANDARD_ENTRY_POINTS:"scripts:core:test-live:standardEntryPoints",SCRIPTS_CORE_TEST_LIVE_CONTENTSCRIPT:"scripts:core:test-live:contentscript",SCRIPTS_CORE_TEST_LIVE_DISABLE_CONSOLE:"scripts:core:test-live:disable-console",SCRIPTS_CORE_TEST_LIVE_SENTRY:"scripts:core:test-live:sentry",SCRIPTS_CORE_TEST_LIVE_PHISHING_DETECT:"scripts:core:test-live:phishing-detect",SCRIPTS_CORE_TEST_STANDARD_ENTRY_POINTS:"scripts:core:test:standardEntryPoints",SCRIPTS_CORE_TEST_CONTENTSCRIPT:"scripts:core:test:contentscript",SCRIPTS_CORE_TEST_DISABLE_CONSOLE:"scripts:core:test:disable-console",SCRIPTS_CORE_TEST_SENTRY:"scripts:core:test:sentry",SCRIPTS_CORE_TEST_PHISHING_DETECT:"scripts:core:test:phishing-detect",SCRIPTS_DIST:"scripts:dist",STATIC_DEV:"static:dev",STATIC_PROD:"static:prod",STYLES:"styles",STYLES_DEV:"styles:dev",STYLES_PROD:"styles:prod",ZIP:"zip"};t.exports={BUILD_TARGETS:n,ENVIRONMENT:{DEVELOPMENT:"development",PRODUCTION:"production",OTHER:"other",PULL_REQUEST:"pull-request",RELEASE_CANDIDATE:"release-candidate",STAGING:"staging",TESTING:"testing"},TASKS:s}}}},{package:"$root$",file:"development/build/constants.js"}],[2810,{"./_assert.js":2806,"./utils.js":2814},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hmac=r.HMAC=void 0;const n=e("./_assert.js"),s=e("./utils.js");class i extends s.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,s.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),a.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:s,blockLen:i,outputLen:a}=this;return e.finished=n,e.destroyed=s,e.blockLen=i,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}r.HMAC=i;r.hmac=(e,t,r)=>new i(e,t).update(r).digest(),r.hmac.create=(e,t)=>new i(e,t)}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/hmac.js"}],[2811,{"./_sha2.js":2807,"./utils.js":2814},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ripemd160=r.RIPEMD160=void 0;const n=e("./_sha2.js"),s=e("./utils.js"),i=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),a=Uint8Array.from({length:16},((e,t)=>t));let o=[a],c=[a.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[o,c])t.push(t[e].map((e=>i[e])));const l=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),u=o.map(((e,t)=>e.map((e=>l[t][e])))),d=c.map(((e,t)=>e.map((e=>l[t][e])))),h=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),f=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),p=(e,t)=>e<<t|e>>>32-t;function m(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const g=new Uint32Array(16);class v extends n.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:s}=this;return[e,t,r,n,s]}set(e,t,r,n,s){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)g[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,s=0|this.h1,i=s,a=0|this.h2,l=a,v=0|this.h3,y=v,b=0|this.h4,w=b;for(let e=0;e<5;e++){const t=4-e,S=h[e],_=f[e],E=o[e],k=c[e],T=u[e],I=d[e];for(let t=0;t<16;t++){const n=p(r+m(e,s,a,v)+g[E[t]]+S,T[t])+b|0;r=b,b=v,v=0|p(a,10),a=s,s=n}for(let e=0;e<16;e++){const r=p(n+m(t,i,l,y)+g[k[e]]+_,I[e])+w|0;n=w,w=y,y=0|p(l,10),l=i,i=r}}this.set(this.h1+a+y|0,this.h2+v+w|0,this.h3+b+n|0,this.h4+r+i|0,this.h0+s+l|0)}roundClean(){g.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}r.RIPEMD160=v,r.ripemd160=(0,s.wrapConstructor)((()=>new v))}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/ripemd160.js"}],[2812,{"./_sha2.js":2807,"./utils.js":2814},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha224=r.sha256=void 0;const n=e("./_sha2.js"),s=e("./utils.js"),i=(e,t,r)=>e&t^e&r^t&r,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class l extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){const{A:e,B:t,C:r,D:n,E:s,F:i,G:a,H:o}=this;return[e,t,r,n,s,i,a,o]}set(e,t,r,n,s,i,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|s,this.F=0|i,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],r=c[e-2],n=(0,s.rotr)(t,7)^(0,s.rotr)(t,18)^t>>>3,i=(0,s.rotr)(r,17)^(0,s.rotr)(r,19)^r>>>10;c[e]=i+c[e-7]+n+c[e-16]|0}let{A:r,B:n,C:o,D:l,E:u,F:d,G:h,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,s.rotr)(u,6)^(0,s.rotr)(u,11)^(0,s.rotr)(u,25))+((p=u)&d^~p&h)+a[e]+c[e]|0,m=((0,s.rotr)(r,2)^(0,s.rotr)(r,13)^(0,s.rotr)(r,22))+i(r,n,o)|0;f=h,h=d,d=u,u=l+t|0,l=o,o=n,n=r,r=t+m|0}var p;r=r+this.A|0,n=n+this.B|0,o=o+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,n,o,l,u,d,h,f)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends l{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}r.sha256=(0,s.wrapConstructor)((()=>new l)),r.sha224=(0,s.wrapConstructor)((()=>new u))}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/sha256.js"}],[2813,{"./_sha2.js":2807,"./_u64.js":2808,"./utils.js":2814},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha384=r.sha512_256=r.sha512_224=r.sha512=r.SHA512=void 0;const n=e("./_sha2.js"),s=e("./_u64.js"),i=e("./utils.js"),[a,o]=(()=>s.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),c=new Uint32Array(80),l=new Uint32Array(80);class u extends n.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:s,Cl:i,Dh:a,Dl:o,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:m}=this;return[e,t,r,n,s,i,a,o,c,l,u,d,h,f,p,m]}set(e,t,r,n,s,i,a,o,c,l,u,d,h,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|s,this.Cl=0|i,this.Dh=0|a,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t),l[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],r=0|l[e-15],n=s.default.rotrSH(t,r,1)^s.default.rotrSH(t,r,8)^s.default.shrSH(t,r,7),i=s.default.rotrSL(t,r,1)^s.default.rotrSL(t,r,8)^s.default.shrSL(t,r,7),a=0|c[e-2],o=0|l[e-2],u=s.default.rotrSH(a,o,19)^s.default.rotrBH(a,o,61)^s.default.shrSH(a,o,6),d=s.default.rotrSL(a,o,19)^s.default.rotrBL(a,o,61)^s.default.shrSL(a,o,6),h=s.default.add4L(i,d,l[e-7],l[e-16]),f=s.default.add4H(h,n,u,c[e-7],c[e-16]);c[e]=0|f,l[e]=0|h}let{Ah:r,Al:n,Bh:i,Bl:u,Ch:d,Cl:h,Dh:f,Dl:p,Eh:m,El:g,Fh:v,Fl:y,Gh:b,Gl:w,Hh:S,Hl:_}=this;for(let e=0;e<80;e++){const t=s.default.rotrSH(m,g,14)^s.default.rotrSH(m,g,18)^s.default.rotrBH(m,g,41),E=s.default.rotrSL(m,g,14)^s.default.rotrSL(m,g,18)^s.default.rotrBL(m,g,41),k=m&v^~m&b,T=g&y^~g&w,I=s.default.add5L(_,E,T,o[e],l[e]),j=s.default.add5H(I,S,t,k,a[e],c[e]),x=0|I,P=s.default.rotrSH(r,n,28)^s.default.rotrBH(r,n,34)^s.default.rotrBH(r,n,39),A=s.default.rotrSL(r,n,28)^s.default.rotrBL(r,n,34)^s.default.rotrBL(r,n,39),C=r&i^r&d^i&d,R=n&u^n&h^u&h;S=0|b,_=0|w,b=0|v,w=0|y,v=0|m,y=0|g,({h:m,l:g}=s.default.add(0|f,0|p,0|j,0|x)),f=0|d,p=0|h,d=0|i,h=0|u,i=0|r,u=0|n;const O=s.default.add3L(x,A,R);r=s.default.add3H(O,j,P,C),n=0|O}({h:r,l:n}=s.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:u}=s.default.add(0|this.Bh,0|this.Bl,0|i,0|u)),({h:d,l:h}=s.default.add(0|this.Ch,0|this.Cl,0|d,0|h)),({h:f,l:p}=s.default.add(0|this.Dh,0|this.Dl,0|f,0|p)),({h:m,l:g}=s.default.add(0|this.Eh,0|this.El,0|m,0|g)),({h:v,l:y}=s.default.add(0|this.Fh,0|this.Fl,0|v,0|y)),({h:b,l:w}=s.default.add(0|this.Gh,0|this.Gl,0|b,0|w)),({h:S,l:_}=s.default.add(0|this.Hh,0|this.Hl,0|S,0|_)),this.set(r,n,i,u,d,h,f,p,m,g,v,y,b,w,S,_)}roundClean(){c.fill(0),l.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}r.SHA512=u;class d extends u{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class h extends u{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class f extends u{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}r.sha512=(0,i.wrapConstructor)((()=>new u)),r.sha512_224=(0,i.wrapConstructor)((()=>new d)),r.sha512_256=(0,i.wrapConstructor)((()=>new h)),r.sha384=(0,i.wrapConstructor)((()=>new f))}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/sha512.js"}],[2814,{"@noble/hashes/crypto":2809},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.isLE=r.rotr=r.createView=r.u32=r.u8=void 0;const n=e("@noble/hashes/crypto");r.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}r.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));r.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(r.rotr=(e,t)=>e<<32-t|e>>>t,r.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!r.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));r.bytesToHex=function(e){if(!s(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=i[e[r]];return t};const a={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(e){return e>=a._0&&e<=a._9?e-a._0:e>=a._A&&e<=a._F?e-(a._A-10):e>=a._a&&e<=a._f?e-(a._a-10):void 0}r.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,s=0;t<r;t++,s+=2){const r=o(e.charCodeAt(s)),i=o(e.charCodeAt(s+1));if(r===undefined||i===undefined){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}n[t]=16*r+i}return n};function c(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function l(e){if("string"==typeof e&&(e=c(e)),!s(e))throw new Error("expected Uint8Array, got "+typeof e);return e}r.nextTick=async()=>{},r.asyncLoop=async function(e,t,n){let s=Date.now();for(let i=0;i<e;i++){n(i);const e=Date.now()-s;e>=0&&e<t||(await(0,r.nextTick)(),s+=e)}},r.utf8ToBytes=c,r.toBytes=l,r.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(!s(n))throw new Error("Uint8Array expected");t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const s=e[t];r.set(s,n),n+=s.length}return r};r.Hash=class{clone(){return this._cloneInto()}};const u={}.toString;r.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!==u.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},r.wrapConstructor=function(e){const t=t=>e().update(l(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},r.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(l(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(l(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/utils.js"}],[2816,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;r.DEBUG_BUILD=n}}},{package:"@sentry/browser>@sentry-internal/browser-utils",file:"node_modules/@sentry-internal/browser-utils/build/cjs/debug-build.js"}],[2817,{"./debug-build.js":2816,"./types.js":2843,"@sentry/utils":2969},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("@sentry/utils"),s=e("./debug-build.js"),i=e("./types.js"),a={};function o(e){const t=a[e];if(t)return t;let r=i.WINDOW[e];if(n.isNativeFunction(r))return a[e]=r.bind(i.WINDOW);const o=i.WINDOW.document;if(o&&"function"==typeof o.createElement)try{const t=o.createElement("iframe");t.hidden=!0,o.head.appendChild(t);const n=t.contentWindow;n&&n[e]&&(r=n[e]),o.head.removeChild(t)}catch(t){s.DEBUG_BUILD&&n.logger.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return r?a[e]=r.bind(i.WINDOW):r}r.clearCachedImplementation=function(e){a[e]=undefined},r.fetch=function(...e){return o("fetch")(...e)},r.getNativeImplementation=o,r.setTimeout=function(...e){return o("setTimeout")(...e)}}}},{package:"@sentry/browser>@sentry-internal/browser-utils",file:"node_modules/@sentry-internal/browser-utils/build/cjs/getNativeImplementation.js"}],[2818,{"./getNativeImplementation.js":2817,"./instrument/dom.js":2819,"./instrument/history.js":2820,"./instrument/xhr.js":2821,"./metrics/browserMetrics.js":2822,"./metrics/inp.js":2823,"./metrics/instrument.js":2824},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("./metrics/instrument.js"),s=e("./metrics/browserMetrics.js"),i=e("./instrument/dom.js"),a=e("./instrument/history.js"),o=e("./getNativeImplementation.js"),c=e("./instrument/xhr.js"),l=e("./metrics/inp.js");r.addClsInstrumentationHandler=n.addClsInstrumentationHandler,r.addFidInstrumentationHandler=n.addFidInstrumentationHandler,r.addInpInstrumentationHandler=n.addInpInstrumentationHandler,r.addLcpInstrumentationHandler=n.addLcpInstrumentationHandler,r.addPerformanceInstrumentationHandler=n.addPerformanceInstrumentationHandler,r.addTtfbInstrumentationHandler=n.addTtfbInstrumentationHandler,r.addPerformanceEntries=s.addPerformanceEntries,r.startTrackingInteractions=s.startTrackingInteractions,r.startTrackingLongAnimationFrames=s.startTrackingLongAnimationFrames,r.startTrackingLongTasks=s.startTrackingLongTasks,r.startTrackingWebVitals=s.startTrackingWebVitals,r.addClickKeypressInstrumentationHandler=i.addClickKeypressInstrumentationHandler,r.addHistoryInstrumentationHandler=a.addHistoryInstrumentationHandler,r.clearCachedImplementation=o.clearCachedImplementation,r.fetch=o.fetch,r.getNativeImplementation=o.getNativeImplementation,r.setTimeout=o.setTimeout,r.SENTRY_XHR_DATA_KEY=c.SENTRY_XHR_DATA_KEY,r.addXhrInstrumentationHandler=c.addXhrInstrumentationHandler,r.registerInpInteractionListener=l.registerInpInteractionListener,r.startTrackingINP=l.startTrackingINP}}},{package:"@sentry/browser>@sentry-internal/browser-utils",file:"node_modules/@sentry-internal/browser-utils/build/cjs/index.js"}],[2819,{"../types.js":2843,"@sentry/utils":2969},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("@sentry/utils"),s=e("../types.js"),i=1e3;let a,o,c;function l(){if(!s.WINDOW.document)return;const e=n.triggerHandlers.bind(null,"dom"),t=u(e,!0);s.WINDOW.document.addEventListener("click",t,!1),s.WINDOW.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const r=s.WINDOW[t]&&s.WINDOW[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(n.fill(r,"addEventListener",(function(t){return function(r,n,s){if("click"===r||"keypress"==r)try{const n=this,i=n.__sentry_instrumentation_handlers__=n.__sentry_instrumentation_handlers__||{},a=i[r]=i[r]||{refCount:0};if(!a.handler){const n=u(e);a.handler=n,t.call(this,r,n,s)}a.refCount++}catch(e){}return t.call(this,r,n,s)}})),n.fill(r,"removeEventListener",(function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{const r=this,s=r.__sentry_instrumentation_handlers__||{},i=s[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,n),i.handler=undefined,delete s[t]),0===Object.keys(s).length&&delete r.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,r,n)}})))}))}function u(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const l=function(e){try{return e.target}catch(e){return null}}(r);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(r.type,l))return;n.addNonEnumerableProperty(r,"_sentryCaptured",!0),l&&!l._sentryId&&n.addNonEnumerableProperty(l,"_sentryId",n.uuid4());const u="keypress"===r.type?"input":r.type;if(!function(e){if(e.type!==o)return!1;try{if(!e.target||e.target._sentryId!==c)return!1}catch(e){}return!0}(r)){e({event:r,name:u,global:t}),o=r.type,c=l?l._sentryId:undefined}clearTimeout(a),a=s.WINDOW.setTimeout((()=>{c=undefined,o=undefined}),i)}}r.addClickKeypressInstrumentationHandler=function(e){n.addHandler("dom",e),n.maybeInstrument("dom",l)},r.instrumentDOM=l}}},{package:"@sentry/browser>@sentry-internal/browser-utils",file:"node_modules/@sentry-internal/browser-utils/build/cjs/instrument/dom.js"}],[282,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports}}},{package:"@babel/runtime",file:"node_modules/@babel/runtime/helpers/arrayLikeToArray.js"}],[2820,{"../types.js":2843,"@sentry/utils":2969},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("@sentry/utils"),s=e("../types.js");let i;function a(){if(!n.supportsHistory())return;const e=s.WINDOW.onpopstate;function t(e){return function(...t){const r=t.length>2?t[2]:undefined;if(r){const e=i,t=String(r);i=t;const s={from:e,to:t};n.triggerHandlers("history",s)}return e.apply(this,t)}}s.WINDOW.onpopstate=function(...t){const r=s.WINDOW.location.href,a=i;i=r;const o={from:a,to:r};if(n.triggerHandlers("history",o),e)try{return e.apply(this,t)}catch(e){}},n.fill(s.WINDOW.history,"pushState",t),n.fill(s.WINDOW.history,"replaceState",t)}r.addHistoryInstrumentationHandler=function(e){const t="history";n.addHandler(t,e),n.maybeInstrument(t,a)}}}},{package:"@sentry/browser>@sentry-internal/browser-utils",file:"node_modules/@sentry-internal/browser-utils/build/cjs/instrument/history.js"}],[2821,{"../types.js":2843,"@sentry/utils":2969},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("@sentry/utils"),s=e("../types.js"),i="__sentry_xhr_v3__";function a(){if(!s.WINDOW.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;n.fill(e,"open",(function(e){return function(...t){const r=1e3*n.timestampInSeconds(),s=n.isString(t[0])?t[0].toUpperCase():undefined,a=function(e){if(n.isString(e))return e;try{return e.toString()}catch(e){}return undefined}(t[1]);if(!s||!a)return e.apply(this,t);this[i]={method:s,url:a,request_headers:{}},"POST"===s&&a.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const e=this[i];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}const t={endTimestamp:1e3*n.timestampInSeconds(),startTimestamp:r,xhr:this};n.triggerHandlers("xhr",t)}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?n.fill(this,"onreadystatechange",(function(e){return function(...t){return o(),e.apply(this,t)}})):this.addEventListener("readystatechange",o),n.fill(this,"setRequestHeader",(function(e){return function(...t){const[r,s]=t,a=this[i];return a&&n.isString(r)&&n.isString(s)&&(a.request_headers[r.toLowerCase()]=s),e.apply(this,t)}})),e.apply(this,t)}})),n.fill(e,"send",(function(e){return function(...t){const r=this[i];if(!r)return e.apply(this,t);t[0]!==undefined&&(r.body=t[0]);const s={startTimestamp:1e3*n.timestampInSeconds(),xhr:this};return n.triggerHandlers("xhr",s),e.apply(this,t)}}))}r.SENTRY_XHR_DATA_KEY=i,r.addXhrInstrumentationHandler=function(e){n.addHandler("xhr",e),n.maybeInstrument("xhr",a)},r.instrumentXHR=a}}},{package:"@sentry/browser>@sentry-internal/browser-utils",file:"node_modules/@sentry-internal/browser-utils/build/cjs/instrument/xhr.js"}],[2822,{"../debug-build.js":2816,"../types.js":2843,"./instrument.js":2824,"./utils.js":2825,"./web-vitals/lib/getNavigationEntry.js":2833,"./web-vitals/lib/getVisibilityWatcher.js":2834,"@sentry/core":2892,"@sentry/utils":2969},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("@sentry/core"),s=e("@sentry/utils"),i=e("../debug-build.js"),a=e("../types.js"),o=e("./instrument.js"),c=e("./utils.js"),l=e("./web-vitals/lib/getNavigationEntry.js"),u=e("./web-vitals/lib/getVisibilityWatcher.js"),d=2147483647;let h,f,p=0,m={};function g(e,t,r,s,i){const a=l.getNavigationEntry(),o=c.msToSec(a?a.requestStart:0),u=i+Math.max(r,o),d=i+r,h=d+s,f={[n.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};return u!==d&&(f["sentry.browser.measure_happened_before_request"]=!0,f["sentry.browser.measure_start_time"]=u),c.startAndEndSpan(e,u,h,{name:t.name,op:t.entryType,attributes:f}),u}function v(e,t,r,s,i,a){const o=a?t[a]:t[`${r}End`],l=t[`${r}Start`];l&&o&&c.startAndEndSpan(e,s+c.msToSec(l),s+c.msToSec(o),{op:"browser",name:i||r,attributes:{[n.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}})}function y(e,t,r,i,o,l){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const u=s.parseUrl(r),d={[n.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};b(d,t,"transferSize","http.response_transfer_size"),b(d,t,"encodedBodySize","http.response_content_length"),b(d,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(d["resource.render_blocking_status"]=t.renderBlockingStatus),u.protocol&&(d["url.scheme"]=u.protocol.split(":").pop()),u.host&&(d["server.address"]=u.host),d["url.same_origin"]=r.includes(a.WINDOW.location.origin);const h=l+i,f=h+o;c.startAndEndSpan(e,h,f,{name:r.replace(a.WINDOW.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:d})}function b(e,t,r,n){const s=t[r];null!=s&&s<d&&(e[n]=s)}r._addMeasureSpans=g,r._addResourceSpans=y,r.addPerformanceEntries=function(e){const t=c.getBrowserPerformanceAPI();if(!t||!a.WINDOW.performance.getEntries||!s.browserPerformanceTimeOrigin)return;i.DEBUG_BUILD&&s.logger.log("[Tracing] Adding & adjusting spans using Performance API");const r=c.msToSec(s.browserPerformanceTimeOrigin),o=t.getEntries(),{op:d,start_timestamp:b}=n.spanToJSON(e);if(o.slice(p).forEach((t=>{const a=c.msToSec(t.startTime),o=c.msToSec(Math.max(0,t.duration));if(!("navigation"===d&&b&&r+a<b))switch(t.entryType){case"navigation":!function(e,t,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((n=>{v(e,t,n,r)})),v(e,t,"secureConnection",r,"TLS/SSL","connectEnd"),v(e,t,"fetch",r,"cache","domainLookupStart"),v(e,t,"domainLookup",r,"DNS"),function(e,t,r){const s=r+c.msToSec(t.requestStart),i=r+c.msToSec(t.responseEnd),a=r+c.msToSec(t.responseStart);t.responseEnd&&(c.startAndEndSpan(e,s,i,{op:"browser",name:"request",attributes:{[n.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),c.startAndEndSpan(e,a,i,{op:"browser",name:"response",attributes:{[n.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}))}(e,t,r)}(e,t,r);break;case"mark":case"paint":case"measure":{g(e,t,a,o,r);const n=u.getVisibilityWatcher(),c=t.startTime<n.firstHiddenTime;"first-paint"===t.name&&c&&(i.DEBUG_BUILD&&s.logger.log("[Measurements] Adding FP"),m.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&c&&(i.DEBUG_BUILD&&s.logger.log("[Measurements] Adding FCP"),m.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":y(e,t,t.name,a,o,r)}})),p=Math.max(o.length-1,0),function(e){const t=a.WINDOW.navigator;if(!t)return;const r=t.connection;r&&(r.effectiveType&&e.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&e.setAttribute("connectionType",r.type),c.isMeasurementValue(r.rtt)&&(m["connection.rtt"]={value:r.rtt,unit:"millisecond"}));c.isMeasurementValue(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`);c.isMeasurementValue(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===d){!function(e){const t=l.getNavigationEntry();if(!t)return;const{responseStart:r,requestStart:n}=t;n<=r&&(i.DEBUG_BUILD&&s.logger.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}(m),["fcp","fp","lcp"].forEach((e=>{const t=m[e];if(!t||!b||r>=b)return;const n=t.value,a=r+c.msToSec(n),o=Math.abs(1e3*(a-b)),l=o-n;i.DEBUG_BUILD&&s.logger.log(`[Measurements] Normalized ${e} from ${n} to ${o} (${l})`),t.value=o}));const t=m["mark.fid"];t&&m.fid&&(c.startAndEndSpan(e,t.value,t.value+c.msToSec(m.fid.value),{name:"first input delay",op:"ui.action",attributes:{[n.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),delete m["mark.fid"]),"fcp"in m||delete m.cls,Object.entries(m).forEach((([e,t])=>{n.setMeasurement(e,t.value,t.unit)})),function(e){h&&(i.DEBUG_BUILD&&s.logger.log("[Measurements] Adding LCP Data"),h.element&&e.setAttribute("lcp.element",s.htmlTreeAsString(h.element)),h.id&&e.setAttribute("lcp.id",h.id),h.url&&e.setAttribute("lcp.url",h.url.trim().slice(0,200)),e.setAttribute("lcp.size",h.size));f&&f.sources&&(i.DEBUG_BUILD&&s.logger.log("[Measurements] Adding CLS Data"),f.sources.forEach(((t,r)=>e.setAttribute(`cls.source.${r+1}`,s.htmlTreeAsString(t.node)))))}(e)}h=undefined,f=undefined,m={}},r.startTrackingInteractions=function(){o.addPerformanceInstrumentationHandler("event",(({entries:e})=>{for(const t of e){if(!n.getActiveSpan())return;if("click"===t.name){const e=c.msToSec(s.browserPerformanceTimeOrigin+t.startTime),r=c.msToSec(t.duration),i={name:s.htmlTreeAsString(t.target),op:`ui.interaction.${t.name}`,startTime:e,attributes:{[n.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}},a=s.getComponentName(t.target);a&&(i.attributes["ui.component_name"]=a);const o=n.startInactiveSpan(i);o&&o.end(e+r)}}}))},r.startTrackingLongAnimationFrames=function(){new PerformanceObserver((e=>{for(const t of e.getEntries()){if(!n.getActiveSpan())return;if(!t.scripts[0])return;const e=c.msToSec(s.browserPerformanceTimeOrigin+t.startTime),r=c.msToSec(t.duration),i={[n.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"},a=t.scripts[0];if(a){const{invoker:e,invokerType:t,sourceURL:r,sourceFunctionName:n,sourceCharPosition:s}=a;i["browser.script.invoker"]=e,i["browser.script.invoker_type"]=t,r&&(i["code.filepath"]=r),n&&(i["code.function"]=n),-1!==s&&(i["browser.script.source_char_position"]=s)}const o=n.startInactiveSpan({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:e,attributes:i});o&&o.end(e+r)}})).observe({type:"long-animation-frame",buffered:!0})},r.startTrackingLongTasks=function(){o.addPerformanceInstrumentationHandler("longtask",(({entries:e})=>{for(const t of e){if(!n.getActiveSpan())return;const e=c.msToSec(s.browserPerformanceTimeOrigin+t.startTime),r=c.msToSec(t.duration),i=n.startInactiveSpan({name:"Main UI thread blocked",op:"ui.long-task",startTime:e,attributes:{[n.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}});i&&i.end(e+r)}}))},r.startTrackingWebVitals=function(){const e=c.getBrowserPerformanceAPI();if(e&&s.browserPerformanceTimeOrigin){e.mark&&a.WINDOW.performance.mark("sentry-tracing-init");const t=o.addFidInstrumentationHandler((({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const r=c.msToSec(s.browserPerformanceTimeOrigin),n=c.msToSec(t.startTime);i.DEBUG_BUILD&&s.logger.log("[Measurements] Adding FID"),m.fid={value:e.value,unit:"millisecond"},m["mark.fid"]={value:r+n,unit:"second"}})),r=o.addClsInstrumentationHandler((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(i.DEBUG_BUILD&&s.logger.log("[Measurements] Adding CLS"),m.cls={value:e.value,unit:""},f=t)}),!0),n=o.addLcpInstrumentationHandler((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(i.DEBUG_BUILD&&s.logger.log("[Measurements] Adding LCP"),m.lcp={value:e.value,unit:"millisecond"},h=t)}),!0),l=o.addTtfbInstrumentationHandler((({metric:e})=>{e.entries[e.entries.length-1]&&(i.DEBUG_BUILD&&s.logger.log("[Measurements] Adding TTFB"),m.ttfb={value:e.value,unit:"millisecond"})}));return()=>{t(),r(),n(),l()}}return()=>undefined}}}},{package:"@sentry/browser>@sentry-internal/browser-utils",file:"node_modules/@sentry-internal/browser-utils/build/cjs/metrics/browserMetrics.js"}],[2823,{"../types.js":2843,"./instrument.js":2824,"./utils.js":2825,"@sentry/core":2892,"@sentry/utils":2969},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("@sentry/core"),s=e("@sentry/utils"),i=e("../types.js"),a=e("./instrument.js"),o=e("./utils.js"),c=[],l=new Map;const u={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};r.registerInpInteractionListener=function(e){const t=({entries:e})=>{const t=n.getActiveSpan(),r=t&&n.getRootSpan(t);e.forEach((e=>{if(!a.isPerformanceEventTiming(e)||!r)return;const t=e.interactionId;if(null!=t&&!l.has(t)){if(c.length>10){const e=c.shift();l.delete(e)}c.push(t),l.set(t,r)}}))};a.addPerformanceInstrumentationHandler("event",t),a.addPerformanceInstrumentationHandler("first-input",t)},r.startTrackingINP=function(){if(o.getBrowserPerformanceAPI()&&s.browserPerformanceTimeOrigin){const e=a.addInpInstrumentationHandler((({metric:e})=>{const t=n.getClient();if(!t||e.value==undefined)return;const r=e.entries.find((t=>t.duration===e.value&&u[t.name]));if(!r)return;const{interactionId:a}=r,c=u[r.name],d=t.getOptions(),h=o.msToSec(s.browserPerformanceTimeOrigin+r.startTime),f=o.msToSec(e.value),p=n.getCurrentScope(),m=n.getActiveSpan(),g=m?n.getRootSpan(m):undefined,v=(null!=a?l.get(a):undefined)||g,y=v?n.spanToJSON(v).description:p.getScopeData().transactionName,b=p.getUser(),w=t.getIntegrationByName("Replay"),S=w&&w.getReplayId(),_=b!==undefined?b.email||b.id||b.ip_address:undefined;let E=undefined;try{E=p.getScopeData().contexts.profile.profile_id}catch(e){}const k=s.htmlTreeAsString(r.target),T=s.dropUndefinedKeys({release:d.release,environment:d.environment,transaction:y,[n.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:e.value,[n.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.inp",user:_||undefined,profile_id:E||undefined,replay_id:S||undefined,"user_agent.original":i.WINDOW.navigator&&i.WINDOW.navigator.userAgent}),I=n.startInactiveSpan({name:k,op:`ui.interaction.${c}`,attributes:T,startTime:h,experimental:{standalone:!0}});I.addEvent("inp",{[n.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"millisecond",[n.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:e.value}),I.end(h+f)}));return()=>{e()}}return()=>undefined}}}},{package:"@sentry/browser>@sentry-internal/browser-utils",file:"node_modules/@sentry-internal/browser-utils/build/cjs/metrics/inp.js"}],[2824,{"../debug-build.js":2816,"./web-vitals/getCLS.js":2826,"./web-vitals/getFID.js":2827,"./web-vitals/getINP.js":2828,"./web-vitals/getLCP.js":2829,"./web-vitals/lib/observe.js":2836,"./web-vitals/onTTFB.js":2842,"@sentry/utils":2969},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("@sentry/utils"),s=e("../debug-build.js"),i=e("./web-vitals/getCLS.js"),a=e("./web-vitals/getFID.js"),o=e("./web-vitals/getINP.js"),c=e("./web-vitals/getLCP.js"),l=e("./web-vitals/lib/observe.js"),u=e("./web-vitals/onTTFB.js"),d={},h={};let f,p,m,g,v;function y(e,t){const r=d[e];if(r&&r.length)for(const i of r)try{i(t)}catch(t){s.DEBUG_BUILD&&n.logger.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${n.getFunctionName(i)}\nError:`,t)}}function b(){return i.onCLS((e=>{y("cls",{metric:e}),f=e}),{reportAllChanges:!0})}function w(){return a.onFID((e=>{y("fid",{metric:e}),p=e}))}function S(){return c.onLCP((e=>{y("lcp",{metric:e}),m=e}),{reportAllChanges:!0})}function _(){return u.onTTFB((e=>{y("ttfb",{metric:e}),g=e}))}function E(){return o.onINP((e=>{y("inp",{metric:e}),v=e}))}function k(e,t,r,n,s=!1){let i;return T(e,t),h[e]||(i=r(),h[e]=!0),n&&t({metric:n}),I(e,t,s?i:undefined)}function T(e,t){d[e]=d[e]||[],d[e].push(t)}function I(e,t,r){return()=>{r&&r();const n=d[e];if(!n)return;const s=n.indexOf(t);-1!==s&&n.splice(s,1)}}r.addClsInstrumentationHandler=function(e,t=!1){return k("cls",e,b,f,t)},r.addFidInstrumentationHandler=function(e){return k("fid",e,w,p)},r.addInpInstrumentationHandler=function(e){return k("inp",e,E,v)},r.addLcpInstrumentationHandler=function(e,t=!1){return k("lcp",e,S,m,t)},r.addPerformanceInstrumentationHandler=function(e,t){return T(e,t),h[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);l.observe(e,(t=>{y(e,{entries:t})}),t)}(e),h[e]=!0),I(e,t)},r.addTtfbInstrumentationHandler=function(e){return k("ttfb",e,_,g)},r.isPerformanceEventTiming=function(e){return"duration"in e}}}},{package:"@sentry/browser>@sentry-internal/browser-utils",file:"node_modules/@sentry-internal/browser-utils/build/cjs/metrics/instrument.js"}],[2825,{"../types.js":2843,"@sentry/core":2892},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("@sentry/core"),s=e("../types.js");r.getBrowserPerformanceAPI=function(){return s.WINDOW&&s.WINDOW.addEventListener&&s.WINDOW.performance},r.isMeasurementValue=function(e){return"number"==typeof e&&isFinite(e)},r.msToSec=function(e){return e/1e3},r.startAndEndSpan=function(e,t,r,{...s}){const i=n.spanToJSON(e).start_timestamp;return i&&i>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),n.withActiveSpan(e,(()=>{const e=n.startInactiveSpan({startTime:t,...s});return e&&e.end(r),e}))}}}},{package:"@sentry/browser>@sentry-internal/browser-utils",file:"node_modules/@sentry-internal/browser-utils/build/cjs/metrics/utils.js"}],[2826,{"./lib/bindReporter.js":2830,"./lib/initMetric.js":2835,"./lib/observe.js":2836,"./lib/onHidden.js":2837,"./lib/runOnce.js":2839,"./onFCP.js":2841},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("./lib/bindReporter.js"),s=e("./lib/initMetric.js"),i=e("./lib/observe.js"),a=e("./lib/onHidden.js"),o=e("./lib/runOnce.js"),c=e("./onFCP.js"),l=[.1,.25];r.CLSThresholds=l,r.onCLS=(e,t={})=>{c.onFCP(o.runOnce((()=>{const r=s.initMetric("CLS",0);let o,c=0,u=[];const d=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=u[0],r=u[u.length-1];c&&t&&r&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(c+=e.value,u.push(e)):(c=e.value,u=[e])}})),c>r.value&&(r.value=c,r.entries=u,o())},h=i.observe("layout-shift",d);h&&(o=n.bindReporter(e,r,l,t.reportAllChanges),a.onHidden((()=>{d(h.takeRecords()),o(!0)})),setTimeout(o,0))})))}}}},{package:"@sentry/browser>@sentry-internal/browser-utils",file:"node_modules/@sentry-internal/browser-utils/build/cjs/metrics/web-vitals/getCLS.js"}],[2827,{"./lib/bindReporter.js":2830,"./lib/getVisibilityWatcher.js":2834,"./lib/initMetric.js":2835,"./lib/observe.js":2836,"./lib/onHidden.js":2837,"./lib/runOnce.js":2839,"./lib/whenActivated.js":2840},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("./lib/bindReporter.js"),s=e("./lib/getVisibilityWatcher.js"),i=e("./lib/initMetric.js"),a=e("./lib/observe.js"),o=e("./lib/onHidden.js"),c=e("./lib/runOnce.js"),l=e("./lib/whenActivated.js"),u=[100,300];r.FIDThresholds=u,r.onFID=(e,t={})=>{l.whenActivated((()=>{const r=s.getVisibilityWatcher(),l=i.initMetric("FID");let d;const h=e=>{e.startTime<r.firstHiddenTime&&(l.value=e.processingStart-e.startTime,l.entries.push(e),d(!0))},f=e=>{e.forEach(h)},p=a.observe("first-input",f);d=n.bindReporter(e,l,u,t.reportAllChanges),p&&o.onHidden(c.runOnce((()=>{f(p.takeRecords()),p.disconnect()})))}))}}}},{package:"@sentry/browser>@sentry-internal/browser-utils",file:"node_modules/@sentry-internal/browser-utils/build/cjs/metrics/web-vitals/getFID.js"}]],[],{});